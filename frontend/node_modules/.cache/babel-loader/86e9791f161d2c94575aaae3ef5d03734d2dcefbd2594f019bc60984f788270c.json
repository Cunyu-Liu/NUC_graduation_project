{"ast":null,"code":"import { createVNode, mergeProps, isVNode } from 'vue';\nimport { tryCall } from '../utils.mjs';\nimport Row$1 from '../components/row.mjs';\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nconst RowRenderer = (props, {\n  slots\n}) => {\n  const {\n    columns,\n    columnsStyles,\n    depthMap,\n    expandColumnKey,\n    expandedRowKeys,\n    estimatedRowHeight,\n    hasFixedColumns,\n    rowData,\n    rowIndex,\n    style,\n    isScrolling,\n    rowProps,\n    rowClass,\n    rowKey,\n    rowEventHandlers,\n    ns,\n    onRowHovered,\n    onRowExpanded\n  } = props;\n  const rowKls = tryCall(rowClass, {\n    columns,\n    rowData,\n    rowIndex\n  }, \"\");\n  const additionalProps = tryCall(rowProps, {\n    columns,\n    rowData,\n    rowIndex\n  });\n  const _rowKey = rowData[rowKey];\n  const depth = depthMap[_rowKey] || 0;\n  const canExpand = Boolean(expandColumnKey);\n  const isFixedRow = rowIndex < 0;\n  const kls = [ns.e(\"row\"), rowKls, ns.is(\"expanded\", canExpand && expandedRowKeys.includes(_rowKey)), ns.is(\"fixed\", !depth && isFixedRow), ns.is(\"customized\", Boolean(slots.row)), {\n    [ns.e(`row-depth-${depth}`)]: canExpand && rowIndex >= 0\n  }];\n  const onRowHover = hasFixedColumns ? onRowHovered : void 0;\n  const _rowProps = {\n    ...additionalProps,\n    columns,\n    columnsStyles,\n    class: kls,\n    depth,\n    expandColumnKey,\n    estimatedRowHeight: isFixedRow ? void 0 : estimatedRowHeight,\n    isScrolling,\n    rowIndex,\n    rowData,\n    rowKey: _rowKey,\n    rowEventHandlers,\n    style\n  };\n  const handlerMouseEnter = e => {\n    onRowHover == null ? void 0 : onRowHover({\n      hovered: true,\n      rowKey: _rowKey,\n      event: e,\n      rowData,\n      rowIndex\n    });\n  };\n  const handlerMouseLeave = e => {\n    onRowHover == null ? void 0 : onRowHover({\n      hovered: false,\n      rowKey: _rowKey,\n      event: e,\n      rowData,\n      rowIndex\n    });\n  };\n  return createVNode(Row$1, mergeProps(_rowProps, {\n    \"onRowExpand\": onRowExpanded,\n    \"onMouseenter\": handlerMouseEnter,\n    \"onMouseleave\": handlerMouseLeave,\n    \"rowkey\": _rowKey\n  }), _isSlot(slots) ? slots : {\n    default: () => [slots]\n  });\n};\nvar Row = RowRenderer;\nexport { Row as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","RowRenderer","props","slots","columns","columnsStyles","depthMap","expandColumnKey","expandedRowKeys","estimatedRowHeight","hasFixedColumns","rowData","rowIndex","style","isScrolling","rowProps","rowClass","rowKey","rowEventHandlers","ns","onRowHovered","onRowExpanded","rowKls","tryCall","additionalProps","_rowKey","depth","canExpand","Boolean","isFixedRow","kls","e","is","includes","row","onRowHover","_rowProps","class","handlerMouseEnter","hovered","event","handlerMouseLeave","createVNode","Row$1","mergeProps","default","Row"],"sources":["../../../../../../../packages/components/table-v2/src/renderers/row.tsx"],"sourcesContent":["import { Row } from '../components'\nimport { tryCall } from '../utils'\n\nimport type {\n  ComponentInternalInstance,\n  FunctionalComponent,\n  UnwrapNestedRefs,\n} from 'vue'\nimport type { UseNamespaceReturn } from '@element-plus/hooks'\nimport type { UseTableReturn } from '../use-table'\nimport type { TableV2Props } from '../table'\nimport type { TableGridRowSlotParams } from '../table-grid'\n\ntype RowRendererProps = TableGridRowSlotParams &\n  Pick<\n    TableV2Props,\n    | 'expandColumnKey'\n    | 'estimatedRowHeight'\n    | 'rowProps'\n    | 'rowClass'\n    | 'rowKey'\n    | 'rowEventHandlers'\n  > &\n  UnwrapNestedRefs<\n    Pick<\n      UseTableReturn,\n      | 'depthMap'\n      | 'expandedRowKeys'\n      | 'hasFixedColumns'\n      | 'onRowHovered'\n      | 'onRowExpanded'\n      | 'columnsStyles'\n    >\n  > & {\n    ns: UseNamespaceReturn\n    tableInstance?: ComponentInternalInstance\n  }\n\nconst RowRenderer: FunctionalComponent<RowRendererProps> = (\n  props,\n  { slots }\n) => {\n  const {\n    columns,\n    columnsStyles,\n    depthMap,\n    expandColumnKey,\n    expandedRowKeys,\n    estimatedRowHeight,\n    hasFixedColumns,\n    rowData,\n    rowIndex,\n    style,\n    isScrolling,\n    rowProps,\n    rowClass,\n    rowKey,\n    rowEventHandlers,\n    ns,\n    onRowHovered,\n    onRowExpanded,\n  } = props\n\n  const rowKls = tryCall(rowClass, { columns, rowData, rowIndex }, '')\n  const additionalProps = tryCall(rowProps, {\n    columns,\n    rowData,\n    rowIndex,\n  })\n  const _rowKey = rowData[rowKey]\n  const depth = depthMap[_rowKey] || 0\n  const canExpand = Boolean(expandColumnKey)\n  const isFixedRow = rowIndex < 0\n  const kls = [\n    ns.e('row'),\n    rowKls,\n    ns.is('expanded', canExpand && expandedRowKeys.includes(_rowKey)),\n    ns.is('fixed', !depth && isFixedRow),\n    ns.is('customized', Boolean(slots.row)),\n    {\n      [ns.e(`row-depth-${depth}`)]: canExpand && rowIndex >= 0,\n    },\n  ]\n\n  const onRowHover = hasFixedColumns ? onRowHovered : undefined\n\n  const _rowProps = {\n    ...additionalProps,\n    columns,\n    columnsStyles,\n    class: kls,\n    depth,\n    expandColumnKey,\n    estimatedRowHeight: isFixedRow ? undefined : estimatedRowHeight,\n    isScrolling,\n    rowIndex,\n    rowData,\n    rowKey: _rowKey,\n    rowEventHandlers,\n    style,\n  }\n\n  const handlerMouseEnter = (e: MouseEvent) => {\n    onRowHover?.({\n      hovered: true,\n      rowKey: _rowKey,\n      event: e,\n      rowData,\n      rowIndex,\n    })\n  }\n\n  const handlerMouseLeave = (e: MouseEvent) => {\n    onRowHover?.({\n      hovered: false,\n      rowKey: _rowKey,\n      event: e,\n      rowData,\n      rowIndex,\n    })\n  }\n\n  return (\n    <Row\n      {..._rowProps}\n      onRowExpand={onRowExpanded}\n      onMouseenter={handlerMouseEnter}\n      onMouseleave={handlerMouseLeave}\n      rowkey={_rowKey}\n    >\n      {slots}\n    </Row>\n  )\n}\n\nexport default RowRenderer\n"],"mappings":";;;AACkC,SAAAA,QAAAC,CAAA;EAAA,cAAAA,CAAA,mBAAAC,MAAA,CAAAC,SAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAJ,CAAA,4BAAAK,OAAA,CAAAL,CAAA;AAAA;AAqClC,MAAMM,WAAA,GAAqDA,CACzDC,KACA;EAAEC;AAAM,CACL;EACG;IACJC,OAAA;IACAC,aAAA;IACAC,QAAA;IACAC,eAAA;IACAC,eAAA;IACAC,kBAAA;IACAC,eAAA;IACAC,OAAA;IACAC,QAAA;IACAC,KAAA;IACAC,WAAA;IACAC,QAAA;IACAC,QAAA;IACAC,MAAA;IACAC,gBAAA;IACAC,EAAA;IACAC,YAAA;IACAC;EAAA,CACE,GAAAnB,KAAA;EAEE,MAAAoB,MAAA,GAASC,OAAA,CAAQP,QAAU;IAAEZ,OAAA;IAASO,OAAA;IAASC;EAAA,GAAY,EAAE;EAC7D,MAAAY,eAAA,GAAkBD,OAAA,CAAQR,QAAU;IACxCX,OAAA;IACAO,OAAA;IACAC;EAAA,CACD;EACD,MAAMa,OAAA,GAAUd,OAAQ,CAAAM,MAAA;EAClB,MAAAS,KAAA,GAAQpB,QAAA,CAASmB,OAAY;EAC7B,MAAAE,SAAA,GAAYC,OAAA,CAAQrB,eAAe;EACzC,MAAMsB,UAAA,GAAajB,QAAW;EAC9B,MAAMkB,GAAM,IACVX,EAAG,CAAAY,CAAA,CAAE,KAAK,GACVT,MACA,EAAAH,EAAA,CAAGa,EAAG,aAAYL,SAAa,IAAAnB,eAAA,CAAgByB,QAAA,CAASR,OAAO,CAAC,CAChE,EAAAN,EAAA,CAAGa,EAAG,UAAS,CAACN,KAAA,IAASG,UAAU,GACnCV,EAAG,CAAAa,EAAA,CAAG,YAAc,EAAAJ,OAAA,CAAQzB,KAAM,CAAA+B,GAAG,CAAC,CACtC;IACE,CAACf,EAAG,CAAAY,CAAA,CAAE,aAAaL,KAAO,MAAIC,SAAA,IAAaf,QAAY;EAAA,CACxD;EAGG,MAAAuB,UAAA,GAAazB,eAAA,GAAkBU,YAAe;EAEpD,MAAMgB,SAAY;IAChB,GAAGZ,eAAA;IACHpB,OAAA;IACAC,aAAA;IACAgC,KAAO,EAAAP,GAAA;IACPJ,KAAA;IACAnB,eAAA;IACAE,kBAAA,EAAoBoB,UAAA,GAAa,KAAY,IAAApB,kBAAA;IAC7CK,WAAA;IACAF,QAAA;IACAD,OAAA;IACAM,MAAQ,EAAAQ,OAAA;IACRP,gBAAA;IACAL;EAAA,CACF;EAEA,MAAMyB,iBAAA,GAAuCP,CAAA;IAC9BI,UAAA,oBAAAA,UAAA;MACXI,OAAS;MACTtB,MAAQ,EAAAQ,OAAA;MACRe,KAAO,EAAAT,CAAA;MACPpB,OAAA;MACAC;IAAA,CACF;EAAA,CACF;EAEA,MAAM6B,iBAAA,GAAuCV,CAAA;IAC9BI,UAAA,oBAAAA,UAAA;MACXI,OAAS;MACTtB,MAAQ,EAAAQ,OAAA;MACRe,KAAO,EAAAT,CAAA;MACPpB,OAAA;MACAC;IAAA,CACF;EAAA,CACF;EAEA,OAAA8B,WAAA,CAAAC,KAAA,EAAAC,UAAA,CAEQR,SAAS;IAAA,aACA,EAAAf,aAAA;IAAa,cACZ,EAAAiB,iBAAA;IAAiB,cACjB,EAAAG,iBAAA;IAAiB,QACvB,EAAAhB;EAAA,CAAO,GAAA/B,OAEd,CAAAS,KAAK,IAALA,KAAK;IAAA0C,OAAA,EAAAA,CAAA,MAAL1C,KAAK;EAAA;AAGZ;AAEA,IAAA2C,GAAA,GAAe7C,WAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}