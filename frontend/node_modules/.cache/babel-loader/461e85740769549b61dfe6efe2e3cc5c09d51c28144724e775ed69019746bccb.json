{"ast":null,"code":"import { defineComponent, inject, computed, ref, onMounted, openBlock, createElementBlock, normalizeClass, normalizeStyle, renderSlot, createCommentVNode } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nimport { selectKey } from './token.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { BORDER_HORIZONTAL_WIDTH } from '../../../constants/form.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _sfc_main = defineComponent({\n  name: \"ElSelectDropdown\",\n  componentName: \"ElSelectDropdown\",\n  setup() {\n    const select = inject(selectKey);\n    const ns = useNamespace(\"select\");\n    const popperClass = computed(() => select.props.popperClass);\n    const isMultiple = computed(() => select.props.multiple);\n    const isFitInputWidth = computed(() => select.props.fitInputWidth);\n    const minWidth = ref(\"\");\n    function updateMinWidth() {\n      var _a;\n      const offsetWidth = (_a = select.selectRef) == null ? void 0 : _a.offsetWidth;\n      if (offsetWidth) {\n        minWidth.value = `${offsetWidth - BORDER_HORIZONTAL_WIDTH}px`;\n      } else {\n        minWidth.value = \"\";\n      }\n    }\n    onMounted(() => {\n      updateMinWidth();\n      useResizeObserver(select.selectRef, updateMinWidth);\n    });\n    return {\n      ns,\n      minWidth,\n      popperClass,\n      isMultiple,\n      isFitInputWidth\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(\"dropdown\"), _ctx.ns.is(\"multiple\", _ctx.isMultiple), _ctx.popperClass]),\n    style: normalizeStyle({\n      [_ctx.isFitInputWidth ? \"width\" : \"minWidth\"]: _ctx.minWidth\n    })\n  }, [_ctx.$slots.header ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: normalizeClass(_ctx.ns.be(\"dropdown\", \"header\"))\n  }, [renderSlot(_ctx.$slots, \"header\")], 2)) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\"), _ctx.$slots.footer ? (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    class: normalizeClass(_ctx.ns.be(\"dropdown\", \"footer\"))\n  }, [renderSlot(_ctx.$slots, \"footer\")], 2)) : createCommentVNode(\"v-if\", true)], 6);\n}\nvar ElSelectMenu = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue\"]]);\nexport { ElSelectMenu as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","componentName","setup","select","inject","selectKey","ns","useNamespace","popperClass","computed","props","isMultiple","multiple","isFitInputWidth","fitInputWidth","minWidth","ref","updateMinWidth","_a","offsetWidth","selectRef","value","BORDER_HORIZONTAL_WIDTH","onMounted","useResizeObserver","openBlock","createElementBlock","class","normalizeClass","_ctx","b","is","style","normalizeStyle","$slots","header","key","be","renderSlot","footer"],"sources":["../../../../../../packages/components/select/src/select-dropdown.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[ns.b('dropdown'), ns.is('multiple', isMultiple), popperClass]\"\n    :style=\"{ [isFitInputWidth ? 'width' : 'minWidth']: minWidth }\"\n  >\n    <div v-if=\"$slots.header\" :class=\"ns.be('dropdown', 'header')\">\n      <slot name=\"header\" />\n    </div>\n    <slot />\n    <div v-if=\"$slots.footer\" :class=\"ns.be('dropdown', 'footer')\">\n      <slot name=\"footer\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, onMounted, ref } from 'vue'\nimport { useResizeObserver } from '@vueuse/core'\nimport { useNamespace } from '@element-plus/hooks'\nimport { selectKey } from './token'\nimport { BORDER_HORIZONTAL_WIDTH } from '@element-plus/constants'\n\nexport default defineComponent({\n  name: 'ElSelectDropdown',\n\n  componentName: 'ElSelectDropdown',\n\n  setup() {\n    const select = inject(selectKey)!\n    const ns = useNamespace('select')\n\n    // computed\n    const popperClass = computed(() => select.props.popperClass)\n    const isMultiple = computed(() => select.props.multiple)\n    const isFitInputWidth = computed(() => select.props.fitInputWidth)\n    const minWidth = ref('')\n\n    function updateMinWidth() {\n      const offsetWidth = select.selectRef?.offsetWidth\n      if (offsetWidth) {\n        minWidth.value = `${offsetWidth - BORDER_HORIZONTAL_WIDTH}px`\n      } else {\n        minWidth.value = ''\n      }\n    }\n\n    onMounted(() => {\n      // TODO: updatePopper\n      // popper.value.update()\n      updateMinWidth()\n      useResizeObserver(select.selectRef, updateMinWidth)\n    })\n\n    return {\n      ns,\n      minWidth,\n      popperClass,\n      isMultiple,\n      isFitInputWidth,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;AAsBA,MAAKA,SAAA,GAAaC,eAAa;EAC7BC,IAAM;EAENC,aAAe;EAEfC,KAAQA,CAAA;IACA,MAAAC,MAAA,GAASC,MAAA,CAAOC,SAAS;IACzB,MAAAC,EAAA,GAAKC,YAAA,CAAa,QAAQ;IAGhC,MAAMC,WAAc,GAAAC,QAAA,CAAS,MAAMN,MAAA,CAAOO,KAAA,CAAMF,WAAW;IAC3D,MAAMG,UAAa,GAAAF,QAAA,CAAS,MAAMN,MAAA,CAAOO,KAAA,CAAME,QAAQ;IACvD,MAAMC,eAAkB,GAAAJ,QAAA,CAAS,MAAMN,MAAA,CAAOO,KAAA,CAAMI,aAAa;IAC3D,MAAAC,QAAA,GAAWC,GAAA,CAAI,EAAE;IAEvB,SAASC,cAAiBA,CAAA;MArB9B,IAAAC,EAAA;MAsBY,MAAAC,WAAA,IAAcD,EAAO,GAAAf,MAAA,CAAAiB,SAAA,KAAP,IAAkB,YAAAF,EAAA,CAAAC,WAAA;MACtC,IAAIA,WAAa;QACNJ,QAAA,CAAAM,KAAA,GAAQ,GAAGF,WAAc,GAAAG,uBAAA;MAAA,CAC7B;QACLP,QAAA,CAASM,KAAQ;MAAA;IACnB;IAGFE,SAAA,CAAU,MAAM;MAGCN,cAAA;MACGO,iBAAA,CAAArB,MAAA,CAAOiB,SAAA,EAAWH,cAAc;IAAA,CACnD;IAEM;MACLX,EAAA;MACAS,QAAA;MACAP,WAAA;MACAG,UAAA;MACAE;IAAA,CACF;EAAA;AAEJ,CAAC;;EA5DC,OAAAY,SAAA,IAAAC,kBAAA,CAWM;IAVHC,KAAA,EAAKC,cAAG,EAAAC,IAAA,CAAAvB,EAAA,CAAGwB,CAAA,CAAC,aAAcD,IAAA,CAAAvB,EAAA,CAAGyB,EAAA,CAAE,UAAa,EAAAF,IAAA,CAAUlB,UAAA,CAAG,EAAAkB,IAAA,CAAWrB,WAAA;IACpEwB,KAAA,EAAKC,cAAA;MAAA,CAAKJ,IAAA,CAAehB,eAAA,0BAA0BgB,IAAQ,CAAAd;IAAA;EAAA,IAEjDc,IAAA,CAAAK,MAAA,CAAOC,MAAlB,IAAAV,SAAA,IAAAC,kBAAA,CAEM;IAAAU,GAAA;IAFqBT,KAAA,EAAKC,cAAE,CAAAC,IAAA,CAAAvB,EAAA,CAAG+B,EAAE;EAAA,IACrCC,UAAA,CAAsBT,IAAA,CAAAK,MAAA,e,uCAExBI,UAAA,CAAQT,IAAA,CAAAK,MAAA,cACGL,IAAA,CAAAK,MAAA,CAAOK,MAAlB,IAAAd,SAAA,IAAAC,kBAAA,CAEM;IAAAU,GAAA;IAFqBT,KAAA,EAAKC,cAAE,CAAAC,IAAA,CAAAvB,EAAA,CAAG+B,EAAE;EAAA,IACrCC,UAAA,CAAsBT,IAAA,CAAAK,MAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}