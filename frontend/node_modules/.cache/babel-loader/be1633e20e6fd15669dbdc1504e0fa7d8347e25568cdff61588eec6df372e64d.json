{"ast":null,"code":"const NODE_KEY = \"$treeNodeId\";\nconst markNodeData = function (node, data) {\n  if (!data || data[NODE_KEY]) return;\n  Object.defineProperty(data, NODE_KEY, {\n    value: node.id,\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n};\nconst getNodeKey = (key, data) => data == null ? void 0 : data[key || NODE_KEY];\nconst handleCurrentChange = (store, emit, setCurrent) => {\n  const preCurrentNode = store.value.currentNode;\n  setCurrent();\n  const currentNode = store.value.currentNode;\n  if (preCurrentNode === currentNode) return;\n  emit(\"current-change\", currentNode ? currentNode.data : null, currentNode);\n};\nexport { NODE_KEY, getNodeKey, handleCurrentChange, markNodeData };","map":{"version":3,"names":["NODE_KEY","markNodeData","node","data","Object","defineProperty","value","id","enumerable","configurable","writable","getNodeKey","key","handleCurrentChange","store","emit","setCurrent","preCurrentNode","currentNode"],"sources":["../../../../../../../packages/components/tree/src/model/util.ts"],"sourcesContent":["import type Node from './node'\nimport type { TreeEmits } from '../tree'\nimport type { RootTreeType, TreeKey, TreeNodeData } from '../tree.type'\n\nexport const NODE_KEY = '$treeNodeId'\n\nexport const markNodeData = function (\n  node: Node,\n  data: TreeNodeData | null\n): void {\n  if (!data || data[NODE_KEY]) return\n  Object.defineProperty(data, NODE_KEY, {\n    value: node.id,\n    enumerable: false,\n    configurable: false,\n    writable: false,\n  })\n}\n\nexport const getNodeKey = (key: TreeKey | undefined, data: TreeNodeData) =>\n  data?.[key || NODE_KEY]\n\nexport const handleCurrentChange = (\n  store: RootTreeType['store'],\n  emit: TreeEmits,\n  setCurrent: () => void\n) => {\n  const preCurrentNode = store.value.currentNode\n  setCurrent()\n  const currentNode = store.value.currentNode\n  if (preCurrentNode === currentNode) return\n\n  emit('current-change', currentNode ? currentNode.data : null, currentNode)\n}\n"],"mappings":"AAIO,MAAMA,QAAW;AAEX,MAAAC,YAAA,GAAe,SAAAA,CAC1BC,IAAA,EACAC,IACM;EACF,KAACA,IAAA,IAAQA,IAAK,CAAAH,QAAA,GAAW;EACtBI,MAAA,CAAAC,cAAA,CAAeF,IAAA,EAAMH,QAAU;IACpCM,KAAA,EAAOJ,IAAK,CAAAK,EAAA;IACZC,UAAY;IACZC,YAAc;IACdC,QAAU;EAAA,CACX;AACH;AAEO,MAAMC,UAAa,GAAAA,CAACC,GAA0B,EAAAT,IAAA,KACnDA,IAAA,oBAAAA,IAAA,CAAOS,GAAO,IAAAZ,QAAA;AAET,MAAMa,mBAAsB,GAAAA,CACjCC,KACA,EAAAC,IAAA,EACAC,UACG;EACG,MAAAC,cAAA,GAAiBH,KAAA,CAAMR,KAAM,CAAAY,WAAA;EACxBF,UAAA;EACL,MAAAE,WAAA,GAAcJ,KAAA,CAAMR,KAAM,CAAAY,WAAA;EAChC,IAAID,cAAmB,KAAAC,WAAA,EAAa;EAEpCH,IAAA,CAAK,gBAAkB,EAAAG,WAAA,GAAcA,WAAY,CAAAf,IAAA,GAAO,MAAMe,WAAW;AAC3E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}