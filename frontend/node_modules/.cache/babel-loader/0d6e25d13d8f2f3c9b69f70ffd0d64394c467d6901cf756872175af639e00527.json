{"ast":null,"code":"import { defineComponent, inject, computed, resolveComponent, openBlock, createElementBlock, Fragment, normalizeClass, createCommentVNode, createElementVNode, mergeProps, withModifiers, createBlock, withCtx, renderSlot, resolveDynamicComponent } from 'vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { dropdownItemProps } from './dropdown.mjs';\nimport { DROPDOWN_INJECTION_KEY } from './tokens.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/roving-focus-group.mjs';\nimport { ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/tokens.mjs';\nimport { COLLECTION_ITEM_SIGN } from '../../collection/src/collection.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { composeEventHandlers, getEventCode } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nconst _sfc_main = defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    ElIcon\n  },\n  props: dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\", \"clickimpl\"],\n  setup(_, {\n    emit\n  }) {\n    const ns = useNamespace(\"dropdown\");\n    const {\n      role: menuRole\n    } = inject(DROPDOWN_INJECTION_KEY, void 0);\n    const {\n      collectionItemRef: rovingFocusCollectionItemRef\n    } = inject(COLLECTION_ITEM_INJECTION_KEY, void 0);\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0);\n    const itemRef = composeRefs(rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    const role = computed(() => {\n      if (menuRole.value === \"menu\") {\n        return \"menuitem\";\n      } else if (menuRole.value === \"navigation\") {\n        return \"link\";\n      }\n      return \"button\";\n    });\n    const handleKeydown = composeEventHandlers(e => {\n      const code = getEventCode(e);\n      if ([EVENT_CODE.enter, EVENT_CODE.numpadEnter, EVENT_CODE.space].includes(code)) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"clickimpl\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: \"\"\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-disabled\", \"tabindex\", \"role\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  return openBlock(), createElementBlock(Fragment, null, [_ctx.divided ? (openBlock(), createElementBlock(\"li\", {\n    key: 0,\n    role: \"separator\",\n    class: normalizeClass(_ctx.ns.bem(\"menu\", \"item\", \"divided\"))\n  }, null, 2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"li\", mergeProps({\n    ref: _ctx.itemRef\n  }, {\n    ..._ctx.dataset,\n    ..._ctx.$attrs\n  }, {\n    \"aria-disabled\": _ctx.disabled,\n    class: [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n    tabindex: _ctx.tabIndex,\n    role: _ctx.role,\n    onClick: _cache[0] || (_cache[0] = e => _ctx.$emit(\"clickimpl\", e)),\n    onFocus: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n    onKeydown: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.handleKeydown && _ctx.handleKeydown(...args), [\"self\"])),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => _ctx.handleMousedown && _ctx.handleMousedown(...args)),\n    onPointermove: _cache[4] || (_cache[4] = e => _ctx.$emit(\"pointermove\", e)),\n    onPointerleave: _cache[5] || (_cache[5] = e => _ctx.$emit(\"pointerleave\", e))\n  }), [_ctx.icon || _ctx.$slots.icon ? (openBlock(), createBlock(_component_el_icon, {\n    key: 0\n  }, {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"icon\", {}, () => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.icon)))])]),\n    _: 3\n  })) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\")], 16, _hoisted_1)], 64);\n}\nvar ElDropdownItemImpl = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue\"]]);\nexport { ElDropdownItemImpl as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","ElIcon","props","dropdownItemProps","emits","setup","_","emit","ns","useNamespace","role","menuRole","inject","DROPDOWN_INJECTION_KEY","collectionItemRef","rovingFocusCollectionItemRef","COLLECTION_ITEM_INJECTION_KEY","rovingFocusGroupItemRef","tabIndex","handleFocus","handleKeydown","handleItemKeydown","handleMousedown","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","itemRef","composeRefs","computed","value","composeEventHandlers","e","code","getEventCode","EVENT_CODE","enter","numpadEnter","space","includes","preventDefault","stopImmediatePropagation","dataset","COLLECTION_ITEM_SIGN","_ctx","divided","openBlock","createElementBlock","key","class","normalizeClass","bem","createElementVNode","mergeProps","ref","$attrs","disabled","be","is","tabindex","onClick","_cache","$emit","onFocus","args","onKeydown","withModifiers","onMousedown","onPointermove","onPointerleave","icon","$slots","createBlock","_component_el_icon","default","withCtx","renderSlot","resolveDynamicComponent","_hoisted_1"],"sources":["../../../../../../packages/components/dropdown/src/dropdown-item-impl.vue"],"sourcesContent":["<template>\n  <li\n    v-if=\"divided\"\n    role=\"separator\"\n    :class=\"ns.bem('menu', 'item', 'divided')\"\n  />\n  <li\n    :ref=\"itemRef\"\n    v-bind=\"{ ...dataset, ...$attrs }\"\n    :aria-disabled=\"disabled\"\n    :class=\"[ns.be('menu', 'item'), ns.is('disabled', disabled)]\"\n    :tabindex=\"tabIndex\"\n    :role=\"role\"\n    @click=\"(e) => $emit('clickimpl', e)\"\n    @focus=\"handleFocus\"\n    @keydown.self=\"handleKeydown\"\n    @mousedown=\"handleMousedown\"\n    @pointermove=\"(e) => $emit('pointermove', e)\"\n    @pointerleave=\"(e) => $emit('pointerleave', e)\"\n  >\n    <el-icon v-if=\"icon || $slots.icon\">\n      <slot name=\"icon\">\n        <component :is=\"icon\" />\n      </slot>\n    </el-icon>\n    <slot />\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject } from 'vue'\nimport {\n  ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,\n  ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n} from '@element-plus/components/roving-focus-group'\nimport { COLLECTION_ITEM_SIGN } from '@element-plus/components/collection'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  composeEventHandlers,\n  composeRefs,\n  getEventCode,\n} from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport { dropdownItemProps } from './dropdown'\nimport { DROPDOWN_INJECTION_KEY } from './tokens'\n\nexport default defineComponent({\n  name: 'DropdownItemImpl',\n  components: {\n    ElIcon,\n  },\n  props: dropdownItemProps,\n  emits: ['pointermove', 'pointerleave', 'click', 'clickimpl'],\n  setup(_, { emit }) {\n    const ns = useNamespace('dropdown')\n\n    const { role: menuRole } = inject(DROPDOWN_INJECTION_KEY, undefined)!\n\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(\n      ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n      undefined\n    )!\n\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown,\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, undefined)!\n\n    const itemRef = composeRefs(\n      rovingFocusCollectionItemRef,\n      rovingFocusGroupItemRef\n    )\n\n    const role = computed<string>(() => {\n      if (menuRole.value === 'menu') {\n        return 'menuitem'\n      } else if (menuRole.value === 'navigation') {\n        return 'link'\n      }\n      return 'button'\n    })\n\n    const handleKeydown = composeEventHandlers((e: KeyboardEvent) => {\n      const code = getEventCode(e)\n\n      if (\n        [EVENT_CODE.enter, EVENT_CODE.numpadEnter, EVENT_CODE.space].includes(\n          code\n        )\n      ) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n        emit('clickimpl', e)\n        return true\n      }\n    }, handleItemKeydown)\n\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: '',\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown,\n    }\n  },\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}