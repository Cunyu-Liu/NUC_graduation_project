{"ast":null,"code":"import { isClient, unrefElement } from '@vueuse/core';\nconst buildPopperOptions = (props, modifiers = []) => {\n  const {\n    placement,\n    strategy,\n    popperOptions\n  } = props;\n  const options = {\n    placement,\n    strategy,\n    ...popperOptions,\n    modifiers: [...genModifiers(props), ...modifiers]\n  };\n  deriveExtraModifiers(options, popperOptions == null ? void 0 : popperOptions.modifiers);\n  return options;\n};\nconst unwrapMeasurableEl = $el => {\n  if (!isClient) return;\n  return unrefElement($el);\n};\nfunction genModifiers(options) {\n  const {\n    offset,\n    gpuAcceleration,\n    fallbackPlacements\n  } = options;\n  return [{\n    name: \"offset\",\n    options: {\n      offset: [0, offset != null ? offset : 12]\n    }\n  }, {\n    name: \"preventOverflow\",\n    options: {\n      padding: {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      }\n    }\n  }, {\n    name: \"flip\",\n    options: {\n      padding: 5,\n      fallbackPlacements\n    }\n  }, {\n    name: \"computeStyles\",\n    options: {\n      gpuAcceleration\n    }\n  }];\n}\nfunction deriveExtraModifiers(options, modifiers) {\n  if (modifiers) {\n    options.modifiers = [...options.modifiers, ...(modifiers != null ? modifiers : [])];\n  }\n}\nexport { buildPopperOptions, unwrapMeasurableEl };","map":{"version":3,"names":["buildPopperOptions","props","modifiers","placement","strategy","popperOptions","options","genModifiers","deriveExtraModifiers","unwrapMeasurableEl","$el","isClient","unrefElement","offset","gpuAcceleration","fallbackPlacements","name","padding","top","bottom","left","right"],"sources":["../../../../../../packages/components/popper/src/utils.ts"],"sourcesContent":["import { unrefElement } from '@vueuse/core'\nimport { isClient } from '@element-plus/utils'\n\nimport type { ComponentPublicInstance } from 'vue'\nimport type { MaybeRef } from '@vueuse/core'\nimport type { Modifier } from '@popperjs/core'\nimport type { Measurable } from './constants'\nimport type { PopperCoreConfigProps } from './content'\n\nexport const buildPopperOptions = (\n  props: PopperCoreConfigProps,\n  modifiers: Modifier<any, any>[] = []\n) => {\n  const { placement, strategy, popperOptions } = props\n  const options = {\n    placement,\n    strategy,\n    ...popperOptions,\n    modifiers: [...genModifiers(props), ...modifiers],\n  }\n\n  deriveExtraModifiers(options, popperOptions?.modifiers)\n  return options\n}\n\nexport const unwrapMeasurableEl = (\n  $el: MaybeRef<Measurable | undefined | ComponentPublicInstance>\n) => {\n  if (!isClient) return\n  return unrefElement($el as HTMLElement)\n}\n\nfunction genModifiers(options: PopperCoreConfigProps) {\n  const { offset, gpuAcceleration, fallbackPlacements } = options\n  return [\n    {\n      name: 'offset',\n      options: {\n        offset: [0, offset ?? 12],\n      },\n    },\n    {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n        },\n      },\n    },\n    {\n      name: 'flip',\n      options: {\n        padding: 5,\n        fallbackPlacements,\n      },\n    },\n    {\n      name: 'computeStyles',\n      options: {\n        gpuAcceleration,\n      },\n    },\n  ]\n}\n\nfunction deriveExtraModifiers(\n  options: any,\n  modifiers: PopperCoreConfigProps['popperOptions']['modifiers']\n) {\n  if (modifiers) {\n    options.modifiers = [...options.modifiers, ...(modifiers ?? [])]\n  }\n}\n"],"mappings":";AASO,MAAMA,kBAAqB,GAAAA,CAChCC,KACA,EAAAC,SAAA,GAAkC,EAC/B;EACH,MAAM;IAAEC,SAAA;IAAWC,QAAU;IAAAC;EAAA,CAAkB,GAAAJ,KAAA;EAC/C,MAAMK,OAAU;IACdH,SAAA;IACAC,QAAA;IACA,GAAGC,aAAA;IACHH,SAAA,EAAW,CAAC,GAAGK,YAAA,CAAaN,KAAK,GAAG,GAAGC,SAAS;EAAA,CAClD;EAEqBM,oBAAA,CAAAF,OAAA,EAASD,aAAA,oBAAAA,aAAA,CAAeH,SAAS;EAC/C,OAAAI,OAAA;AACT;AAEa,MAAAG,kBAAA,GACXC,GACG;EACH,IAAI,CAACC,QAAA,EAAU;EACf,OAAOC,YAAA,CAAaF,GAAkB;AACxC;AAEA,SAASH,aAAaD,OAAgC;EACpD,MAAM;IAAEO,MAAA;IAAQC,eAAiB;IAAAC;EAAA,CAAuB,GAAAT,OAAA;EACjD,QACL;IACEU,IAAM;IACNV,OAAS;MACPO,MAAQ,GAAC,CAAG,EAAAA,MAAA,WAAAA,MAAA,GAAU,EAAE;IAAA;EAC1B,CACF,EACA;IACEG,IAAM;IACNV,OAAS;MACPW,OAAS;QACPC,GAAK;QACLC,MAAQ;QACRC,IAAM;QACNC,KAAO;MAAA;IACT;EACF,CACF,EACA;IACEL,IAAM;IACNV,OAAS;MACPW,OAAS;MACTF;IAAA;EACF,CACF,EACA;IACEC,IAAM;IACNV,OAAS;MACPQ;IAAA;EACF,CACF,CACF;AACF;AAEA,SAASN,qBACPF,OAAA,EACAJ,SACA;EACA,IAAIA,SAAW;IACLI,OAAA,CAAAJ,SAAA,GAAY,CAAC,GAAGI,OAAA,CAAQJ,SAAA,EAAW,IAAIA,SAAA,WAAAA,SAAA,GAAa,EAAG;EAAA;AAEnE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}