{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\nimport router from '@/router';\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: '/api',\n  timeout: 300000 // 5分钟超时\n});\n\n// 请求拦截器 - 自动添加token\napi.interceptors.request.use(config => {\n  // 从localStorage获取token\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 响应拦截器\napi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  console.error('API错误:', error);\n\n  // 处理401未授权错误\n  if (error.response && error.response.status === 401) {\n    // 清除认证信息\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n\n    // 如果不在登录页，跳转到登录页\n    if (router.currentRoute.value.path !== '/login') {\n      router.push('/login');\n    }\n  }\n  return Promise.reject(error);\n});\n\n// WebSocket连接\nlet socket = null;\nexport const connectSocket = () => {\n  if (!socket) {\n    // 使用环境变量或当前域名\n    const wsUrl = import.meta.env.VITE_WS_URL || `${window.location.protocol}//${window.location.hostname}:${window.location.port || '5000'}`;\n    socket = io(wsUrl, {\n      transports: ['polling'],\n      // 仅使用HTTP长轮询，与后端配置一致\n      upgrade: false // 禁用传输升级\n    });\n    socket.on('connect', () => {\n      console.log('WebSocket已连接');\n    });\n    socket.on('disconnect', () => {\n      console.log('WebSocket已断开');\n    });\n    socket.on('progress', data => {\n      console.log('进度更新:', data);\n    });\n  }\n  return socket;\n};\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\nexport const getSocket = () => {\n  if (!socket) {\n    return connectSocket();\n  }\n  return socket;\n};\n\n// API接口\nexport default {\n  // 健康检查\n  healthCheck: () => api.get('/health'),\n  // 获取配置\n  getConfig: () => api.get('/config'),\n  // 文件上传\n  uploadFile: file => {\n    const formData = new FormData();\n    formData.append('file', file);\n    return api.post('/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  // 获取文件列表\n  getFiles: () => api.get('/files'),\n  // 删除文件\n  deleteFile: filename => api.delete(`/files/${filename}`),\n  // 解析PDF\n  parsePDF: filepath => api.post('/parse', {\n    filepath\n  }),\n  // 生成摘要\n  generateSummary: (filepath, model, temperature) => api.post('/summarize', {\n    filepath,\n    model,\n    temperature\n  }),\n  // 提取要点\n  extractKeypoints: (filepath, model) => api.post('/extract', {\n    filepath,\n    model\n  }),\n  // 完整分析\n  analyzePaper: (filepath, tasks) => api.post('/analyze', {\n    filepath,\n    tasks\n  }),\n  // 主题聚类（v4.0正确版本）\n  clusterPapers: (paperIds, nClusters = 5, method = 'kmeans', language = 'chinese') => api.post('/cluster', {\n    paper_ids: paperIds,\n    n_clusters: nClusters,\n    method,\n    language\n  }),\n  // 保存聚类结果\n  saveClusterResult: (resultId, data) => api.post('/cluster/save', {\n    result_id: resultId,\n    data\n  }),\n  // 获取聚类结果\n  getClusterResult: resultId => api.get(`/cluster/${resultId}`),\n  // 导出聚类结果\n  exportClusterResult: resultId => api.get(`/cluster/${resultId}/export`),\n  // 导出聚类报告\n  exportClusterReport: clusterData => api.post('/cluster/export-report', {\n    cluster_data: clusterData\n  }, {\n    responseType: 'blob'\n  }).then(response => {\n    // 创建下载链接\n    const blob = new Blob([response], {\n      type: 'text/markdown;charset=utf-8'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `cluster_report_${new Date().getTime()}.md`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    return response;\n  }),\n  // 下载结果\n  downloadResult: (type, filename) => {\n    const url = `/api/download/${type}/${filename}`;\n    window.open(url, '_blank');\n  },\n  // ============================================================================\n  // v4.0 新增API - 论文管理\n  // ============================================================================\n\n  // 获取论文列表（新版本）\n  getPapersList: (params = {}) => api.get('/papers', {\n    params\n  }),\n  // 获取论文详情\n  getPaper: id => api.get(`/papers/${id}`),\n  // 获取论文的分析结果\n  getPaperAnalysis: id => api.get(`/papers/${id}/analysis`),\n  // 更新论文\n  updatePaper: (id, data) => api.put(`/papers/${id}`, data),\n  // 删除论文\n  deletePaper: id => api.delete(`/papers/${id}`),\n  // 批量删除论文\n  batchDeletePapers: paperIds => api.post('/papers/batch-delete', {\n    paper_ids: paperIds\n  }),\n  // ============================================================================\n  // v4.0 新增API - 分析和代码生成\n  // ============================================================================\n\n  // 分析论文（v4.0正确版本）\n  analyzePaperV4: (paperId, tasks = ['summary', 'keypoints', 'gaps'], autoGenerateCode = true) => api.post('/analyze', {\n    paper_id: paperId,\n    tasks,\n    auto_generate_code: autoGenerateCode\n  }),\n  // 获取研究空白列表\n  getPriorityGaps: (limit = 50) => api.get('/gaps/priority', {\n    params: {\n      limit\n    }\n  }),\n  // 获取研究空白详情\n  getGapDetail: gapId => api.get(`/gaps/${gapId}`),\n  // 更新研究空白\n  updateGap: (gapId, data) => api.put(`/gaps/${gapId}`, data),\n  // 生成代码\n  generateCode: (gapId, strategy = 'method_improvement') => api.post(`/gaps/${gapId}/generate-code`, {\n    strategy\n  }),\n  // 获取生成的代码\n  getCode: codeId => api.get(`/code/${codeId}`),\n  // 修改代码\n  modifyCode: (codeId, userPrompt) => api.post(`/code/${codeId}/modify`, {\n    user_prompt: userPrompt\n  }),\n  // 获取代码版本历史\n  getCodeVersions: codeId => api.get(`/code/${codeId}/versions`),\n  // ============================================================================\n  // v4.0 新增API - 知识图谱\n  // ============================================================================\n\n  // 获取知识图谱数据\n  getKnowledgeGraph: (paperIds = []) => {\n    if (paperIds.length > 0) {\n      return api.get('/knowledge-graph', {\n        params: {\n          paper_ids: paperIds.join(',')\n        }\n      });\n    }\n    return api.get('/knowledge-graph');\n  },\n  // 构建知识图谱\n  buildKnowledgeGraph: (paperIds = []) => {\n    return api.post('/knowledge-graph/build', {\n      paper_ids: paperIds\n    });\n  },\n  // 手动添加关系\n  addRelation: (sourceId, targetId, relationType, strength = 0.5, evidence = '') => api.post('/relations', {\n    source_id: sourceId,\n    target_id: targetId,\n    relation_type: relationType,\n    strength,\n    evidence\n  }),\n  // ============================================================================\n  // v4.0 新增API - 统计信息\n  // ============================================================================\n\n  // 获取统计信息\n  getStatistics: () => api.get('/statistics'),\n  // ============================================================================\n  // 认证相关API\n  // ============================================================================\n\n  // 用户注册\n  register: userData => api.post('/auth/register', userData),\n  // 用户登录\n  login: credentials => api.post('/auth/login', credentials),\n  // 获取当前用户信息\n  getCurrentUser: () => api.get('/auth/user'),\n  // 更新用户信息\n  updateUser: userData => api.put('/auth/user', userData),\n  // 修改密码\n  changePassword: passwords => api.post('/auth/change-password', passwords),\n  // ============================================================================\n  // v4.2 新增API - AI 聊天 (Kimi 风格)\n  // ============================================================================\n\n  // AI 聊天（非流式）\n  chatWithAI: data => api.post('/chat', data),\n  // AI 聊天（流式）- 使用 fetch API 直接调用\n  chatStream: data => {\n    return fetch('/api/chat/stream', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    });\n  },\n  // 获取聊天历史\n  getChatHistory: chatId => api.get('/chat/history', {\n    params: {\n      chatId\n    }\n  }),\n  // 获取聊天会话列表\n  getChatList: () => api.get('/chat/list'),\n  // 清空聊天历史\n  clearChat: data => api.post('/chat/clear', data),\n  // 删除聊天会话\n  deleteChat: data => api.post('/chat/delete', data),\n  // 分析论文（流式）\n  chatAnalyzePapers: data => {\n    return fetch('/api/chat/analyze-papers', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    });\n  },\n  // 生成文献综述（流式）\n  chatGenerateReview: data => {\n    return fetch('/api/chat/generate-review', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    });\n  },\n  // ============================================================================\n  // v4.2 新增API - 向量数据库\n  // ============================================================================\n\n  // 获取向量存储统计\n  getVectorStoreStats: () => api.get('/vector-store/stats'),\n  // 同步论文到向量存储\n  syncPapersToVectorStore: paperIds => api.post('/vector-store/sync', {\n    paper_ids: paperIds\n  }),\n  // 语义搜索论文\n  searchVectorStore: (query, topK = 10) => api.post('/vector-store/search', {\n    query,\n    top_k: topK\n  }),\n  // 基于向量聚类论文\n  clusterPapersVector: (nClusters, paperIds) => api.post('/vector-store/cluster', {\n    n_clusters: nClusters,\n    paper_ids: paperIds\n  }),\n  // 获取相似论文\n  getPaperNeighbors: (paperId, topK = 5) => api.get(`/vector-store/neighbors/${paperId}`, {\n    params: {\n      top_k: topK\n    }\n  }),\n  // ============================================================================\n  // v4.2 新增API - 链式工作流\n  // ============================================================================\n\n  // 执行工作流\n  executeWorkflow: (nodes, input) => api.post('/workflow/execute', {\n    nodes,\n    input\n  }),\n  // 保存工作流\n  saveWorkflow: data => api.post('/workflow/save', data),\n  // 获取工作流模板\n  getWorkflowTemplates: () => api.get('/workflow/templates')\n};","map":{"version":3,"names":["axios","io","router","api","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","data","console","status","removeItem","currentRoute","value","path","push","socket","connectSocket","wsUrl","import","meta","env","VITE_WS_URL","window","location","protocol","hostname","port","transports","upgrade","on","log","disconnectSocket","disconnect","getSocket","healthCheck","get","getConfig","uploadFile","file","formData","FormData","append","post","getFiles","deleteFile","filename","delete","parsePDF","filepath","generateSummary","model","temperature","extractKeypoints","analyzePaper","tasks","clusterPapers","paperIds","nClusters","method","language","paper_ids","n_clusters","saveClusterResult","resultId","result_id","getClusterResult","exportClusterResult","exportClusterReport","clusterData","cluster_data","responseType","then","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","Date","getTime","body","appendChild","click","removeChild","revokeObjectURL","downloadResult","open","getPapersList","params","getPaper","id","getPaperAnalysis","updatePaper","put","deletePaper","batchDeletePapers","analyzePaperV4","paperId","autoGenerateCode","paper_id","auto_generate_code","getPriorityGaps","limit","getGapDetail","gapId","updateGap","generateCode","strategy","getCode","codeId","modifyCode","userPrompt","user_prompt","getCodeVersions","getKnowledgeGraph","length","join","buildKnowledgeGraph","addRelation","sourceId","targetId","relationType","strength","evidence","source_id","target_id","relation_type","getStatistics","register","userData","login","credentials","getCurrentUser","updateUser","changePassword","passwords","chatWithAI","chatStream","fetch","JSON","stringify","getChatHistory","chatId","getChatList","clearChat","deleteChat","chatAnalyzePapers","chatGenerateReview","getVectorStoreStats","syncPapersToVectorStore","searchVectorStore","query","topK","top_k","clusterPapersVector","getPaperNeighbors","executeWorkflow","nodes","input","saveWorkflow","getWorkflowTemplates"],"sources":["/Users/liucunyu/Documents/all_code/NUC_graduation_project/frontend/src/api/index.js"],"sourcesContent":["import axios from 'axios'\nimport { io } from 'socket.io-client'\nimport router from '@/router'\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: '/api',\n  timeout: 300000 // 5分钟超时\n})\n\n// 请求拦截器 - 自动添加token\napi.interceptors.request.use(\n  config => {\n    // 从localStorage获取token\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  error => {\n    return Promise.reject(error)\n  }\n)\n\n// 响应拦截器\napi.interceptors.response.use(\n  response => {\n    return response.data\n  },\n  error => {\n    console.error('API错误:', error)\n\n    // 处理401未授权错误\n    if (error.response && error.response.status === 401) {\n      // 清除认证信息\n      localStorage.removeItem('token')\n      localStorage.removeItem('user')\n\n      // 如果不在登录页，跳转到登录页\n      if (router.currentRoute.value.path !== '/login') {\n        router.push('/login')\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\n// WebSocket连接\nlet socket = null\n\nexport const connectSocket = () => {\n  if (!socket) {\n    // 使用环境变量或当前域名\n    const wsUrl = import.meta.env.VITE_WS_URL || `${window.location.protocol}//${window.location.hostname}:${window.location.port || '5000'}`\n    socket = io(wsUrl, {\n      transports: ['polling'],  // 仅使用HTTP长轮询，与后端配置一致\n      upgrade: false  // 禁用传输升级\n    })\n\n    socket.on('connect', () => {\n      console.log('WebSocket已连接')\n    })\n\n    socket.on('disconnect', () => {\n      console.log('WebSocket已断开')\n    })\n\n    socket.on('progress', (data) => {\n      console.log('进度更新:', data)\n    })\n  }\n  return socket\n}\n\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect()\n    socket = null\n  }\n}\n\nexport const getSocket = () => {\n  if (!socket) {\n    return connectSocket()\n  }\n  return socket\n}\n\n// API接口\nexport default {\n  // 健康检查\n  healthCheck: () => api.get('/health'),\n\n  // 获取配置\n  getConfig: () => api.get('/config'),\n\n  // 文件上传\n  uploadFile: (file) => {\n    const formData = new FormData()\n    formData.append('file', file)\n    return api.post('/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' }\n    })\n  },\n\n  // 获取文件列表\n  getFiles: () => api.get('/files'),\n\n  // 删除文件\n  deleteFile: (filename) => api.delete(`/files/${filename}`),\n\n  // 解析PDF\n  parsePDF: (filepath) => api.post('/parse', { filepath }),\n\n  // 生成摘要\n  generateSummary: (filepath, model, temperature) =>\n    api.post('/summarize', { filepath, model, temperature }),\n\n  // 提取要点\n  extractKeypoints: (filepath, model) =>\n    api.post('/extract', { filepath, model }),\n\n  // 完整分析\n  analyzePaper: (filepath, tasks) =>\n    api.post('/analyze', { filepath, tasks }),\n\n  // 主题聚类（v4.0正确版本）\n  clusterPapers: (paperIds, nClusters = 5, method = 'kmeans', language = 'chinese') =>\n    api.post('/cluster', { paper_ids: paperIds, n_clusters: nClusters, method, language }),\n\n  // 保存聚类结果\n  saveClusterResult: (resultId, data) =>\n    api.post('/cluster/save', { result_id: resultId, data }),\n\n  // 获取聚类结果\n  getClusterResult: (resultId) =>\n    api.get(`/cluster/${resultId}`),\n\n  // 导出聚类结果\n  exportClusterResult: (resultId) =>\n    api.get(`/cluster/${resultId}/export`),\n\n  // 导出聚类报告\n  exportClusterReport: (clusterData) =>\n    api.post('/cluster/export-report', { cluster_data: clusterData }, {\n      responseType: 'blob'\n    }).then(response => {\n      // 创建下载链接\n      const blob = new Blob([response], { type: 'text/markdown;charset=utf-8' })\n      const url = URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `cluster_report_${new Date().getTime()}.md`\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      URL.revokeObjectURL(url)\n      return response\n    }),\n\n  // 下载结果\n  downloadResult: (type, filename) => {\n    const url = `/api/download/${type}/${filename}`\n    window.open(url, '_blank')\n  },\n\n  // ============================================================================\n  // v4.0 新增API - 论文管理\n  // ============================================================================\n\n  // 获取论文列表（新版本）\n  getPapersList: (params = {}) => api.get('/papers', { params }),\n\n  // 获取论文详情\n  getPaper: (id) => api.get(`/papers/${id}`),\n\n  // 获取论文的分析结果\n  getPaperAnalysis: (id) => api.get(`/papers/${id}/analysis`),\n\n  // 更新论文\n  updatePaper: (id, data) => api.put(`/papers/${id}`, data),\n\n  // 删除论文\n  deletePaper: (id) => api.delete(`/papers/${id}`),\n\n  // 批量删除论文\n  batchDeletePapers: (paperIds) => api.post('/papers/batch-delete', { paper_ids: paperIds }),\n\n  // ============================================================================\n  // v4.0 新增API - 分析和代码生成\n  // ============================================================================\n\n  // 分析论文（v4.0正确版本）\n  analyzePaperV4: (paperId, tasks = ['summary', 'keypoints', 'gaps'], autoGenerateCode = true) =>\n    api.post('/analyze', { paper_id: paperId, tasks, auto_generate_code: autoGenerateCode }),\n\n  // 获取研究空白列表\n  getPriorityGaps: (limit = 50) => api.get('/gaps/priority', { params: { limit } }),\n\n  // 获取研究空白详情\n  getGapDetail: (gapId) => api.get(`/gaps/${gapId}`),\n\n  // 更新研究空白\n  updateGap: (gapId, data) => api.put(`/gaps/${gapId}`, data),\n\n  // 生成代码\n  generateCode: (gapId, strategy = 'method_improvement') =>\n    api.post(`/gaps/${gapId}/generate-code`, { strategy }),\n\n  // 获取生成的代码\n  getCode: (codeId) => api.get(`/code/${codeId}`),\n\n  // 修改代码\n  modifyCode: (codeId, userPrompt) =>\n    api.post(`/code/${codeId}/modify`, { user_prompt: userPrompt }),\n\n  // 获取代码版本历史\n  getCodeVersions: (codeId) => api.get(`/code/${codeId}/versions`),\n\n  // ============================================================================\n  // v4.0 新增API - 知识图谱\n  // ============================================================================\n\n  // 获取知识图谱数据\n  getKnowledgeGraph: (paperIds = []) => {\n    if (paperIds.length > 0) {\n      return api.get('/knowledge-graph', { params: { paper_ids: paperIds.join(',') } })\n    }\n    return api.get('/knowledge-graph')\n  },\n\n  // 构建知识图谱\n  buildKnowledgeGraph: (paperIds = []) => {\n    return api.post('/knowledge-graph/build', { paper_ids: paperIds })\n  },\n\n  // 手动添加关系\n  addRelation: (sourceId, targetId, relationType, strength = 0.5, evidence = '') =>\n    api.post('/relations', {\n      source_id: sourceId,\n      target_id: targetId,\n      relation_type: relationType,\n      strength,\n      evidence\n    }),\n\n  // ============================================================================\n  // v4.0 新增API - 统计信息\n  // ============================================================================\n\n  // 获取统计信息\n  getStatistics: () => api.get('/statistics'),\n\n  // ============================================================================\n  // 认证相关API\n  // ============================================================================\n\n  // 用户注册\n  register: (userData) => api.post('/auth/register', userData),\n\n  // 用户登录\n  login: (credentials) => api.post('/auth/login', credentials),\n\n  // 获取当前用户信息\n  getCurrentUser: () => api.get('/auth/user'),\n\n  // 更新用户信息\n  updateUser: (userData) => api.put('/auth/user', userData),\n\n  // 修改密码\n  changePassword: (passwords) => api.post('/auth/change-password', passwords),\n\n  // ============================================================================\n  // v4.2 新增API - AI 聊天 (Kimi 风格)\n  // ============================================================================\n\n  // AI 聊天（非流式）\n  chatWithAI: (data) => api.post('/chat', data),\n\n  // AI 聊天（流式）- 使用 fetch API 直接调用\n  chatStream: (data) => {\n    return fetch('/api/chat/stream', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    })\n  },\n\n  // 获取聊天历史\n  getChatHistory: (chatId) => api.get('/chat/history', { params: { chatId } }),\n\n  // 获取聊天会话列表\n  getChatList: () => api.get('/chat/list'),\n\n  // 清空聊天历史\n  clearChat: (data) => api.post('/chat/clear', data),\n\n  // 删除聊天会话\n  deleteChat: (data) => api.post('/chat/delete', data),\n\n  // 分析论文（流式）\n  chatAnalyzePapers: (data) => {\n    return fetch('/api/chat/analyze-papers', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    })\n  },\n\n  // 生成文献综述（流式）\n  chatGenerateReview: (data) => {\n    return fetch('/api/chat/generate-review', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify(data)\n    })\n  },\n\n  // ============================================================================\n  // v4.2 新增API - 向量数据库\n  // ============================================================================\n\n  // 获取向量存储统计\n  getVectorStoreStats: () => api.get('/vector-store/stats'),\n\n  // 同步论文到向量存储\n  syncPapersToVectorStore: (paperIds) => api.post('/vector-store/sync', { paper_ids: paperIds }),\n\n  // 语义搜索论文\n  searchVectorStore: (query, topK = 10) => api.post('/vector-store/search', { query, top_k: topK }),\n\n  // 基于向量聚类论文\n  clusterPapersVector: (nClusters, paperIds) => api.post('/vector-store/cluster', { \n    n_clusters: nClusters, \n    paper_ids: paperIds \n  }),\n\n  // 获取相似论文\n  getPaperNeighbors: (paperId, topK = 5) => \n    api.get(`/vector-store/neighbors/${paperId}`, { params: { top_k: topK } }),\n\n  // ============================================================================\n  // v4.2 新增API - 链式工作流\n  // ============================================================================\n\n  // 执行工作流\n  executeWorkflow: (nodes, input) => api.post('/workflow/execute', { nodes, input }),\n\n  // 保存工作流\n  saveWorkflow: (data) => api.post('/workflow/save', data),\n\n  // 获取工作流模板\n  getWorkflowTemplates: () => api.get('/workflow/templates')\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}