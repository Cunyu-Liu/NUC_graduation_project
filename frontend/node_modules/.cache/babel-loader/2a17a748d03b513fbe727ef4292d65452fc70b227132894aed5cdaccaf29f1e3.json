{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { defineComponent, useSlots, computed, provide, getCurrentInstance, openBlock, createElementBlock, normalizeClass, unref, createBlock, withCtx, normalizeStyle, renderSlot, createElementVNode, toDisplayString } from 'vue';\nimport { useTree } from './composables/useTree.mjs';\nimport ElTreeNode from './tree-node.mjs';\nimport { treeProps, treeEmits, ROOT_TREE_INJECTION_KEY } from './virtual-tree.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport FixedSizeList from '../../virtual-list/src/components/fixed-size-list.mjs';\nimport { formItemContextKey } from '../../form/src/constants.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _sfc_main = defineComponent({\n  ...{\n    name: \"ElTreeV2\"\n  },\n  __name: \"tree\",\n  props: treeProps,\n  emits: treeEmits,\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const props = __props;\n    const emit = __emit;\n    const slots = useSlots();\n    const treeNodeSize = computed(() => props.itemSize);\n    provide(ROOT_TREE_INJECTION_KEY, {\n      ctx: {\n        emit,\n        slots\n      },\n      props,\n      instance: getCurrentInstance()\n    });\n    provide(formItemContextKey, void 0);\n    const {\n      t\n    } = useLocale();\n    const ns = useNamespace(\"tree\");\n    const {\n      flattenTree,\n      isNotEmpty,\n      listRef,\n      toggleExpand,\n      isIndeterminate,\n      isChecked,\n      isDisabled,\n      isCurrent,\n      isForceHiddenExpandIcon,\n      handleNodeClick,\n      handleNodeDrop,\n      handleNodeCheck,\n      toggleCheckbox,\n      getCurrentNode,\n      getCurrentKey,\n      setCurrentKey,\n      getCheckedKeys,\n      getCheckedNodes,\n      getHalfCheckedKeys,\n      getHalfCheckedNodes,\n      setChecked,\n      setCheckedKeys,\n      filter,\n      setData,\n      getNode,\n      expandNode,\n      collapseNode,\n      setExpandedKeys,\n      scrollToNode,\n      scrollTo\n    } = useTree(props, emit);\n    __expose({\n      toggleCheckbox,\n      getCurrentNode,\n      getCurrentKey,\n      setCurrentKey,\n      getCheckedKeys,\n      getCheckedNodes,\n      getHalfCheckedKeys,\n      getHalfCheckedNodes,\n      setChecked,\n      setCheckedKeys,\n      filter,\n      setData,\n      getNode,\n      expandNode,\n      collapseNode,\n      setExpandedKeys,\n      scrollToNode,\n      scrollTo\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(), {\n          [unref(ns).m(\"highlight-current\")]: _ctx.highlightCurrent\n        }]),\n        role: \"tree\"\n      }, [unref(isNotEmpty) ? (openBlock(), createBlock(unref(FixedSizeList), {\n        key: 0,\n        ref_key: \"listRef\",\n        ref: listRef,\n        \"class-name\": unref(ns).b(\"virtual-list\"),\n        data: unref(flattenTree),\n        total: unref(flattenTree).length,\n        height: _ctx.height,\n        \"item-size\": treeNodeSize.value,\n        \"perf-mode\": _ctx.perfMode,\n        \"scrollbar-always-on\": _ctx.scrollbarAlwaysOn\n      }, {\n        default: withCtx(({\n          data,\n          index,\n          style\n        }) => [(openBlock(), createBlock(ElTreeNode, {\n          key: data[index].key,\n          style: normalizeStyle(style),\n          node: data[index],\n          expanded: data[index].expanded,\n          \"show-checkbox\": _ctx.showCheckbox,\n          checked: unref(isChecked)(data[index]),\n          indeterminate: unref(isIndeterminate)(data[index]),\n          \"item-size\": treeNodeSize.value,\n          disabled: unref(isDisabled)(data[index]),\n          current: unref(isCurrent)(data[index]),\n          \"hidden-expand-icon\": unref(isForceHiddenExpandIcon)(data[index]),\n          onClick: unref(handleNodeClick),\n          onToggle: unref(toggleExpand),\n          onCheck: unref(handleNodeCheck),\n          onDrop: unref(handleNodeDrop)\n        }, null, 8, [\"style\", \"node\", \"expanded\", \"show-checkbox\", \"checked\", \"indeterminate\", \"item-size\", \"disabled\", \"current\", \"hidden-expand-icon\", \"onClick\", \"onToggle\", \"onCheck\", \"onDrop\"]))]),\n        _: 1\n      }, 8, [\"class-name\", \"data\", \"total\", \"height\", \"item-size\", \"perf-mode\", \"scrollbar-always-on\"])) : (openBlock(), createElementBlock(\"div\", {\n        key: 1,\n        class: normalizeClass(unref(ns).e(\"empty-block\"))\n      }, [renderSlot(_ctx.$slots, \"empty\", {}, () => {\n        var _a;\n        return [createElementVNode(\"span\", {\n          class: normalizeClass(unref(ns).e(\"empty-text\"))\n        }, toDisplayString((_a = _ctx.emptyText) != null ? _a : unref(t)(\"el.tree.emptyText\")), 3)];\n      })], 2))], 2);\n    };\n  }\n});\nvar TreeV2 = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue\"]]);\nexport { TreeV2 as default };","map":{"version":3,"names":["props","__props","emit","__emit","slots","useSlots","treeNodeSize","computed","itemSize","provide","ROOT_TREE_INJECTION_KEY","ctx","instance","getCurrentInstance","formItemContextKey","t","useLocale","ns","useNamespace","flattenTree","isNotEmpty","listRef","toggleExpand","isIndeterminate","isChecked","isDisabled","isCurrent","isForceHiddenExpandIcon","handleNodeClick","handleNodeDrop","handleNodeCheck","toggleCheckbox","getCurrentNode","getCurrentKey","setCurrentKey","getCheckedKeys","getCheckedNodes","getHalfCheckedKeys","getHalfCheckedNodes","setChecked","setCheckedKeys","filter","setData","getNode","expandNode","collapseNode","setExpandedKeys","scrollToNode","scrollTo","useTree","__expose","openBlock","createElementBlock","class","normalizeClass","unref","b","m","_ctx","highlightCurrent","role","createBlock","FixedSizeList","key","ref_key","ref","data","total","length","height","value","perfMode","scrollbarAlwaysOn","default","withCtx","index","style","ElTreeNode","normalizeStyle","node","expanded","showCheckbox","checked","indeterminate","disabled","current","onClick","onToggle","onCheck","onDrop","e","renderSlot","$slots","createElementVNode","toDisplayString","_a","emptyText"],"sources":["../../../../../../packages/components/tree-v2/src/tree.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[ns.b(), { [ns.m('highlight-current')]: highlightCurrent }]\"\n    role=\"tree\"\n  >\n    <fixed-size-list\n      v-if=\"isNotEmpty\"\n      ref=\"listRef\"\n      :class-name=\"ns.b('virtual-list')\"\n      :data=\"flattenTree\"\n      :total=\"flattenTree.length\"\n      :height=\"height\"\n      :item-size=\"treeNodeSize\"\n      :perf-mode=\"perfMode\"\n      :scrollbar-always-on=\"scrollbarAlwaysOn\"\n    >\n      <template #default=\"{ data, index, style }\">\n        <el-tree-node\n          :key=\"data[index].key\"\n          :style=\"style\"\n          :node=\"data[index]\"\n          :expanded=\"data[index].expanded\"\n          :show-checkbox=\"showCheckbox\"\n          :checked=\"isChecked(data[index])\"\n          :indeterminate=\"isIndeterminate(data[index])\"\n          :item-size=\"treeNodeSize\"\n          :disabled=\"isDisabled(data[index])\"\n          :current=\"isCurrent(data[index])\"\n          :hidden-expand-icon=\"isForceHiddenExpandIcon(data[index])\"\n          @click=\"handleNodeClick\"\n          @toggle=\"toggleExpand\"\n          @check=\"handleNodeCheck\"\n          @drop=\"handleNodeDrop\"\n        />\n      </template>\n    </fixed-size-list>\n    <div v-else :class=\"ns.e('empty-block')\">\n      <slot name=\"empty\">\n        <span :class=\"ns.e('empty-text')\">\n          {{ emptyText ?? t('el.tree.emptyText') }}\n        </span>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, getCurrentInstance, provide, useSlots } from 'vue'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { formItemContextKey } from '@element-plus/components/form'\nimport { FixedSizeList } from '@element-plus/components/virtual-list'\nimport { useTree } from './composables/useTree'\nimport ElTreeNode from './tree-node.vue'\nimport { ROOT_TREE_INJECTION_KEY, treeEmits, treeProps } from './virtual-tree'\n\ndefineOptions({\n  name: 'ElTreeV2',\n})\n\nconst props = defineProps(treeProps)\nconst emit = defineEmits(treeEmits)\n\nconst slots = useSlots()\n\nconst treeNodeSize = computed(() => props.itemSize)\n\nprovide(ROOT_TREE_INJECTION_KEY, {\n  ctx: {\n    emit,\n    slots,\n  },\n  props,\n  instance: getCurrentInstance()!,\n})\nprovide(formItemContextKey, undefined)\nconst { t } = useLocale()\nconst ns = useNamespace('tree')\nconst {\n  flattenTree,\n  isNotEmpty,\n  listRef,\n  toggleExpand,\n  isIndeterminate,\n  isChecked,\n  isDisabled,\n  isCurrent,\n  isForceHiddenExpandIcon,\n  handleNodeClick,\n  handleNodeDrop,\n  handleNodeCheck,\n  // expose\n  toggleCheckbox,\n  getCurrentNode,\n  getCurrentKey,\n  setCurrentKey,\n  getCheckedKeys,\n  getCheckedNodes,\n  getHalfCheckedKeys,\n  getHalfCheckedNodes,\n  setChecked,\n  setCheckedKeys,\n  filter,\n  setData,\n  getNode,\n  expandNode,\n  collapseNode,\n  setExpandedKeys,\n  scrollToNode,\n  scrollTo,\n} = useTree(props, emit)\n\ndefineExpose({\n  toggleCheckbox,\n  getCurrentNode,\n  getCurrentKey,\n  setCurrentKey,\n  getCheckedKeys,\n  getCheckedNodes,\n  getHalfCheckedKeys,\n  getHalfCheckedNodes,\n  setChecked,\n  setCheckedKeys,\n  filter,\n  setData,\n  getNode,\n  expandNode,\n  collapseNode,\n  setExpandedKeys,\n  scrollToNode,\n  scrollTo,\n})\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;IA2DA,MAAMA,KAAQ,GAAAC,OAAA;IACd,MAAMC,IAAO,GAAAC,MAAA;IAEb,MAAMC,KAAA,GAAQC,QAAS;IAEvB,MAAMC,YAAe,GAAAC,QAAA,CAAS,MAAMP,KAAA,CAAMQ,QAAQ;IAElDC,OAAA,CAAQC,uBAAyB;MAC/BC,GAAK;QACHT,IAAA;QACAE;MAAA,CACF;MACAJ,KAAA;MACAY,QAAA,EAAUC,kBAAmB;IAAA,CAC9B;IACDJ,OAAA,CAAQK,kBAAA,EAAoB,KAAS;IAC/B;MAAEC;IAAE,IAAIC,SAAU;IAClB,MAAAC,EAAA,GAAKC,YAAA,CAAa,MAAM;IACxB;MACJC,WAAA;MACAC,UAAA;MACAC,OAAA;MACAC,YAAA;MACAC,eAAA;MACAC,SAAA;MACAC,UAAA;MACAC,SAAA;MACAC,uBAAA;MACAC,eAAA;MACAC,cAAA;MACAC,eAAA;MAEAC,cAAA;MACAC,cAAA;MACAC,aAAA;MACAC,aAAA;MACAC,cAAA;MACAC,eAAA;MACAC,kBAAA;MACAC,mBAAA;MACAC,UAAA;MACAC,cAAA;MACAC,MAAA;MACAC,OAAA;MACAC,OAAA;MACAC,UAAA;MACAC,YAAA;MACAC,eAAA;MACAC,YAAA;MACAC;IAAA,CACF,GAAIC,OAAQ,CAAAjD,KAAA,EAAOE,IAAI;IAEVgD,QAAA;MACXnB,cAAA;MACAC,cAAA;MACAC,aAAA;MACAC,aAAA;MACAC,cAAA;MACAC,eAAA;MACAC,kBAAA;MACAC,mBAAA;MACAC,UAAA;MACAC,cAAA;MACAC,MAAA;MACAC,OAAA;MACAC,OAAA;MACAC,UAAA;MACAC,YAAA;MACAC,eAAA;MACAC,YAAA;MACAC;IAAA,CACD;;MAjIC,OAAAG,SAAA,IAAAC,kBAAA,CA0CM;QAzCHC,KAAA,EAAKC,cAAA,EAAGC,KAAA,CAAGtC,EAAA,EAAAuC,CAAA;UAAA,CAAQD,KAAG,CAAAtC,EAAA,EAAAwC,CAAC,wBAAwBC,IAAgB,CAAAC;QAAA;QAChEC,IAAK;MAAA,IAGGL,KAAA,CAAAnC,UAAA,KAAA+B,SAAA,IADRU,WA8BkB,CAAAN,KAAA,CAAAO,aAAA;QAAAC,GAAA;QA5BZC,OAAA;QAAJC,GAAI,EAAA5C,OAAA;QACH,YAAY,EAAAkC,KAAA,CAAAtC,EAAA,EAAGuC,CAAA,CAAC;QAChBU,IAAA,EAAMX,KAAA,CAAApC,WAAA;QACNgD,KAAA,EAAOZ,KAAY,CAAApC,WAAA,EAAAiD,MAAA;QACnBC,MAAA,EAAQX,IAAA,CAAAW,MAAA;QACR,aAAW/D,YAAA,CAAAgE,KAAA;QACX,aAAWZ,IAAA,CAAAa,QAAA;QACX,uBAAqBb,IAAA,CAAAc;MAAA;QAEXC,OAAA,EAAOC,OAChB,EAgBE;UAjBkBR,IAAM;UAAAS,KAAA;UAAOC;QAAA,CAAK,OAAAzB,SAAA,EACtC,EAAAU,WAAA,CAgBEgB,UAAA;UAfCd,GAAA,EAAKG,IAAA,CAAKS,KAAO,EAAAZ,GAAA;UACjBa,KAAA,EAAKE,cAAA,CAAEF,KAAK;UACZG,IAAA,EAAMb,IAAK,CAAAS,KAAA;UACXK,QAAA,EAAUd,IAAA,CAAKS,KAAO,EAAAK,QAAA;UACtB,iBAAetB,IAAA,CAAAuB,YAAA;UACfC,OAAS,EAAA3B,KAAA,CAAU/B,SAAA,EAAA0C,IAAA,CAAKS,KAAK;UAC7BQ,aAAe,EAAA5B,KAAA,CAAgBhC,eAAA,EAAA2C,IAAA,CAAKS,KAAK;UACzC,aAAWrE,YAAA,CAAAgE,KAAA;UACXc,QAAU,EAAA7B,KAAA,CAAW9B,UAAA,EAAAyC,IAAA,CAAKS,KAAK;UAC/BU,OAAS,EAAA9B,KAAA,CAAU7B,SAAA,EAAAwC,IAAA,CAAKS,KAAK;UAC7B,oBAAoB,EAAApB,KAAA,CAAwB5B,uBAAA,EAAAuC,IAAA,CAAKS,KAAK;UACtDW,OAAA,EAAO/B,KAAA,CAAA3B,eAAA;UACP2D,QAAA,EAAQhC,KAAA,CAAAjC,YAAA;UACRkE,OAAA,EAAOjC,KAAA,CAAAzB,eAAA;UACP2D,MAAA,EAAMlC,KAAA,CAAA1B,cAAA;QAAA;;OAIb,qGAAAsB,SAAA,IAAAC,kBAAA,CAMM;QAAAW,GAAA;QANOV,KAAA,EAAKC,cAAE,CAAAC,KAAA,CAAAtC,EAAA,CAAG,CAAAyE,CAAA,CAAC;MAAA,IACtBC,UAAA,CAIOjC,IAAA,CAAAkC,MAAA,eAJP,MAIO;;QAAA,QAHLC,kBAAA,CAEO;UAFAxC,KAAA,EAAKC,cAAE,CAAAC,KAAA,CAAAtC,EAAA,CAAG,CAAAyE,CAAA,CAAC;QAAA,GACbI,eAAA,EAAAC,EAAA,GAAArC,IAAA,CAAAsC,SAAA,YAAAD,EAAA,GAAaxC,KAAA,CAACxC,CAAA;MAAA,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}