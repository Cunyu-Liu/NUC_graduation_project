{"ast":null,"code":"import { defineComponent, computed, ref, unref, openBlock, createBlock, mergeProps, withCtx, createElementBlock, normalizeClass, toDisplayString, createCommentVNode, renderSlot, createTextVNode } from 'vue';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport { popoverProps, popoverEmits } from './popover.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nconst updateEventKeyRaw = `onUpdate:visible`;\nconst _sfc_main = defineComponent({\n  ...{\n    name: \"ElPopover\"\n  },\n  __name: \"popover\",\n  props: popoverProps,\n  emits: popoverEmits,\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const props = __props;\n    const emit = __emit;\n    const onUpdateVisible = computed(() => {\n      return props[updateEventKeyRaw];\n    });\n    const ns = useNamespace(\"popover\");\n    const tooltipRef = ref();\n    const popperRef = computed(() => {\n      var _a;\n      return (_a = unref(tooltipRef)) == null ? void 0 : _a.popperRef;\n    });\n    const style = computed(() => {\n      return [{\n        width: addUnit(props.width)\n      }, props.popperStyle];\n    });\n    const kls = computed(() => {\n      return [ns.b(), props.popperClass, {\n        [ns.m(\"plain\")]: !!props.content\n      }];\n    });\n    const gpuAcceleration = computed(() => {\n      return props.transition === `${ns.namespace.value}-fade-in-linear`;\n    });\n    const hide = () => {\n      var _a;\n      (_a = tooltipRef.value) == null ? void 0 : _a.hide();\n    };\n    const beforeEnter = () => {\n      emit(\"before-enter\");\n    };\n    const beforeLeave = () => {\n      emit(\"before-leave\");\n    };\n    const afterEnter = () => {\n      emit(\"after-enter\");\n    };\n    const afterLeave = () => {\n      emit(\"update:visible\", false);\n      emit(\"after-leave\");\n    };\n    __expose({\n      popperRef,\n      hide\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTooltip), mergeProps({\n        ref_key: \"tooltipRef\",\n        ref: tooltipRef\n      }, _ctx.$attrs, {\n        trigger: _ctx.trigger,\n        \"trigger-keys\": _ctx.triggerKeys,\n        placement: _ctx.placement,\n        disabled: _ctx.disabled,\n        visible: _ctx.visible,\n        transition: _ctx.transition,\n        \"popper-options\": _ctx.popperOptions,\n        tabindex: _ctx.tabindex,\n        content: _ctx.content,\n        offset: _ctx.offset,\n        \"show-after\": _ctx.showAfter,\n        \"hide-after\": _ctx.hideAfter,\n        \"auto-close\": _ctx.autoClose,\n        \"show-arrow\": _ctx.showArrow,\n        \"aria-label\": _ctx.title,\n        effect: _ctx.effect,\n        enterable: _ctx.enterable,\n        \"popper-class\": kls.value,\n        \"popper-style\": style.value,\n        teleported: _ctx.teleported,\n        \"append-to\": _ctx.appendTo,\n        persistent: _ctx.persistent,\n        \"gpu-acceleration\": gpuAcceleration.value,\n        \"onUpdate:visible\": onUpdateVisible.value,\n        onBeforeShow: beforeEnter,\n        onBeforeHide: beforeLeave,\n        onShow: afterEnter,\n        onHide: afterLeave\n      }), {\n        content: withCtx(() => [_ctx.title ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass(unref(ns).e(\"title\")),\n          role: \"title\"\n        }, toDisplayString(_ctx.title), 3)) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\", {}, () => [createTextVNode(toDisplayString(_ctx.content), 1)])]),\n        default: withCtx(() => [_ctx.$slots.reference ? renderSlot(_ctx.$slots, \"reference\", {\n          key: 0\n        }) : createCommentVNode(\"v-if\", true)]),\n        _: 3\n      }, 16, [\"trigger\", \"trigger-keys\", \"placement\", \"disabled\", \"visible\", \"transition\", \"popper-options\", \"tabindex\", \"content\", \"offset\", \"show-after\", \"hide-after\", \"auto-close\", \"show-arrow\", \"aria-label\", \"effect\", \"enterable\", \"popper-class\", \"popper-style\", \"teleported\", \"append-to\", \"persistent\", \"gpu-acceleration\", \"onUpdate:visible\"]);\n    };\n  }\n});\nvar Popover = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue\"]]);\nexport { Popover as default };","map":{"version":3,"names":["updateEventKeyRaw","props","__props","emit","__emit","onUpdateVisible","computed","ns","useNamespace","tooltipRef","ref","popperRef","_a","unref","style","width","addUnit","popperStyle","kls","b","popperClass","m","content","gpuAcceleration","transition","namespace","value","hide","beforeEnter","beforeLeave","afterEnter","afterLeave","__expose","openBlock","createBlock","ElTooltip","mergeProps","ref_key","_ctx","$attrs","trigger","triggerKeys","placement","disabled","visible","popperOptions","tabindex","offset","showAfter","hideAfter","autoClose","showArrow","title","effect","enterable","teleported","appendTo","persistent","onBeforeShow","onBeforeHide","onShow","onHide","withCtx","createElementBlock","key","class","normalizeClass","e","role","toDisplayString","createCommentVNode","renderSlot","$slots","createTextVNode","reference"],"sources":["../../../../../../packages/components/popover/src/popover.vue"],"sourcesContent":["<template>\n  <el-tooltip\n    ref=\"tooltipRef\"\n    v-bind=\"$attrs\"\n    :trigger=\"trigger\"\n    :trigger-keys=\"triggerKeys\"\n    :placement=\"placement\"\n    :disabled=\"disabled\"\n    :visible=\"visible\"\n    :transition=\"transition\"\n    :popper-options=\"popperOptions\"\n    :tabindex=\"tabindex\"\n    :content=\"content\"\n    :offset=\"offset\"\n    :show-after=\"showAfter\"\n    :hide-after=\"hideAfter\"\n    :auto-close=\"autoClose\"\n    :show-arrow=\"showArrow\"\n    :aria-label=\"title\"\n    :effect=\"effect\"\n    :enterable=\"enterable\"\n    :popper-class=\"kls\"\n    :popper-style=\"style\"\n    :teleported=\"teleported\"\n    :append-to=\"appendTo\"\n    :persistent=\"persistent\"\n    :gpu-acceleration=\"gpuAcceleration\"\n    @update:visible=\"onUpdateVisible\"\n    @before-show=\"beforeEnter\"\n    @before-hide=\"beforeLeave\"\n    @show=\"afterEnter\"\n    @hide=\"afterLeave\"\n  >\n    <template v-if=\"$slots.reference\">\n      <slot name=\"reference\" />\n    </template>\n\n    <template #content>\n      <div v-if=\"title\" :class=\"ns.e('title')\" role=\"title\">\n        {{ title }}\n      </div>\n      <slot>\n        {{ content }}\n      </slot>\n    </template>\n  </el-tooltip>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, unref } from 'vue'\nimport { ElTooltip } from '@element-plus/components/tooltip'\nimport { addUnit } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport { popoverEmits, popoverProps } from './popover'\n\nimport type { TooltipInstance } from '@element-plus/components/tooltip'\n\ndefineOptions({\n  name: 'ElPopover',\n})\n\nconst props = defineProps(popoverProps)\nconst emit = defineEmits(popoverEmits)\n\nconst updateEventKeyRaw = `onUpdate:visible` as const\n\nconst onUpdateVisible = computed(() => {\n  return props[updateEventKeyRaw]\n})\n\nconst ns = useNamespace('popover')\nconst tooltipRef = ref<TooltipInstance>()\nconst popperRef = computed(() => {\n  return unref(tooltipRef)?.popperRef\n})\n\nconst style = computed(() => {\n  return [\n    {\n      width: addUnit(props.width),\n    },\n    props.popperStyle!,\n  ]\n})\n\nconst kls = computed(() => {\n  return [ns.b(), props.popperClass!, { [ns.m('plain')]: !!props.content }]\n})\n\nconst gpuAcceleration = computed(() => {\n  return props.transition === `${ns.namespace.value}-fade-in-linear`\n})\n\nconst hide = () => {\n  tooltipRef.value?.hide()\n}\n\nconst beforeEnter = () => {\n  emit('before-enter')\n}\nconst beforeLeave = () => {\n  emit('before-leave')\n}\n\nconst afterEnter = () => {\n  emit('after-enter')\n}\n\nconst afterLeave = () => {\n  emit('update:visible', false)\n  emit('after-leave')\n}\n\ndefineExpose({\n  /** @description popper ref */\n  popperRef,\n  /** @description hide popover */\n  hide,\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}