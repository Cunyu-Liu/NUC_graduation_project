{"ast":null,"code":"import { ref, nextTick } from 'vue';\nimport { isKorean } from '../../utils/i18n.mjs';\nfunction useComposition({\n  afterComposition,\n  emit\n}) {\n  const isComposing = ref(false);\n  const handleCompositionStart = event => {\n    emit == null ? void 0 : emit(\"compositionstart\", event);\n    isComposing.value = true;\n  };\n  const handleCompositionUpdate = event => {\n    var _a;\n    emit == null ? void 0 : emit(\"compositionupdate\", event);\n    const text = (_a = event.target) == null ? void 0 : _a.value;\n    const lastCharacter = text[text.length - 1] || \"\";\n    isComposing.value = !isKorean(lastCharacter);\n  };\n  const handleCompositionEnd = event => {\n    emit == null ? void 0 : emit(\"compositionend\", event);\n    if (isComposing.value) {\n      isComposing.value = false;\n      nextTick(() => afterComposition(event));\n    }\n  };\n  const handleComposition = event => {\n    event.type === \"compositionend\" ? handleCompositionEnd(event) : handleCompositionUpdate(event);\n  };\n  return {\n    isComposing,\n    handleComposition,\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd\n  };\n}\nexport { useComposition };","map":{"version":3,"names":["useComposition","afterComposition","emit","isComposing","ref","handleCompositionStart","event","value","handleCompositionUpdate","_a","text","target","lastCharacter","length","isKorean","handleCompositionEnd","nextTick","handleComposition","type"],"sources":["../../../../../packages/hooks/use-composition/index.ts"],"sourcesContent":["import { nextTick, ref } from 'vue'\nimport { isKorean } from '@element-plus/utils'\n\ninterface UseCompositionOptions {\n  afterComposition: (event: CompositionEvent) => void\n  emit?: ((event: 'compositionstart', evt: CompositionEvent) => void) &\n    ((event: 'compositionupdate', evt: CompositionEvent) => void) &\n    ((event: 'compositionend', evt: CompositionEvent) => void)\n}\n\nexport function useComposition({\n  afterComposition,\n  emit,\n}: UseCompositionOptions) {\n  const isComposing = ref(false)\n\n  const handleCompositionStart = (event: CompositionEvent) => {\n    emit?.('compositionstart', event)\n    isComposing.value = true\n  }\n\n  const handleCompositionUpdate = (event: CompositionEvent) => {\n    emit?.('compositionupdate', event)\n    const text = (event.target as HTMLInputElement)?.value\n    const lastCharacter = text[text.length - 1] || ''\n    isComposing.value = !isKorean(lastCharacter)\n  }\n\n  const handleCompositionEnd = (event: CompositionEvent) => {\n    emit?.('compositionend', event)\n    if (isComposing.value) {\n      isComposing.value = false\n      nextTick(() => afterComposition(event))\n    }\n  }\n\n  const handleComposition = (event: CompositionEvent) => {\n    event.type === 'compositionend'\n      ? handleCompositionEnd(event)\n      : handleCompositionUpdate(event)\n  }\n\n  return {\n    isComposing,\n    handleComposition,\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd,\n  }\n}\n"],"mappings":";;AAUO,SAASA,cAAeA,CAAA;EAC7BC,gBAAA;EACAC;AACF,CAA0B;EAClB,MAAAC,WAAA,GAAcC,GAAA,CAAI,KAAK;EAEvB,MAAAC,sBAAA,GAA0BC,KAA4B;IAC1DJ,IAAA,oBAAAA,IAAA,CAAO,kBAAoB,EAAAI,KAAA;IAC3BH,WAAA,CAAYI,KAAQ;EAAA,CACtB;EAEM,MAAAC,uBAAA,GAA2BF,KAA4B;IArB/D,IAAAG,EAAA;IAsBIP,IAAA,oBAAAA,IAAA,CAAO,mBAAqB,EAAAI,KAAA;IACtB,MAAAI,IAAA,IAAQD,EAAM,GAAAH,KAAA,CAAAK,MAAA,KAAN,IAAmC,YAAAF,EAAA,CAAAF,KAAA;IACjD,MAAMK,aAAgB,GAAAF,IAAA,CAAKA,IAAK,CAAAG,MAAA,GAAS,CAAM;IACnCV,WAAA,CAAAI,KAAA,GAAQ,CAACO,QAAA,CAASF,aAAa;EAAA,CAC7C;EAEM,MAAAG,oBAAA,GAAwBT,KAA4B;IACxDJ,IAAA,oBAAAA,IAAA,CAAO,gBAAkB,EAAAI,KAAA;IACzB,IAAIH,WAAA,CAAYI,KAAO;MACrBJ,WAAA,CAAYI,KAAQ;MACXS,QAAA,OAAMf,gBAAiB,CAAAK,KAAK,CAAC;IAAA;EACxC,CACF;EAEM,MAAAW,iBAAA,GAAqBX,KAA4B;IACrDA,KAAA,CAAMY,IAAA,KAAS,gBACX,GAAAH,oBAAA,CAAqBT,KAAK,IAC1BE,uBAAA,CAAwBF,KAAK;EAAA,CACnC;EAEO;IACLH,WAAA;IACAc,iBAAA;IACAZ,sBAAA;IACAG,uBAAA;IACAO;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}