{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { getCurrentInstance, ref, computed, watch, nextTick, onMounted } from 'vue';\nimport { useTimeoutFn, isClient } from '@vueuse/core';\nimport { DEFAULT_DIALOG_TRANSITION } from './constants.mjs';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\nimport { useZIndex } from '../../../hooks/use-z-index/index.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useGlobalConfig } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { defaultNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { isObject, isArray, isFunction } from '@vue/shared';\nimport { debugWarn } from '../../../utils/error.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nconst COMPONENT_NAME = \"ElDialog\";\nconst useDialog = (props, targetRef) => {\n  var _a;\n  const instance = getCurrentInstance();\n  const emit = instance.emit;\n  const {\n    nextZIndex\n  } = useZIndex();\n  let lastPosition = \"\";\n  const titleId = useId();\n  const bodyId = useId();\n  const visible = ref(false);\n  const closed = ref(false);\n  const rendered = ref(false);\n  const zIndex = ref((_a = props.zIndex) != null ? _a : nextZIndex());\n  const closing = ref(false);\n  let openTimer = void 0;\n  let closeTimer = void 0;\n  const config = useGlobalConfig();\n  const namespace = computed(() => {\n    var _a2, _b;\n    return (_b = (_a2 = config.value) == null ? void 0 : _a2.namespace) != null ? _b : defaultNamespace;\n  });\n  const globalConfig = computed(() => {\n    var _a2;\n    return (_a2 = config.value) == null ? void 0 : _a2.dialog;\n  });\n  const style = computed(() => {\n    const style2 = {};\n    const varPrefix = `--${namespace.value}-dialog`;\n    if (!props.fullscreen) {\n      if (props.top) {\n        style2[`${varPrefix}-margin-top`] = props.top;\n      }\n      const width = addUnit(props.width);\n      if (width) {\n        style2[`${varPrefix}-width`] = width;\n      }\n    }\n    return style2;\n  });\n  const _draggable = computed(() => {\n    var _a2, _b, _c;\n    return ((_c = (_b = props.draggable) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.draggable) != null ? _c : false) && !props.fullscreen;\n  });\n  const _alignCenter = computed(() => {\n    var _a2, _b, _c;\n    return (_c = (_b = props.alignCenter) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.alignCenter) != null ? _c : false;\n  });\n  const _overflow = computed(() => {\n    var _a2, _b, _c;\n    return (_c = (_b = props.overflow) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.overflow) != null ? _c : false;\n  });\n  const overlayDialogStyle = computed(() => {\n    if (_alignCenter.value) {\n      return {\n        display: \"flex\"\n      };\n    }\n    return {};\n  });\n  const transitionConfig = computed(() => {\n    var _a2, _b, _c;\n    const transition = (_c = (_b = props.transition) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.transition) != null ? _c : DEFAULT_DIALOG_TRANSITION;\n    const baseConfig = {\n      name: transition,\n      onAfterEnter: afterEnter,\n      onBeforeLeave: beforeLeave,\n      onAfterLeave: afterLeave\n    };\n    if (isObject(transition)) {\n      const config2 = {\n        ...transition\n      };\n      const _mergeHook = (userHook, defaultHook) => {\n        return el => {\n          if (isArray(userHook)) {\n            userHook.forEach(fn => {\n              if (isFunction(fn)) fn(el);\n            });\n          } else if (isFunction(userHook)) {\n            userHook(el);\n          }\n          defaultHook();\n        };\n      };\n      config2.onAfterEnter = _mergeHook(config2.onAfterEnter, afterEnter);\n      config2.onBeforeLeave = _mergeHook(config2.onBeforeLeave, beforeLeave);\n      config2.onAfterLeave = _mergeHook(config2.onAfterLeave, afterLeave);\n      if (!config2.name) {\n        config2.name = DEFAULT_DIALOG_TRANSITION;\n        debugWarn(COMPONENT_NAME, `transition.name is missing when using object syntax, fallback to '${DEFAULT_DIALOG_TRANSITION}'`);\n      }\n      return config2;\n    }\n    return baseConfig;\n  });\n  function afterEnter() {\n    emit(\"opened\");\n  }\n  function afterLeave() {\n    emit(\"closed\");\n    emit(UPDATE_MODEL_EVENT, false);\n    if (props.destroyOnClose) {\n      rendered.value = false;\n    }\n    closing.value = false;\n  }\n  function beforeLeave() {\n    closing.value = true;\n    emit(\"close\");\n  }\n  function open() {\n    closeTimer == null ? void 0 : closeTimer();\n    openTimer == null ? void 0 : openTimer();\n    if (props.openDelay && props.openDelay > 0) {\n      ({\n        stop: openTimer\n      } = useTimeoutFn(() => doOpen(), props.openDelay));\n    } else {\n      doOpen();\n    }\n  }\n  function close() {\n    openTimer == null ? void 0 : openTimer();\n    closeTimer == null ? void 0 : closeTimer();\n    if (props.closeDelay && props.closeDelay > 0) {\n      ({\n        stop: closeTimer\n      } = useTimeoutFn(() => doClose(), props.closeDelay));\n    } else {\n      doClose();\n    }\n  }\n  function handleClose() {\n    function hide(shouldCancel) {\n      if (shouldCancel) return;\n      closed.value = true;\n      visible.value = false;\n    }\n    if (props.beforeClose) {\n      props.beforeClose(hide);\n    } else {\n      close();\n    }\n  }\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose();\n    }\n  }\n  function doOpen() {\n    if (!isClient) return;\n    visible.value = true;\n  }\n  function doClose() {\n    visible.value = false;\n  }\n  function onOpenAutoFocus() {\n    emit(\"openAutoFocus\");\n  }\n  function onCloseAutoFocus() {\n    emit(\"closeAutoFocus\");\n  }\n  function onFocusoutPrevented(event) {\n    var _a2;\n    if (((_a2 = event.detail) == null ? void 0 : _a2.focusReason) === \"pointer\") {\n      event.preventDefault();\n    }\n  }\n  if (props.lockScroll) {\n    useLockscreen(visible);\n  }\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose();\n    }\n  }\n  watch(() => props.zIndex, () => {\n    var _a2;\n    zIndex.value = (_a2 = props.zIndex) != null ? _a2 : nextZIndex();\n  });\n  watch(() => props.modelValue, val => {\n    var _a2;\n    if (val) {\n      closed.value = false;\n      open();\n      rendered.value = true;\n      zIndex.value = (_a2 = props.zIndex) != null ? _a2 : nextZIndex();\n      nextTick(() => {\n        emit(\"open\");\n        if (targetRef.value) {\n          targetRef.value.parentElement.scrollTop = 0;\n          targetRef.value.parentElement.scrollLeft = 0;\n          targetRef.value.scrollTop = 0;\n        }\n      });\n    } else {\n      if (visible.value) {\n        close();\n      }\n    }\n  });\n  watch(() => props.fullscreen, val => {\n    if (!targetRef.value) return;\n    if (val) {\n      lastPosition = targetRef.value.style.transform;\n      targetRef.value.style.transform = \"\";\n    } else {\n      targetRef.value.style.transform = lastPosition;\n    }\n  });\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true;\n      rendered.value = true;\n      open();\n    }\n  });\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex,\n    transitionConfig,\n    _draggable,\n    _alignCenter,\n    _overflow,\n    closing\n  };\n};\nexport { useDialog };","map":{"version":3,"names":["COMPONENT_NAME","useDialog","props","targetRef","_a","instance","getCurrentInstance","emit","nextZIndex","useZIndex","lastPosition","titleId","useId","bodyId","visible","ref","closed","rendered","zIndex","closing","openTimer","closeTimer","config","useGlobalConfig","namespace","computed","_a2","_b","value","defaultNamespace","globalConfig","dialog","style","style2","varPrefix","fullscreen","top","width","addUnit","_draggable","_c","draggable","_alignCenter","alignCenter","_overflow","overflow","overlayDialogStyle","display","transitionConfig","transition","DEFAULT_DIALOG_TRANSITION","baseConfig","name","onAfterEnter","afterEnter","onBeforeLeave","beforeLeave","onAfterLeave","afterLeave","isObject","config2","_mergeHook","userHook","defaultHook","el","isArray","forEach","fn","isFunction","debugWarn","UPDATE_MODEL_EVENT","destroyOnClose","open","openDelay","stop","useTimeoutFn","doOpen","close","closeDelay","doClose","handleClose","hide","shouldCancel","beforeClose","onModalClick","closeOnClickModal","isClient","onOpenAutoFocus","onCloseAutoFocus","onFocusoutPrevented","event","detail","focusReason","preventDefault","lockScroll","useLockscreen","onCloseRequested","closeOnPressEscape","watch","modelValue","val","nextTick","parentElement","scrollTop","scrollLeft","transform","onMounted"],"sources":["../../../../../../packages/components/dialog/src/use-dialog.ts"],"sourcesContent":["import {\n  computed,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  ref,\n  watch,\n} from 'vue'\nimport { useTimeoutFn } from '@vueuse/core'\nimport {\n  defaultNamespace,\n  useId,\n  useLockscreen,\n  useZIndex,\n} from '@element-plus/hooks'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport {\n  addUnit,\n  debugWarn,\n  isArray,\n  isClient,\n  isFunction,\n  isObject,\n} from '@element-plus/utils'\nimport { useGlobalConfig } from '@element-plus/components/config-provider'\nimport { DEFAULT_DIALOG_TRANSITION } from './constants'\n\nimport type { CSSProperties, Ref, SetupContext, TransitionProps } from 'vue'\nimport type { Arrayable } from '@element-plus/utils'\nimport type { DialogEmits, DialogProps } from './dialog'\n\nconst COMPONENT_NAME = 'ElDialog'\n\nexport const useDialog = (\n  props: DialogProps,\n  targetRef: Ref<HTMLElement | undefined>\n) => {\n  const instance = getCurrentInstance()!\n  const emit = instance.emit as SetupContext<DialogEmits>['emit']\n  const { nextZIndex } = useZIndex()\n\n  let lastPosition = ''\n  const titleId = useId()\n  const bodyId = useId()\n  const visible = ref(false)\n  const closed = ref(false)\n  const rendered = ref(false) // when destroyOnClose is true, we initialize it as false vise versa\n  const zIndex = ref(props.zIndex ?? nextZIndex())\n  const closing = ref(false)\n\n  let openTimer: (() => void) | undefined = undefined\n  let closeTimer: (() => void) | undefined = undefined\n\n  const config = useGlobalConfig()\n\n  const namespace = computed(() => config.value?.namespace ?? defaultNamespace)\n  const globalConfig = computed(() => config.value?.dialog)\n\n  const style = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n    const varPrefix = `--${namespace.value}-dialog` as const\n    if (!props.fullscreen) {\n      if (props.top) {\n        style[`${varPrefix}-margin-top`] = props.top\n      }\n      const width = addUnit(props.width)\n      if (width) {\n        style[`${varPrefix}-width`] = width\n      }\n    }\n    return style\n  })\n\n  const _draggable = computed(\n    () =>\n      (props.draggable ?? globalConfig.value?.draggable ?? false) &&\n      !props.fullscreen\n  )\n\n  const _alignCenter = computed(\n    () => props.alignCenter ?? globalConfig.value?.alignCenter ?? false\n  )\n\n  const _overflow = computed(\n    () => props.overflow ?? globalConfig.value?.overflow ?? false\n  )\n\n  const overlayDialogStyle = computed<CSSProperties>(() => {\n    if (_alignCenter.value) {\n      return { display: 'flex' }\n    }\n    return {}\n  })\n\n  const transitionConfig = computed(() => {\n    const transition =\n      props.transition ??\n      globalConfig.value?.transition ??\n      DEFAULT_DIALOG_TRANSITION\n    const baseConfig = {\n      name: transition,\n      onAfterEnter: afterEnter,\n      onBeforeLeave: beforeLeave,\n      onAfterLeave: afterLeave,\n    }\n    if (isObject(transition)) {\n      const config = { ...transition } as TransitionProps\n      const _mergeHook = (\n        userHook: Arrayable<(el: Element) => void> | undefined,\n        defaultHook: () => void\n      ) => {\n        return (el: Element) => {\n          if (isArray(userHook)) {\n            userHook.forEach((fn) => {\n              if (isFunction(fn)) fn(el)\n            })\n          } else if (isFunction(userHook)) {\n            userHook(el)\n          }\n          defaultHook()\n        }\n      }\n      config.onAfterEnter = _mergeHook(config.onAfterEnter, afterEnter)\n      config.onBeforeLeave = _mergeHook(config.onBeforeLeave, beforeLeave)\n      config.onAfterLeave = _mergeHook(config.onAfterLeave, afterLeave)\n      if (!config.name) {\n        config.name = DEFAULT_DIALOG_TRANSITION\n        debugWarn(\n          COMPONENT_NAME,\n          `transition.name is missing when using object syntax, fallback to '${DEFAULT_DIALOG_TRANSITION}'`\n        )\n      }\n      return config\n    }\n\n    return baseConfig\n  })\n\n  function afterEnter() {\n    emit('opened')\n  }\n\n  function afterLeave() {\n    emit('closed')\n    emit(UPDATE_MODEL_EVENT, false)\n    if (props.destroyOnClose) {\n      rendered.value = false\n    }\n    closing.value = false\n  }\n\n  function beforeLeave() {\n    closing.value = true\n    emit('close')\n  }\n\n  function open() {\n    closeTimer?.()\n    openTimer?.()\n\n    if (props.openDelay && props.openDelay > 0) {\n      ;({ stop: openTimer } = useTimeoutFn(() => doOpen(), props.openDelay))\n    } else {\n      doOpen()\n    }\n  }\n\n  function close() {\n    openTimer?.()\n    closeTimer?.()\n\n    if (props.closeDelay && props.closeDelay > 0) {\n      ;({ stop: closeTimer } = useTimeoutFn(() => doClose(), props.closeDelay))\n    } else {\n      doClose()\n    }\n  }\n\n  function handleClose() {\n    function hide(shouldCancel?: boolean) {\n      if (shouldCancel) return\n      closed.value = true\n      visible.value = false\n    }\n\n    if (props.beforeClose) {\n      props.beforeClose(hide)\n    } else {\n      close()\n    }\n  }\n\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose()\n    }\n  }\n\n  function doOpen() {\n    if (!isClient) return\n    visible.value = true\n  }\n\n  function doClose() {\n    visible.value = false\n  }\n\n  function onOpenAutoFocus() {\n    emit('openAutoFocus')\n  }\n\n  function onCloseAutoFocus() {\n    emit('closeAutoFocus')\n  }\n\n  function onFocusoutPrevented(event: CustomEvent) {\n    if (event.detail?.focusReason === 'pointer') {\n      event.preventDefault()\n    }\n  }\n\n  if (props.lockScroll) {\n    useLockscreen(visible)\n  }\n\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose()\n    }\n  }\n\n  watch(\n    () => props.zIndex,\n    () => {\n      zIndex.value = props.zIndex ?? nextZIndex()\n    }\n  )\n\n  watch(\n    () => props.modelValue,\n    (val) => {\n      if (val) {\n        closed.value = false\n        open()\n        rendered.value = true // enables lazy rendering\n        zIndex.value = props.zIndex ?? nextZIndex()\n        // this.$el.addEventListener('scroll', this.updatePopper)\n        nextTick(() => {\n          emit('open')\n          if (targetRef.value) {\n            targetRef.value.parentElement!.scrollTop = 0\n            targetRef.value.parentElement!.scrollLeft = 0\n            targetRef.value.scrollTop = 0\n          }\n        })\n      } else {\n        // this.$el.removeEventListener('scroll', this.updatePopper\n        if (visible.value) {\n          close()\n        }\n      }\n    }\n  )\n\n  watch(\n    () => props.fullscreen,\n    (val) => {\n      if (!targetRef.value) return\n      if (val) {\n        lastPosition = targetRef.value.style.transform\n        targetRef.value.style.transform = ''\n      } else {\n        targetRef.value.style.transform = lastPosition\n      }\n    }\n  )\n\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true\n      rendered.value = true // enables lazy rendering\n      open()\n    }\n  })\n\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex,\n    transitionConfig,\n    _draggable,\n    _alignCenter,\n    _overflow,\n    closing,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}