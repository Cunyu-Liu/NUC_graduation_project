{"ast":null,"code":"import { defineComponent, getCurrentInstance, useSlots, inject, ref, computed, watch, reactive, onBeforeUnmount, onBeforeUpdate, withDirectives, openBlock, createElementBlock, normalizeClass, unref, renderSlot, vShow, createCommentVNode } from 'vue';\nimport { tabsRootContextKey } from './constants.mjs';\nimport { tabPaneProps } from './tab-pane.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { throwError } from '../../../utils/error.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _hoisted_1 = [\"id\", \"aria-hidden\", \"aria-labelledby\"];\nconst COMPONENT_NAME = \"ElTabPane\";\nconst _sfc_main = defineComponent({\n  ...{\n    name: COMPONENT_NAME\n  },\n  __name: \"tab-pane\",\n  props: tabPaneProps,\n  setup(__props) {\n    const props = __props;\n    const instance = getCurrentInstance();\n    const slots = useSlots();\n    const tabsRoot = inject(tabsRootContextKey);\n    if (!tabsRoot) throwError(COMPONENT_NAME, \"usage: <el-tabs><el-tab-pane /></el-tabs/>\");\n    const ns = useNamespace(\"tab-pane\");\n    const paneRef = ref();\n    const index = ref();\n    const isClosable = computed(() => {\n      var _a;\n      return (_a = props.closable) != null ? _a : tabsRoot.props.closable;\n    });\n    const active = computed(() => {\n      var _a;\n      return tabsRoot.currentName.value === ((_a = props.name) != null ? _a : index.value);\n    });\n    const loaded = ref(active.value);\n    const paneName = computed(() => {\n      var _a;\n      return (_a = props.name) != null ? _a : index.value;\n    });\n    const shouldBeRender = computed(() => !props.lazy || loaded.value || active.value);\n    const isFocusInsidePane = () => {\n      var _a;\n      return (_a = paneRef.value) == null ? void 0 : _a.contains(document.activeElement);\n    };\n    watch(active, val => {\n      if (val) loaded.value = true;\n    });\n    const pane = reactive({\n      uid: instance.uid,\n      getVnode: () => instance.vnode,\n      slots,\n      props,\n      paneName,\n      active,\n      index,\n      isClosable,\n      isFocusInsidePane\n    });\n    tabsRoot.registerPane(pane);\n    onBeforeUnmount(() => {\n      tabsRoot.unregisterPane(pane);\n    });\n    onBeforeUpdate(() => {\n      var _a;\n      if (slots.label) (_a = tabsRoot.nav$.value) == null ? void 0 : _a.scheduleRender();\n    });\n    return (_ctx, _cache) => {\n      return shouldBeRender.value ? withDirectives((openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        id: `pane-${paneName.value}`,\n        ref_key: \"paneRef\",\n        ref: paneRef,\n        class: normalizeClass(unref(ns).b()),\n        role: \"tabpanel\",\n        \"aria-hidden\": !active.value,\n        \"aria-labelledby\": `tab-${paneName.value}`\n      }, [renderSlot(_ctx.$slots, \"default\")], 10, _hoisted_1)), [[vShow, active.value]]) : createCommentVNode(\"v-if\", true);\n    };\n  }\n});\nvar TabPane = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue\"]]);\nexport { TabPane as default };","map":{"version":3,"names":["COMPONENT_NAME","props","__props","instance","getCurrentInstance","slots","useSlots","tabsRoot","inject","tabsRootContextKey","throwError","ns","useNamespace","paneRef","ref","index","isClosable","computed","_a","closable","active","currentName","value","name","loaded","paneName","shouldBeRender","lazy","isFocusInsidePane","contains","document","activeElement","watch","val","pane","reactive","uid","getVnode","vnode","registerPane","onBeforeUnmount","unregisterPane","onBeforeUpdate","label","nav$","scheduleRender","withDirectives","openBlock","createElementBlock","key","id","ref_key","class","normalizeClass","unref","b","role","renderSlot","_ctx","$slots","_hoisted_1","vShow","createCommentVNode"],"sources":["../../../../../../packages/components/tabs/src/tab-pane.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"shouldBeRender\"\n    v-show=\"active\"\n    :id=\"`pane-${paneName}`\"\n    ref=\"paneRef\"\n    :class=\"ns.b()\"\n    role=\"tabpanel\"\n    :aria-hidden=\"!active\"\n    :aria-labelledby=\"`tab-${paneName}`\"\n  >\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  onBeforeUnmount,\n  onBeforeUpdate,\n  reactive,\n  ref,\n  useSlots,\n  watch,\n} from 'vue'\nimport { throwError } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport { tabsRootContextKey } from './constants'\nimport { tabPaneProps } from './tab-pane'\n\nconst COMPONENT_NAME = 'ElTabPane'\ndefineOptions({\n  name: COMPONENT_NAME,\n})\nconst props = defineProps(tabPaneProps)\n\nconst instance = getCurrentInstance()!\nconst slots = useSlots()\n\nconst tabsRoot = inject(tabsRootContextKey)\nif (!tabsRoot)\n  throwError(COMPONENT_NAME, 'usage: <el-tabs><el-tab-pane /></el-tabs/>')\n\nconst ns = useNamespace('tab-pane')\n\nconst paneRef = ref<HTMLDivElement>()\nconst index = ref<string>()\nconst isClosable = computed(() => props.closable ?? tabsRoot.props.closable)\nconst active = computed(\n  () => tabsRoot.currentName.value === (props.name ?? index.value)\n)\nconst loaded = ref(active.value)\nconst paneName = computed(() => props.name ?? index.value)\nconst shouldBeRender = computed(\n  () => !props.lazy || loaded.value || active.value\n)\n\nconst isFocusInsidePane = () => {\n  return paneRef.value?.contains(document.activeElement)\n}\n\nwatch(active, (val) => {\n  if (val) loaded.value = true\n})\n\nconst pane = reactive({\n  uid: instance.uid,\n  getVnode: () => instance.vnode,\n  slots,\n  props,\n  paneName,\n  active,\n  index,\n  isClosable,\n  isFocusInsidePane,\n})\n\ntabsRoot.registerPane(pane)\n\nonBeforeUnmount(() => {\n  tabsRoot.unregisterPane(pane)\n})\n\nonBeforeUpdate(() => {\n  if (slots.label) tabsRoot.nav$.value?.scheduleRender()\n})\n</script>\n"],"mappings":";;;;;;;AAgCA,MAAMA,cAAiB;;;;;;;;IAIvB,MAAMC,KAAQ,GAAAC,OAAA;IAEd,MAAMC,QAAA,GAAWC,kBAAmB;IACpC,MAAMC,KAAA,GAAQC,QAAS;IAEjB,MAAAC,QAAA,GAAWC,MAAA,CAAOC,kBAAkB;IAC1C,IAAI,CAACF,QAAA,EACHG,UAAA,CAAWV,cAAA,EAAgB,4CAA4C;IAEnE,MAAAW,EAAA,GAAKC,YAAA,CAAa,UAAU;IAElC,MAAMC,OAAA,GAAUC,GAAoB;IACpC,MAAMC,KAAA,GAAQD,GAAY;IACpB,MAAAE,UAAA,GAAaC,QAAA,CAAS;;MAAY,QAAAC,EAAA,GAAAjB,KAAA,CAAAkB,QAAA,KAAN,IAAkB,GAAAD,EAAA,GAAAX,QAAA,CAASN,KAAM,CAAAkB,QAAA;IAAA,CAAQ;IAC3E,MAAMC,MAAS,GAAAH,QAAA,CACb;;MAAM,OAAAV,QAAA,CAASc,WAAY,CAAAC,KAAA,OAAWJ,EAAM,GAAAjB,KAAA,CAAAsB,IAAA,KAAN,OAAAL,EAAA,GAAcH,KAAM,CAAAO,KAAA;IAAA,EAC5D;IACM,MAAAE,MAAA,GAASV,GAAI,CAAAM,MAAA,CAAOE,KAAK;IACzB,MAAAG,QAAA,GAAWR,QAAA,CAAS;;MAAY,QAAAC,EAAA,GAAAjB,KAAA,CAAAsB,IAAA,KAAN,OAAAL,EAAA,GAAcH,KAAM,CAAAO,KAAA;IAAA,CAAK;IACzD,MAAMI,cAAiB,GAAAT,QAAA,CACrB,MAAM,CAAChB,KAAA,CAAM0B,IAAQ,IAAAH,MAAA,CAAOF,KAAA,IAASF,MAAO,CAAAE,KAAA,CAC9C;IAEA,MAAMM,iBAAA,GAAoBA,CAAA,KAAM;;MAC9B,QAAOV,EAAQ,GAAAL,OAAA,CAAAS,KAAA,KAAR,IAAe,YAAAJ,EAAA,CAAAW,QAAA,CAASC,QAAS,CAAAC,aAAA;IAAA,CAC1C;IAEMC,KAAA,CAAAZ,MAAA,EAASa,GAAQ;MACjB,IAAAA,GAAA,E,OAAYX,KAAQ;IAAA,CACzB;IAED,MAAMY,IAAA,GAAOC,QAAS;MACpBC,GAAA,EAAKjC,QAAS,CAAAiC,GAAA;MACdC,QAAA,EAAUA,CAAA,KAAMlC,QAAS,CAAAmC,KAAA;MACzBjC,KAAA;MACAJ,KAAA;MACAwB,QAAA;MACAL,MAAA;MACAL,KAAA;MACAC,UAAA;MACAY;IAAA,CACD;IAEDrB,QAAA,CAASgC,YAAA,CAAaL,IAAI;IAE1BM,eAAA,CAAgB,MAAM;MACpBjC,QAAA,CAASkC,cAAA,CAAeP,IAAI;IAAA,CAC7B;IAEDQ,cAAA,CAAe,MAAM;;MACnB,IAAIrC,KAAM,CAAAsC,KAAA,EAAgB,CAAAzB,EAAA,GAAAX,QAAA,CAAAqC,IAAA,CAAKtB,KAAA,KAAL,IAAY,YAAAJ,EAAA,CAAA2B,cAAA;IAAA,CACvC;;MArFS,OAAAnB,cAAA,CAAAJ,KAAA,GAAAwB,cAAA,EAAAC,SAAA,IADRC,kBAAA,CAWM;QAAAC,GAAA;QARHC,EAAA,EAAE,QAAUzB,QAAQ,CAAAH,KAAA;QACjB6B,OAAA;QAAJrC,GAAI,EAAAD,OAAA;QACHuC,KAAA,EAAKC,cAAE,CAAAC,KAAA,CAAA3C,EAAA,EAAG4C,CAAA,EAAC;QACZC,IAAK;QACJ,eAAW,CAAGpC,MAAA,CAAAE,KAAA;QACd,mBAAe,OAASG,QAAQ,CAAAH,KAAA;MAAA,IAEjCmC,UAAA,CAAQC,IAAA,CAAAC,MAAA,mBAAAC,UAAA,MAAAC,KARA,EAAAzC,MAAA,CAAME,KAAA,MAAAwC,kBAAA;IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}