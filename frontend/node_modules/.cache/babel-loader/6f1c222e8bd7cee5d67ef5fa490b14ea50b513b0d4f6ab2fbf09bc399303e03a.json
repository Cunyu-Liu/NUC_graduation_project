{"ast":null,"code":"import { isClient } from '@vueuse/core';\nlet isDragging = false;\nfunction draggable(element, options) {\n  if (!isClient) return;\n  const moveFn = function (event) {\n    var _a;\n    (_a = options.drag) == null ? void 0 : _a.call(options, event);\n  };\n  const upFn = function (event) {\n    var _a;\n    document.removeEventListener(\"mousemove\", moveFn);\n    document.removeEventListener(\"mouseup\", upFn);\n    document.removeEventListener(\"touchmove\", moveFn);\n    document.removeEventListener(\"touchend\", upFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n    (_a = options.end) == null ? void 0 : _a.call(options, event);\n  };\n  const downFn = function (event) {\n    var _a;\n    if (isDragging) return;\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n    document.addEventListener(\"mousemove\", moveFn);\n    document.addEventListener(\"mouseup\", upFn);\n    document.addEventListener(\"touchmove\", moveFn);\n    document.addEventListener(\"touchend\", upFn);\n    isDragging = true;\n    (_a = options.start) == null ? void 0 : _a.call(options, event);\n  };\n  element.addEventListener(\"mousedown\", downFn);\n  element.addEventListener(\"touchstart\", downFn, {\n    passive: false\n  });\n}\nexport { draggable };","map":{"version":3,"names":["isDragging","draggable","element","options","isClient","moveFn","event","_a","drag","call","upFn","document","removeEventListener","onselectstart","ondragstart","end","downFn","addEventListener","start","passive"],"sources":["../../../../../../../packages/components/color-picker-panel/src/utils/draggable.ts"],"sourcesContent":["import { isClient } from '@element-plus/utils'\n\nlet isDragging = false\n\nexport interface DraggableOptions {\n  drag?: (event: MouseEvent | TouchEvent) => void\n  start?: (event: MouseEvent | TouchEvent) => void\n  end?: (event: MouseEvent | TouchEvent) => void\n}\n\nexport function draggable(element: HTMLElement, options: DraggableOptions) {\n  if (!isClient) return\n\n  const moveFn = function (event: MouseEvent | TouchEvent) {\n    options.drag?.(event)\n  }\n\n  const upFn = function (event: MouseEvent | TouchEvent) {\n    document.removeEventListener('mousemove', moveFn)\n    document.removeEventListener('mouseup', upFn)\n    document.removeEventListener('touchmove', moveFn)\n    document.removeEventListener('touchend', upFn)\n    document.onselectstart = null\n    document.ondragstart = null\n\n    isDragging = false\n\n    options.end?.(event)\n  }\n\n  const downFn = function (event: MouseEvent | TouchEvent) {\n    if (isDragging) return\n    document.onselectstart = () => false\n    document.ondragstart = () => false\n    document.addEventListener('mousemove', moveFn)\n    document.addEventListener('mouseup', upFn)\n    document.addEventListener('touchmove', moveFn)\n    document.addEventListener('touchend', upFn)\n\n    isDragging = true\n\n    options.start?.(event)\n  }\n\n  element.addEventListener('mousedown', downFn)\n  element.addEventListener('touchstart', downFn, { passive: false })\n}\n"],"mappings":";AAEA,IAAIA,UAAa;AAQD,SAAAC,UAAUC,OAAA,EAAsBC,OAA2B;EACzE,IAAI,CAACC,QAAA,EAAU;EAET,MAAAC,MAAA,GAAS,SAAAA,CAAUC,KAAgC;IAb3D,IAAAC,EAAA;IAcI,CAAAA,EAAA,GAAAJ,OAAA,CAAQK,IAAA,KAAR,IAAe,YAAAD,EAAA,CAAAE,IAAA,CAAAN,OAAA,EAAAG,KAAA;EAAA,CACjB;EAEM,MAAAI,IAAA,GAAO,SAAAA,CAAUJ,KAAgC;IAjBzD,IAAAC,EAAA;IAkBaI,QAAA,CAAAC,mBAAA,CAAoB,aAAaP,MAAM;IACvCM,QAAA,CAAAC,mBAAA,CAAoB,WAAWF,IAAI;IACnCC,QAAA,CAAAC,mBAAA,CAAoB,aAAaP,MAAM;IACvCM,QAAA,CAAAC,mBAAA,CAAoB,YAAYF,IAAI;IAC7CC,QAAA,CAASE,aAAgB;IACzBF,QAAA,CAASG,WAAc;IAEVd,UAAA;IAEb,CAAAO,EAAA,GAAAJ,OAAA,CAAQY,GAAA,KAAR,IAAc,YAAAR,EAAA,CAAAE,IAAA,CAAAN,OAAA,EAAAG,KAAA;EAAA,CAChB;EAEM,MAAAU,MAAA,GAAS,SAAAA,CAAUV,KAAgC;IA9B3D,IAAAC,EAAA;IA+BQ,IAAAP,UAAA,EAAY;IAChBW,QAAA,CAASE,aAAA,GAAgB,MAAM;IAC/BF,QAAA,CAASG,WAAA,GAAc,MAAM;IACpBH,QAAA,CAAAM,gBAAA,CAAiB,aAAaZ,MAAM;IACpCM,QAAA,CAAAM,gBAAA,CAAiB,WAAWP,IAAI;IAChCC,QAAA,CAAAM,gBAAA,CAAiB,aAAaZ,MAAM;IACpCM,QAAA,CAAAM,gBAAA,CAAiB,YAAYP,IAAI;IAE7BV,UAAA;IAEb,CAAAO,EAAA,GAAAJ,OAAA,CAAQe,KAAA,KAAR,IAAgB,YAAAX,EAAA,CAAAE,IAAA,CAAAN,OAAA,EAAAG,KAAA;EAAA,CAClB;EAEQJ,OAAA,CAAAe,gBAAA,CAAiB,aAAaD,MAAM;EAC5Cd,OAAA,CAAQe,gBAAA,CAAiB,YAAc,EAAAD,MAAA,EAAQ;IAAEG,OAAA,EAAS;EAAA,CAAO;AACnE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}