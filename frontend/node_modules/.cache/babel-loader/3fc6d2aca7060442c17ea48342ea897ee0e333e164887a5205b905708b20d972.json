{"ast":null,"code":"import { computed } from 'vue';\nfunction useMenu(instance, currentIndex) {\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex.value];\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n      parent = parent.parent;\n    }\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n    while (parent && ![\"ElMenu\", \"ElSubMenu\"].includes(parent.type.name)) {\n      parent = parent.parent;\n    }\n    return parent;\n  });\n  return {\n    parentMenu,\n    indexPath\n  };\n}\nexport { useMenu as default };","map":{"version":3,"names":["useMenu","instance","currentIndex","indexPath","computed","parent","path","value","type","name","props","index","unshift","parentMenu","includes"],"sources":["../../../../../../packages/components/menu/src/use-menu.ts"],"sourcesContent":["import { computed } from 'vue'\n\nimport type { ComponentInternalInstance, Ref } from 'vue'\n\nexport default function useMenu(\n  instance: ComponentInternalInstance,\n  currentIndex: Ref<string>\n) {\n  const indexPath = computed(() => {\n    let parent = instance.parent!\n    const path = [currentIndex.value]\n    while (parent.type.name !== 'ElMenu') {\n      if (parent.props.index) {\n        path.unshift(parent.props.index as string)\n      }\n      parent = parent.parent!\n    }\n    return path\n  })\n\n  const parentMenu = computed(() => {\n    let parent = instance.parent\n    while (parent && !['ElMenu', 'ElSubMenu'].includes(parent.type.name!)) {\n      parent = parent.parent\n    }\n    return parent!\n  })\n\n  return {\n    parentMenu,\n    indexPath,\n  }\n}\n"],"mappings":";AAIwB,SAAAA,QACtBC,QAAA,EACAC,YACA;EACM,MAAAC,SAAA,GAAYC,QAAA,CAAS,MAAM;IAC/B,IAAIC,MAAA,GAASJ,QAAS,CAAAI,MAAA;IAChB,MAAAC,IAAA,GAAO,CAACJ,YAAA,CAAaK,KAAK;IACzB,OAAAF,MAAA,CAAOG,IAAK,CAAAC,IAAA,KAAS,QAAU;MAChC,IAAAJ,MAAA,CAAOK,KAAA,CAAMC,KAAO;QACjBL,IAAA,CAAAM,OAAA,CAAQP,MAAO,CAAAK,KAAA,CAAMC,KAAe;MAAA;MAE3CN,MAAA,GAASA,MAAO,CAAAA,MAAA;IAAA;IAEX,OAAAC,IAAA;EAAA,CACR;EAEK,MAAAO,UAAA,GAAaT,QAAA,CAAS,MAAM;IAChC,IAAIC,MAAA,GAASJ,QAAS,CAAAI,MAAA;IACf,OAAAA,MAAA,IAAU,CAAC,CAAC,QAAU,aAAW,EAAES,QAAS,CAAAT,MAAA,CAAOG,IAAK,CAAAC,IAAK,CAAG;MACrEJ,MAAA,GAASA,MAAO,CAAAA,MAAA;IAAA;IAEX,OAAAA,MAAA;EAAA,CACR;EAEM;IACLQ,UAAA;IACAV;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}