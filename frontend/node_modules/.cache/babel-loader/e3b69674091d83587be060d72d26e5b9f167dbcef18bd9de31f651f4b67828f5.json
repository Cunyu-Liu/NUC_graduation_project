{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { computed, getCurrentInstance } from 'vue';\nimport { fromPairs } from 'lodash-unified';\nimport { debugWarn } from '../../utils/error.mjs';\nconst DEFAULT_EXCLUDE_KEYS = [\"class\", \"style\"];\nconst LISTENER_PREFIX = /^on[A-Z]/;\nconst useAttrs = (params = {}) => {\n  const {\n    excludeListeners = false,\n    excludeKeys\n  } = params;\n  const allExcludeKeys = computed(() => {\n    return ((excludeKeys == null ? void 0 : excludeKeys.value) || []).concat(DEFAULT_EXCLUDE_KEYS);\n  });\n  const instance = getCurrentInstance();\n  if (!instance) {\n    debugWarn(\"use-attrs\", \"getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function\");\n    return computed(() => ({}));\n  }\n  return computed(() => {\n    var _a;\n    return fromPairs(Object.entries((_a = instance.proxy) == null ? void 0 : _a.$attrs).filter(([key]) => !allExcludeKeys.value.includes(key) && !(excludeListeners && LISTENER_PREFIX.test(key))));\n  });\n};\nexport { useAttrs };","map":{"version":3,"names":["DEFAULT_EXCLUDE_KEYS","LISTENER_PREFIX","useAttrs","params","excludeListeners","excludeKeys","allExcludeKeys","computed","value","concat","instance","getCurrentInstance","debugWarn","_a","fromPairs","Object","entries","proxy","$attrs","filter","key","includes","test"],"sources":["../../../../../packages/hooks/use-attrs/index.ts"],"sourcesContent":["import { computed, getCurrentInstance } from 'vue'\nimport { fromPairs } from 'lodash-unified'\nimport { debugWarn } from '@element-plus/utils'\n\nimport type { ComputedRef } from 'vue'\n\ninterface Params {\n  excludeListeners?: boolean\n  excludeKeys?: ComputedRef<string[]>\n}\n\nconst DEFAULT_EXCLUDE_KEYS = ['class', 'style']\nconst LISTENER_PREFIX = /^on[A-Z]/\n\nexport const useAttrs = (\n  params: Params = {}\n): ComputedRef<Record<string, unknown>> => {\n  const { excludeListeners = false, excludeKeys } = params\n  const allExcludeKeys = computed<string[]>(() => {\n    return (excludeKeys?.value || []).concat(DEFAULT_EXCLUDE_KEYS)\n  })\n\n  const instance = getCurrentInstance()\n  if (!instance) {\n    debugWarn(\n      'use-attrs',\n      'getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function'\n    )\n    return computed(() => ({}))\n  }\n\n  return computed(() =>\n    fromPairs(\n      Object.entries(instance.proxy?.$attrs!).filter(\n        ([key]) =>\n          !allExcludeKeys.value.includes(key) &&\n          !(excludeListeners && LISTENER_PREFIX.test(key))\n      )\n    )\n  )\n}\n"],"mappings":";;;;;AAWA,MAAMA,oBAAA,GAAuB,CAAC,SAAS,OAAO;AAC9C,MAAMC,eAAkB;AAEjB,MAAMC,QAAW,GAAAA,CACtBC,MAAiB,KACwB;EACzC,MAAM;IAAEC,gBAAA,GAAmB,KAAO;IAAAC;EAAA,CAAgB,GAAAF,MAAA;EAC5C,MAAAG,cAAA,GAAiBC,QAAA,CAAmB,MAAM;IAC9C,SAAQF,WAAa,oBAAAA,WAAA,CAAAG,KAAA,KAAS,EAAC,EAAGC,MAAA,CAAOT,oBAAoB;EAAA,CAC9D;EAED,MAAMU,QAAA,GAAWC,kBAAmB;EACpC,IAAI,CAACD,QAAU;IACbE,SAAA,CACE,aACA,+FACF;IACO,OAAAL,QAAA,CAAS,OAAO,EAAG;EAAA;EAGrB,OAAAA,QAAA,CAAS,MAAG;IA/BrB,IAAAM,EAAA;IAgCI,OAAAC,SAAA,CACEC,MAAA,CAAOC,OAAQ,EAAAH,EAAA,GAAAH,QAAA,CAASO,KAAT,qBAAAJ,EAAA,CAAgBK,MAAO,CAAE,CAAAC,MAAA,CACtC,CAAC,CAACC,GAAG,MACH,CAACd,cAAe,CAAAE,KAAA,CAAMa,QAAS,CAAAD,GAAG,CAClC,MAAEhB,gBAAoB,IAAAH,eAAA,CAAgBqB,IAAA,CAAKF,GAAG,GAClD,CACF;EAAA,EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}