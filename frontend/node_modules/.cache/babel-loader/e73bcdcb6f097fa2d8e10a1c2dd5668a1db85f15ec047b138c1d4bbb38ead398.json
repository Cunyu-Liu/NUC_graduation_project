{"ast":null,"code":"import { ref, onMounted, nextTick } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport { isArray } from '@vue/shared';\nimport { isNumber } from '../../../../utils/types.mjs';\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref();\n  onMounted(async () => {\n    if (props.range) {\n      if (isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n    } else {\n      if (!isNumber(props.modelValue) || Number.isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n      initData.oldValue = initData.firstValue;\n    }\n    useEventListener(window, \"resize\", resetSize);\n    await nextTick();\n    resetSize();\n  });\n  return {\n    sliderWrapper\n  };\n};\nexport { useLifecycle };","map":{"version":3,"names":["useLifecycle","props","initData","resetSize","sliderWrapper","ref","onMounted","range","isArray","modelValue","firstValue","Math","max","min","secondValue","oldValue","isNumber","Number","isNaN","useEventListener","window","nextTick"],"sources":["../../../../../../../packages/components/slider/src/composables/use-lifecycle.ts"],"sourcesContent":["import { nextTick, onMounted, ref } from 'vue'\nimport { useEventListener } from '@vueuse/core'\nimport { isArray, isNumber } from '@element-plus/utils'\n\nimport type { SliderInitData, SliderProps } from '../slider'\n\nexport const useLifecycle = (\n  props: SliderProps,\n  initData: SliderInitData,\n  resetSize: () => void\n) => {\n  const sliderWrapper = ref<HTMLElement>()\n\n  onMounted(async () => {\n    if (props.range) {\n      if (isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0])\n        initData.secondValue = Math.min(props.max, props.modelValue[1])\n      } else {\n        initData.firstValue = props.min\n        initData.secondValue = props.max\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue]\n    } else {\n      if (!isNumber(props.modelValue) || Number.isNaN(props.modelValue)) {\n        initData.firstValue = props.min\n      } else {\n        initData.firstValue = Math.min(\n          props.max,\n          Math.max(props.min, props.modelValue)\n        )\n      }\n      initData.oldValue = initData.firstValue\n    }\n\n    useEventListener(window, 'resize', resetSize)\n\n    await nextTick()\n    resetSize()\n  })\n\n  return {\n    sliderWrapper,\n  }\n}\n"],"mappings":";;;;AAMO,MAAMA,YAAe,GAAAA,CAC1BC,KACA,EAAAC,QAAA,EACAC,SACG;EACH,MAAMC,aAAA,GAAgBC,GAAiB;EAEvCC,SAAA,CAAU,YAAY;IACpB,IAAIL,KAAA,CAAMM,KAAO;MACX,IAAAC,OAAA,CAAQP,KAAM,CAAAQ,UAAU,CAAG;QAC7BP,QAAA,CAASQ,UAAA,GAAaC,IAAK,CAAAC,GAAA,CAAIX,KAAA,CAAMY,GAAK,EAAAZ,KAAA,CAAMQ,UAAA,CAAW,CAAE;QAC7DP,QAAA,CAASY,WAAA,GAAcH,IAAK,CAAAE,GAAA,CAAIZ,KAAA,CAAMW,GAAK,EAAAX,KAAA,CAAMQ,UAAA,CAAW,CAAE;MAAA,CACzD;QACLP,QAAA,CAASQ,UAAA,GAAaT,KAAM,CAAAY,GAAA;QAC5BX,QAAA,CAASY,WAAA,GAAcb,KAAM,CAAAW,GAAA;MAAA;MAE/BV,QAAA,CAASa,QAAW,IAACb,QAAS,CAAAQ,UAAA,EAAYR,QAAA,CAASY,WAAW;IAAA,CACzD;MACD,KAACE,QAAA,CAASf,KAAM,CAAAQ,UAAU,KAAKQ,MAAO,CAAAC,KAAA,CAAMjB,KAAM,CAAAQ,UAAU,CAAG;QACjEP,QAAA,CAASQ,UAAA,GAAaT,KAAM,CAAAY,GAAA;MAAA,CACvB;QACLX,QAAA,CAASQ,UAAA,GAAaC,IAAK,CAAAE,GAAA,CACzBZ,KAAM,CAAAW,GAAA,EACND,IAAK,CAAAC,GAAA,CAAIX,KAAM,CAAAY,GAAA,EAAKZ,KAAA,CAAMQ,UAAU,EACtC;MAAA;MAEFP,QAAA,CAASa,QAAA,GAAWb,QAAS,CAAAQ,UAAA;IAAA;IAGdS,gBAAA,CAAAC,MAAA,EAAQ,UAAUjB,SAAS;IAE5C,MAAMkB,QAAS;IACLlB,SAAA;EAAA,CACX;EAEM;IACLC;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}