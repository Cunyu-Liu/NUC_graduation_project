{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport { filterOption } from './helper.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { inputProps } from '../../input/src/input2.mjs';\nimport { isString, isFunction, isObject } from '@vue/shared';\nimport { useTooltipContentProps } from '../../tooltip/src/content.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nconst mentionProps = buildProps({\n  ...inputProps,\n  options: {\n    type: definePropType(Array),\n    default: () => []\n  },\n  prefix: {\n    type: definePropType([String, Array]),\n    default: \"@\",\n    validator: val => {\n      if (isString(val)) return val.length === 1;\n      return val.every(v => isString(v) && v.length === 1);\n    }\n  },\n  split: {\n    type: String,\n    default: \" \",\n    validator: val => val.length === 1\n  },\n  filterOption: {\n    type: definePropType([Boolean, Function]),\n    default: () => filterOption,\n    validator: val => {\n      if (val === false) return true;\n      return isFunction(val);\n    }\n  },\n  placement: {\n    type: definePropType(String),\n    default: \"bottom\"\n  },\n  showArrow: Boolean,\n  offset: {\n    type: Number,\n    default: 0\n  },\n  whole: Boolean,\n  checkIsWhole: {\n    type: definePropType(Function)\n  },\n  modelValue: String,\n  loading: Boolean,\n  popperClass: useTooltipContentProps.popperClass,\n  popperStyle: useTooltipContentProps.popperStyle,\n  popperOptions: {\n    type: definePropType(Object),\n    default: () => ({})\n  },\n  props: {\n    type: definePropType(Object),\n    default: () => mentionDefaultProps\n  }\n});\nconst mentionEmits = {\n  [UPDATE_MODEL_EVENT]: value => isString(value),\n  \"whole-remove\": (pattern, prefix) => isString(pattern) && isString(prefix),\n  input: value => isString(value),\n  search: (pattern, prefix) => isString(pattern) && isString(prefix),\n  select: (option, prefix) => isObject(option) && isString(prefix),\n  focus: evt => evt instanceof FocusEvent,\n  blur: evt => evt instanceof FocusEvent\n};\nconst mentionDefaultProps = {\n  value: \"value\",\n  label: \"label\",\n  disabled: \"disabled\"\n};\nexport { mentionDefaultProps, mentionEmits, mentionProps };","map":{"version":3,"names":["mentionProps","buildProps","inputProps","options","type","definePropType","Array","default","prefix","String","validator","val","isString","length","every","v","split","filterOption","Boolean","Function","isFunction","placement","showArrow","offset","Number","whole","checkIsWhole","modelValue","loading","popperClass","useTooltipContentProps","popperStyle","popperOptions","Object","props","mentionDefaultProps","mentionEmits","UPDATE_MODEL_EVENT","value","whole-remove","pattern","input","search","select","option","isObject","focus","evt","FocusEvent","blur","label","disabled"],"sources":["../../../../../../packages/components/mention/src/mention.ts"],"sourcesContent":["import {\n  buildProps,\n  definePropType,\n  isFunction,\n  isObject,\n  isString,\n} from '@element-plus/utils'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { inputProps } from '@element-plus/components/input'\nimport { filterOption } from './helper'\nimport { useTooltipContentProps } from '@element-plus/components/tooltip'\n\nimport type { ExtractPropTypes, ExtractPublicPropTypes } from 'vue'\nimport type Mention from './mention.vue'\nimport type { MentionOption } from './types'\nimport type { Options } from '@element-plus/components/popper'\n\nexport const mentionProps = buildProps({\n  ...inputProps,\n  /**\n   * @description mention options list\n   */\n  options: {\n    type: definePropType<MentionOption[]>(Array),\n    default: () => [],\n  },\n  /**\n   * @description prefix character to trigger mentions. The string length must be exactly 1.\n   */\n  prefix: {\n    type: definePropType<string | string[]>([String, Array]),\n    default: '@',\n    validator: (val: string | string[]) => {\n      if (isString(val)) return val.length === 1\n      return val.every((v) => isString(v) && v.length === 1)\n    },\n  },\n  /**\n   * @description character to split mentions. The string length must be exactly 1.\n   */\n  split: {\n    type: String,\n    default: ' ',\n    validator: (val: string) => val.length === 1,\n  },\n  /**\n   * @description customize filter option logic.\n   */\n  filterOption: {\n    type: definePropType<false | typeof filterOption>([Boolean, Function]),\n    default: () => filterOption,\n    validator: (val) => {\n      if (val === false) return true\n      return isFunction(val)\n    },\n  },\n  /**\n   * @description set popup placement\n   */\n  placement: {\n    type: definePropType<'bottom' | 'top'>(String),\n    default: 'bottom',\n  },\n  /**\n   * @description whether the dropdown panel has an arrow\n   */\n  showArrow: Boolean,\n  /**\n   * @description offset of the dropdown panel\n   */\n  offset: {\n    type: Number,\n    default: 0,\n  },\n  /**\n   * @description when backspace is pressed to delete, whether the mention content is deleted as a whole\n   */\n  whole: Boolean,\n  /**\n   * @description when backspace is pressed to delete, check if the mention is a whole\n   */\n  checkIsWhole: {\n    type: definePropType<(pattern: string, prefix: string) => boolean>(\n      Function\n    ),\n  },\n  /**\n   * @description input value\n   */\n  modelValue: String,\n  /**\n   * @description whether the dropdown panel of mentions is in a loading state.\n   */\n  loading: Boolean,\n  /**\n   * @description custom class name for dropdown panel\n   */\n  popperClass: useTooltipContentProps.popperClass,\n  /**\n   * @description custom style for dropdown panel\n   */\n  popperStyle: useTooltipContentProps.popperStyle,\n  /**\n   * @description [popper.js](https://popper.js.org/docs/v2/) parameters\n   */\n  popperOptions: {\n    type: definePropType<Partial<Options>>(Object),\n    default: () => ({}) as Partial<Options>,\n  },\n  /**\n   * @description configuration options\n   */\n  props: {\n    type: definePropType<MentionOptionProps>(Object),\n    default: () => mentionDefaultProps,\n  },\n})\n\nexport const mentionEmits = {\n  [UPDATE_MODEL_EVENT]: (value: string) => isString(value),\n  'whole-remove': (pattern: string, prefix: string) =>\n    isString(pattern) && isString(prefix),\n  input: (value: string) => isString(value),\n  search: (pattern: string, prefix: string) =>\n    isString(pattern) && isString(prefix),\n  select: (option: MentionOption, prefix: string) =>\n    isObject(option) && isString(prefix),\n  focus: (evt: FocusEvent) => evt instanceof FocusEvent,\n  blur: (evt: FocusEvent) => evt instanceof FocusEvent,\n}\n\nexport type MentionEmits = typeof mentionEmits\nexport type MentionProps = ExtractPropTypes<typeof mentionProps>\nexport type MentionPropsPublic = ExtractPublicPropTypes<typeof mentionProps>\nexport type MentionInstance = InstanceType<typeof Mention> & unknown\n\nexport type { MentionOption } from './types'\n\nexport type MentionOptionProps = {\n  value?: string\n  label?: string\n  disabled?: string\n  [key: string]: string | undefined\n}\n\nexport const mentionDefaultProps: Required<MentionOptionProps> = {\n  value: 'value',\n  label: 'label',\n  disabled: 'disabled',\n}\n"],"mappings":";;;;;;;;AAiBO,MAAMA,YAAA,GAAeC,UAAW;EACrC,GAAGC,UAAA;EAIHC,OAAS;IACPC,IAAA,EAAMC,cAAA,CAAgCC,KAAK;IAC3CC,OAAA,EAASA,CAAA,KAAM;EAAC,CAClB;EAIAC,MAAQ;IACNJ,IAAM,EAAAC,cAAA,CAAkC,CAACI,MAAA,EAAQH,KAAK,CAAC;IACvDC,OAAS;IACTG,SAAA,EAAYC,GAA2B;MACrC,IAAIC,QAAA,CAASD,GAAG,GAAG,OAAOA,GAAA,CAAIE,MAAW;MAClC,OAAAF,GAAA,CAAIG,KAAA,CAAOC,CAAA,IAAMH,QAAA,CAASG,CAAC,KAAKA,CAAE,CAAAF,MAAA,KAAW,CAAC;IAAA;EACvD,CACF;EAIAG,KAAO;IACLZ,IAAM,EAAAK,MAAA;IACNF,OAAS;IACTG,SAAW,EAACC,GAAgB,IAAAA,GAAA,CAAIE,MAAW;EAAA,CAC7C;EAIAI,YAAc;IACZb,IAAM,EAAAC,cAAA,CAA4C,CAACa,OAAA,EAASC,QAAQ,CAAC;IACrEZ,OAAA,EAASA,CAAA,KAAMU,YAAA;IACfP,SAAA,EAAYC,GAAQ;MAClB,IAAIA,GAAQ,YAAc;MAC1B,OAAOS,UAAA,CAAWT,GAAG;IAAA;EACvB,CACF;EAIAU,SAAW;IACTjB,IAAA,EAAMC,cAAA,CAAiCI,MAAM;IAC7CF,OAAS;EAAA,CACX;EAIAe,SAAW,EAAAJ,OAAA;EAIXK,MAAQ;IACNnB,IAAM,EAAAoB,MAAA;IACNjB,OAAS;EAAA,CACX;EAIAkB,KAAO,EAAAP,OAAA;EAIPQ,YAAc;IACZtB,IAAM,EAAAC,cAAA,CACJc,QAAA;EACF,CACF;EAIAQ,UAAY,EAAAlB,MAAA;EAIZmB,OAAS,EAAAV,OAAA;EAITW,WAAA,EAAaC,sBAAuB,CAAAD,WAAA;EAIpCE,WAAA,EAAaD,sBAAuB,CAAAC,WAAA;EAIpCC,aAAe;IACb5B,IAAA,EAAMC,cAAA,CAAiC4B,MAAM;IAC7C1B,OAAA,EAASA,CAAA,MAAO,EAAC;EAAA,CACnB;EAIA2B,KAAO;IACL9B,IAAA,EAAMC,cAAA,CAAmC4B,MAAM;IAC/C1B,OAAA,EAASA,CAAA,KAAM4B;EAAA;AAEnB,CAAC;AAEM,MAAMC,YAAe;EAC1B,CAACC,kBAAA,GAAsBC,KAAA,IAAkB1B,QAAA,CAAS0B,KAAK;EACvD,gBAAgBC,CAACC,OAAiB,EAAAhC,MAAA,KAChCI,QAAA,CAAS4B,OAAO,KAAK5B,QAAA,CAASJ,MAAM;EACtCiC,KAAO,EAACH,KAAkB,IAAA1B,QAAA,CAAS0B,KAAK;EACxCI,MAAA,EAAQA,CAACF,OAAiB,EAAAhC,MAAA,KACxBI,QAAA,CAAS4B,OAAO,KAAK5B,QAAA,CAASJ,MAAM;EACtCmC,MAAA,EAAQA,CAACC,MAAuB,EAAApC,MAAA,KAC9BqC,QAAA,CAASD,MAAM,KAAKhC,QAAA,CAASJ,MAAM;EACrCsC,KAAA,EAAQC,GAAA,IAAoBA,GAAe,YAAAC,UAAA;EAC3CC,IAAA,EAAOF,GAAA,IAAoBA,GAAe,YAAAC;AAC5C;AAgBO,MAAMb,mBAAoD;EAC/DG,KAAO;EACPY,KAAO;EACPC,QAAU;AACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}