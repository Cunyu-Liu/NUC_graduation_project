{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { onMounted, onUnmounted } from 'vue';\nfunction useKeyRender(table) {\n  let observer;\n  const initWatchDom = () => {\n    const el = table.vnode.el;\n    const columnsWrapper = el.querySelector(\".hidden-columns\");\n    const config = {\n      childList: true,\n      subtree: true\n    };\n    const updateOrderFns = table.store.states.updateOrderFns;\n    observer = new MutationObserver(() => {\n      updateOrderFns.forEach(fn => fn());\n    });\n    observer.observe(columnsWrapper, config);\n  };\n  onMounted(() => {\n    initWatchDom();\n  });\n  onUnmounted(() => {\n    observer == null ? void 0 : observer.disconnect();\n  });\n}\nexport { useKeyRender as default };","map":{"version":3,"names":["useKeyRender","table","observer","initWatchDom","el","vnode","columnsWrapper","querySelector","config","childList","subtree","updateOrderFns","store","states","MutationObserver","forEach","fn","observe","onMounted","onUnmounted","disconnect"],"sources":["../../../../../../../packages/components/table/src/table/key-render-helper.ts"],"sourcesContent":["import { onMounted, onUnmounted } from 'vue'\n\nimport type { Table } from './defaults'\n\nexport default function useKeyRender(table: Table<[]>) {\n  let observer: MutationObserver | undefined\n\n  const initWatchDom = () => {\n    const el = table.vnode.el\n    const columnsWrapper = (el as HTMLElement).querySelector('.hidden-columns')\n    const config = { childList: true, subtree: true }\n    const updateOrderFns = table.store.states.updateOrderFns\n    observer = new MutationObserver(() => {\n      updateOrderFns.forEach((fn: () => void) => fn())\n    })\n\n    observer.observe(columnsWrapper!, config)\n  }\n\n  onMounted(() => {\n    // fix https://github.com/element-plus/element-plus/issues/8528\n    initWatchDom()\n  })\n\n  onUnmounted(() => {\n    observer?.disconnect()\n  })\n}\n"],"mappings":";;;AAIA,SAAwBA,aAAaC,KAAkB;EACjD,IAAAC,QAAA;EAEJ,MAAMC,YAAA,GAAeA,CAAA,KAAM;IACnB,MAAAC,EAAA,GAAKH,KAAA,CAAMI,KAAM,CAAAD,EAAA;IACjB,MAAAE,cAAA,GAAkBF,EAAmB,CAAAG,aAAA,CAAc,iBAAiB;IAC1E,MAAMC,MAAS;MAAEC,SAAW;MAAMC,OAAA,EAAS;IAAK;IAC1C,MAAAC,cAAA,GAAiBV,KAAM,CAAAW,KAAA,CAAMC,MAAO,CAAAF,cAAA;IAC/BT,QAAA,OAAIY,gBAAA,CAAiB,MAAM;MACpCH,cAAA,CAAeI,OAAQ,CAACC,EAAmB,IAAAA,EAAA,EAAI;IAAA,CAChD;IAEQd,QAAA,CAAAe,OAAA,CAAQX,cAAA,EAAiBE,MAAM;EAAA,CAC1C;EAEAU,SAAA,CAAU,MAAM;IAEDf,YAAA;EAAA,CACd;EAEDgB,WAAA,CAAY,MAAM;IACNjB,QAAA,oBAAAA,QAAA,CAAAkB,UAAA;EAAA,CACX;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}