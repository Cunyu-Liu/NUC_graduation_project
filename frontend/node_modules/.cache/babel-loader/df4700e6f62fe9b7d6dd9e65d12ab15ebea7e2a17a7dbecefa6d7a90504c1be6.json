{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"knowledge-graph-page\"\n};\nconst _hoisted_2 = {\n  class: \"header-content\"\n};\nconst _hoisted_3 = {\n  class: \"header-right\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_KnowledgeGraph = _resolveComponent(\"KnowledgeGraph\", true);\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n    class: \"page-header\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n      class: \"header-left\"\n    }, [_createElementVNode(\"h2\", null, [_createElementVNode(\"i\", {\n      class: \"el-icon-share\"\n    }), _createTextVNode(\" 知识图谱 \")]), _createElementVNode(\"p\", null, \"可视化展示论文之间的引用和关联关系\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.buildGraph,\n      loading: $setup.building\n    }, {\n      default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createElementVNode(\"i\", {\n        class: \"el-icon-refresh\"\n      }, null, -1 /* CACHED */), _createTextVNode(\" 重新构建 \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\", \"loading\"]), _createVNode(_component_el_button, {\n      onClick: $setup.exportGraph\n    }, {\n      default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createElementVNode(\"i\", {\n        class: \"el-icon-download\"\n      }, null, -1 /* CACHED */), _createTextVNode(\" 导出 \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_KnowledgeGraph, {\n    ref: \"graphComponent\"\n  }, null, 512 /* NEED_PATCH */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_createElementVNode","_hoisted_2","_hoisted_3","_component_el_button","type","onClick","$setup","buildGraph","loading","building","_cache","exportGraph","_component_KnowledgeGraph","ref"],"sources":["/Users/liucunyu/Documents/all_code/NUC_graduation_project/frontend/src/views/KnowledgeGraph.vue"],"sourcesContent":["<template>\n  <div class=\"knowledge-graph-page\">\n    <el-card class=\"page-header\">\n      <div class=\"header-content\">\n        <div class=\"header-left\">\n          <h2>\n            <i class=\"el-icon-share\"></i>\n            知识图谱\n          </h2>\n          <p>可视化展示论文之间的引用和关联关系</p>\n        </div>\n        <div class=\"header-right\">\n          <el-button type=\"primary\" @click=\"buildGraph\" :loading=\"building\">\n            <i class=\"el-icon-refresh\"></i>\n            重新构建\n          </el-button>\n          <el-button @click=\"exportGraph\">\n            <i class=\"el-icon-download\"></i>\n            导出\n          </el-button>\n        </div>\n      </div>\n    </el-card>\n\n    <KnowledgeGraph ref=\"graphComponent\" />\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport KnowledgeGraph from '@/components/KnowledgeGraph.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'KnowledgeGraphView',\n  components: {\n    KnowledgeGraph\n  },\n  setup() {\n    const graphComponent = ref(null)\n    const building = ref(false)\n\n    const buildGraph = async () => {\n      try {\n        building.value = true\n        const response = await axios.post('/api/knowledge-graph/build', {\n          paper_ids: []\n        })\n\n        if (response.data.success) {\n          ElMessage.success('知识图谱构建成功')\n          if (graphComponent.value) {\n            graphComponent.value.refreshGraph()\n          }\n        }\n      } catch (error) {\n        console.error('构建知识图谱失败:', error)\n        ElMessage.error('构建知识图谱失败: ' + (error.response?.data?.error || error.message))\n      } finally {\n        building.value = false\n      }\n    }\n\n    const exportGraph = () => {\n      ElMessage.info('导出功能开发中')\n    }\n\n    return {\n      graphComponent,\n      building,\n      buildGraph,\n      exportGraph\n    }\n  }\n}\n</script>\n\n<style scoped>\n.knowledge-graph-page {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.page-header {\n  margin-bottom: 20px;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-left h2 {\n  margin: 0 0 8px 0;\n  font-size: 24px;\n  color: #303133;\n  display: flex;\n  align-items: center;\n}\n\n.header-left h2 i {\n  margin-right: 10px;\n  color: #409eff;\n}\n\n.header-left p {\n  margin: 0;\n  font-size: 14px;\n  color: #909399;\n}\n\n.header-right {\n  display: flex;\n  gap: 10px;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAsB;;EAExBA,KAAK,EAAC;AAAgB;;EAQpBA,KAAK,EAAC;AAAc;;;;;uBAV/BC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJC,YAAA,CAoBUC,kBAAA;IApBDJ,KAAK,EAAC;EAAa;sBAC1B,MAkBM,CAlBNK,mBAAA,CAkBM,OAlBNC,UAkBM,G,0BAjBJD,mBAAA,CAMM;MANDL,KAAK,EAAC;IAAa,IACtBK,mBAAA,CAGK,aAFHA,mBAAA,CAA6B;MAA1BL,KAAK,EAAC;IAAe,I,iBAAK,QAE/B,E,GACAK,mBAAA,CAAwB,WAArB,mBAAiB,E,qBAEtBA,mBAAA,CASM,OATNE,UASM,GARJJ,YAAA,CAGYK,oBAAA;MAHDC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAEC,MAAA,CAAAC,UAAU;MAAGC,OAAO,EAAEF,MAAA,CAAAG;;wBACtD,MAA+B,KAAAC,MAAA,QAAAA,MAAA,OAA/BV,mBAAA,CAA+B;QAA5BL,KAAK,EAAC;MAAiB,2B,iBAAK,QAEjC,mB;;+CACAG,YAAA,CAGYK,oBAAA;MAHAE,OAAK,EAAEC,MAAA,CAAAK;IAAW;wBAC5B,MAAgC,KAAAD,MAAA,QAAAA,MAAA,OAAhCV,mBAAA,CAAgC;QAA7BL,KAAK,EAAC;MAAkB,2B,iBAAK,MAElC,mB;;;;MAKNG,YAAA,CAAuCc,yBAAA;IAAvBC,GAAG,EAAC;EAAgB,+B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}