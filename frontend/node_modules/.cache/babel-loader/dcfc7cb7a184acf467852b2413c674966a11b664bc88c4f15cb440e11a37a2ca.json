{"ast":null,"code":"import { ref, onMounted, onBeforeUnmount, watch } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nconst useAutoResize = props => {\n  const sizer = ref();\n  const width$ = ref(0);\n  const height$ = ref(0);\n  let resizerStopper;\n  onMounted(() => {\n    resizerStopper = useResizeObserver(sizer, ([entry]) => {\n      const {\n        width,\n        height\n      } = entry.contentRect;\n      const {\n        paddingLeft,\n        paddingRight,\n        paddingTop,\n        paddingBottom\n      } = getComputedStyle(entry.target);\n      const left = Number.parseInt(paddingLeft) || 0;\n      const right = Number.parseInt(paddingRight) || 0;\n      const top = Number.parseInt(paddingTop) || 0;\n      const bottom = Number.parseInt(paddingBottom) || 0;\n      width$.value = width - left - right;\n      height$.value = height - top - bottom;\n    }).stop;\n  });\n  onBeforeUnmount(() => {\n    resizerStopper == null ? void 0 : resizerStopper();\n  });\n  watch([width$, height$], ([width, height]) => {\n    var _a;\n    (_a = props.onResize) == null ? void 0 : _a.call(props, {\n      width,\n      height\n    });\n  });\n  return {\n    sizer,\n    width: width$,\n    height: height$\n  };\n};\nexport { useAutoResize };","map":{"version":3,"names":["useAutoResize","props","sizer","ref","width$","height$","resizerStopper","onMounted","useResizeObserver","entry","width","height","contentRect","paddingLeft","paddingRight","paddingTop","paddingBottom","getComputedStyle","target","left","Number","parseInt","right","top","bottom","value","stop","onBeforeUnmount","watch","_a","onResize","call"],"sources":["../../../../../../../packages/components/table-v2/src/composables/use-auto-resize.ts"],"sourcesContent":["import { onBeforeUnmount, onMounted, ref, watch } from 'vue'\nimport { useResizeObserver } from '@vueuse/core'\n\nimport type { AutoResizerProps } from '../auto-resizer'\n\nconst useAutoResize = (props: AutoResizerProps) => {\n  const sizer = ref<HTMLElement>()\n  const width$ = ref(0)\n  const height$ = ref(0)\n\n  let resizerStopper: ReturnType<typeof useResizeObserver>['stop']\n  onMounted(() => {\n    resizerStopper = useResizeObserver(sizer, ([entry]) => {\n      const { width, height } = entry.contentRect\n      const { paddingLeft, paddingRight, paddingTop, paddingBottom } =\n        getComputedStyle(entry.target)\n\n      const left = Number.parseInt(paddingLeft) || 0\n      const right = Number.parseInt(paddingRight) || 0\n      const top = Number.parseInt(paddingTop) || 0\n      const bottom = Number.parseInt(paddingBottom) || 0\n\n      width$.value = width - left - right\n      height$.value = height - top - bottom\n    }).stop\n  })\n\n  onBeforeUnmount(() => {\n    resizerStopper?.()\n  })\n\n  watch([width$, height$], ([width, height]) => {\n    props.onResize?.({\n      width,\n      height,\n    })\n  })\n\n  return {\n    sizer,\n    width: width$,\n    height: height$,\n  }\n}\n\nexport { useAutoResize }\n"],"mappings":";;AAKM,MAAAA,aAAA,GAAiBC,KAA4B;EACjD,MAAMC,KAAA,GAAQC,GAAiB;EACzB,MAAAC,MAAA,GAASD,GAAA,CAAI,CAAC;EACd,MAAAE,OAAA,GAAUF,GAAA,CAAI,CAAC;EAEjB,IAAAG,cAAA;EACJC,SAAA,CAAU,MAAM;IACdD,cAAA,GAAiBE,iBAAkB,CAAAN,KAAA,EAAO,CAAC,CAACO,KAAK,CAAM;MACrD,MAAM;QAAEC,KAAA;QAAOC;MAAO,IAAIF,KAAM,CAAAG,WAAA;MAC1B;QAAEC,WAAA;QAAaC,YAAc;QAAAC,UAAA;QAAYC;MAAA,CAC7C,GAAAC,gBAAA,CAAiBR,KAAA,CAAMS,MAAM;MAE/B,MAAMC,IAAO,GAAAC,MAAA,CAAOC,QAAS,CAAAR,WAAW,CAAK;MAC7C,MAAMS,KAAQ,GAAAF,MAAA,CAAOC,QAAS,CAAAP,YAAY,CAAK;MAC/C,MAAMS,GAAM,GAAAH,MAAA,CAAOC,QAAS,CAAAN,UAAU,CAAK;MAC3C,MAAMS,MAAS,GAAAJ,MAAA,CAAOC,QAAS,CAAAL,aAAa,CAAK;MAE1CZ,MAAA,CAAAqB,KAAA,GAAQf,KAAA,GAAQS,IAAO,GAAAG,KAAA;MACtBjB,OAAA,CAAAoB,KAAA,GAAQd,MAAA,GAASY,GAAM,GAAAC,MAAA;IAAA,CAChC,CAAE,CAAAE,IAAA;EAAA,CACJ;EAEDC,eAAA,CAAgB,MAAM;IACpBrB,cAAA,oBAAAA,cAAA;EAAA,CACD;EAEKsB,KAAA,EAACxB,MAAA,EAAQC,OAAO,GAAG,CAAC,CAACK,KAAA,EAAOC,MAAM,CAAM;IA/BhD,IAAAkB,EAAA;IAgCI,CAAAA,EAAA,GAAA5B,KAAA,CAAM6B,QAAA,KAAN,IAAiB,YAAAD,EAAA,CAAAE,IAAA,CAAA9B,KAAA;MACfS,KAAA;MACAC;IAAA,CACF;EAAA,CACD;EAEM;IACLT,KAAA;IACAQ,KAAO,EAAAN,MAAA;IACPO,MAAQ,EAAAN;EAAA,CACV;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}