{"ast":null,"code":"import { defineComponent, ref, provide, createVNode, mergeProps } from 'vue';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat.js';\nimport { PICKER_POPPER_OPTIONS_INJECTION_KEY, DEFAULT_FORMATS_TIME } from './constants.mjs';\nimport CommonPicker from './common/picker.mjs';\nimport TimePickPanel from './time-picker-com/panel-time-pick.mjs';\nimport TimeRangePanel from './time-picker-com/panel-time-range.mjs';\nimport { timePickerDefaultProps } from './common/props.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\ndayjs.extend(customParseFormat);\nvar TimePicker = defineComponent({\n  name: \"ElTimePicker\",\n  install: null,\n  props: {\n    ...timePickerDefaultProps,\n    isRange: Boolean\n  },\n  emits: [UPDATE_MODEL_EVENT],\n  setup(props, ctx) {\n    const commonPicker = ref();\n    const [type, Panel] = props.isRange ? [\"timerange\", TimeRangePanel] : [\"time\", TimePickPanel];\n    const modelUpdater = value => ctx.emit(UPDATE_MODEL_EVENT, value);\n    provide(PICKER_POPPER_OPTIONS_INJECTION_KEY, props.popperOptions);\n    ctx.expose({\n      focus: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.focus();\n      },\n      blur: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.blur();\n      },\n      handleOpen: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.handleOpen();\n      },\n      handleClose: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.handleClose();\n      }\n    });\n    return () => {\n      var _a;\n      const format = (_a = props.format) != null ? _a : DEFAULT_FORMATS_TIME;\n      return createVNode(CommonPicker, mergeProps(props, {\n        \"ref\": commonPicker,\n        \"type\": type,\n        \"format\": format,\n        \"onUpdate:modelValue\": modelUpdater\n      }), {\n        default: props2 => createVNode(Panel, props2, null)\n      });\n    };\n  }\n});\nexport { TimePicker as default };","map":{"version":3,"names":["dayjs","extend","customParseFormat","TimePicker","defineComponent","name","install","props","timePickerDefaultProps","isRange","Boolean","emits","UPDATE_MODEL_EVENT","setup","ctx","commonPicker","ref","type","Panel","TimeRangePanel","TimePickPanel","modelUpdater","value","emit","provide","PICKER_POPPER_OPTIONS_INJECTION_KEY","popperOptions","expose","focus","_a","blur","handleOpen","handleClose","format","DEFAULT_FORMATS_TIME","createVNode","CommonPicker","mergeProps","default","props2"],"sources":["../../../../../../packages/components/time-picker/src/time-picker.tsx"],"sourcesContent":["import { defineComponent, provide, ref } from 'vue'\nimport dayjs from 'dayjs'\nimport customParseFormat from 'dayjs/plugin/customParseFormat.js'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport {\n  DEFAULT_FORMATS_TIME,\n  PICKER_POPPER_OPTIONS_INJECTION_KEY,\n} from './constants'\nimport Picker from './common/picker.vue'\nimport TimePickPanel from './time-picker-com/panel-time-pick.vue'\nimport TimeRangePanel from './time-picker-com/panel-time-range.vue'\nimport { timePickerDefaultProps } from './common/props'\n\ndayjs.extend(customParseFormat)\n\nexport default defineComponent({\n  name: 'ElTimePicker',\n  install: null,\n  props: {\n    ...timePickerDefaultProps,\n    /**\n     * @description whether to pick a time range\n     */\n    isRange: Boolean,\n  },\n  emits: [UPDATE_MODEL_EVENT],\n  setup(props, ctx) {\n    const commonPicker = ref<InstanceType<typeof Picker>>()\n    const [type, Panel] = props.isRange\n      ? ['timerange', TimeRangePanel]\n      : ['time', TimePickPanel]\n\n    const modelUpdater = (value: any) => ctx.emit(UPDATE_MODEL_EVENT, value)\n    provide(PICKER_POPPER_OPTIONS_INJECTION_KEY, props.popperOptions)\n    ctx.expose({\n      /**\n       * @description focus the Input component\n       */\n      focus: () => {\n        commonPicker.value?.focus()\n      },\n      /**\n       * @description blur the Input component\n       */\n      blur: () => {\n        commonPicker.value?.blur()\n      },\n      /**\n       * @description open the TimePicker popper\n       */\n      handleOpen: () => {\n        commonPicker.value?.handleOpen()\n      },\n      /**\n       * @description close the TimePicker popper\n       */\n      handleClose: () => {\n        commonPicker.value?.handleClose()\n      },\n    })\n\n    return () => {\n      const format = props.format ?? DEFAULT_FORMATS_TIME\n\n      return (\n        <Picker\n          {...props}\n          ref={commonPicker}\n          type={type}\n          format={format}\n          onUpdate:modelValue={modelUpdater}\n        >\n          {{\n            default: (props: any) => <Panel {...props} />,\n          }}\n        </Picker>\n      )\n    }\n  },\n})\n"],"mappings":";;;;;;;;;AAaAA,KAAA,CAAMC,MAAA,CAAOC,iBAAiB;AAE9B,IAAAC,UAAA,GAAeC,eAAgB;EAC7BC,IAAM;EACNC,OAAS;EACTC,KAAO;IACL,GAAGC,sBAAA;IAIHC,OAAS,EAAAC;EAAA,CACX;EACAC,KAAA,EAAO,CAACC,kBAAkB;EAC1BC,MAAMN,KAAA,EAAOO,GAAK;IAChB,MAAMC,YAAA,GAAeC,GAAiC;IACtD,MAAM,CAACC,IAAA,EAAMC,KAAK,IAAIX,KAAM,CAAAE,OAAA,GACxB,CAAC,aAAaU,cAAc,IAC5B,CAAC,QAAQC,aAAa;IAE1B,MAAMC,YAAgB,GAAAC,KAAA,IAAeR,GAAI,CAAAS,IAAA,CAAKX,kBAAA,EAAoBU,KAAK;IAC/DE,OAAA,CAAAC,mCAAA,EAAqClB,KAAA,CAAMmB,aAAa;IAChEZ,GAAA,CAAIa,MAAO;MAITC,KAAA,EAAOA,CAAA,KAAM;QAtCnB,IAAAC,EAAA;QAuCQ,CAAAA,EAAA,GAAAd,YAAA,CAAaO,KAAA,KAAb,IAAoB,YAAAO,EAAA,CAAAD,KAAA;MAAA,CACtB;MAIAE,IAAA,EAAMA,CAAA,KAAM;QA5ClB,IAAAD,EAAA;QA6CQ,CAAAA,EAAA,GAAAd,YAAA,CAAaO,KAAA,KAAb,IAAoB,YAAAO,EAAA,CAAAC,IAAA;MAAA,CACtB;MAIAC,UAAA,EAAYA,CAAA,KAAM;QAlDxB,IAAAF,EAAA;QAmDQ,CAAAA,EAAA,GAAAd,YAAA,CAAaO,KAAA,KAAb,IAAoB,YAAAO,EAAA,CAAAE,UAAA;MAAA,CACtB;MAIAC,WAAA,EAAaA,CAAA,KAAM;QAxDzB,IAAAH,EAAA;QAyDQ,CAAAA,EAAA,GAAAd,YAAA,CAAaO,KAAA,KAAb,IAAoB,YAAAO,EAAA,CAAAG,WAAA;MAAA;IACtB,CACD;IAED,OAAO,MAAM;MA7DjB,IAAAH,EAAA;MA8DY,MAAAI,MAAA,IAASJ,EAAM,GAAAtB,KAAA,CAAA0B,MAAA,KAAN,IAAgB,GAAAJ,EAAA,GAAAK,oBAAA;MAE/B,OAAAC,WAAA,CAAAC,YAAA,EAAAC,UAAA,CAEQ9B,KAAK;QAAA,KACJ,EAAAQ,YAAA;QAAY,MACX,EAAAE,IAAA;QAAI,QACF,EAAAgB,MAAA;QAAM,qBACO,EAAAZ;MAAA,CAAY;QAG/BiB,OAAA,EAAUC,MAAA,IAAUJ,WAAA,CAAAjB,KAAA,EAAgBqB,MAAA,EAAK;MAAA,CAAI;IAAA,CAIrD;EAAA;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}