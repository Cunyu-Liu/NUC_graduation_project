{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nfunction toLowercaseSeparator(key) {\n  return key.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n}\nfunction getStyleStr(style) {\n  return Object.keys(style).map(key => `${toLowercaseSeparator(key)}: ${style[key]};`).join(\" \");\n}\nfunction getPixelRatio() {\n  return window.devicePixelRatio || 1;\n}\nconst reRendering = (mutation, watermarkElement) => {\n  let flag = false;\n  if (mutation.removedNodes.length && watermarkElement) {\n    flag = Array.from(mutation.removedNodes).includes(watermarkElement);\n  }\n  if (mutation.type === \"attributes\" && mutation.target === watermarkElement) {\n    flag = true;\n  }\n  return flag;\n};\nexport { getPixelRatio, getStyleStr, reRendering, toLowercaseSeparator };","map":{"version":3,"names":["toLowercaseSeparator","key","replace","toLowerCase","getStyleStr","style","Object","keys","map","join","getPixelRatio","window","devicePixelRatio","reRendering","mutation","watermarkElement","flag","removedNodes","length","Array","from","includes","type","target"],"sources":["../../../../../../packages/components/watermark/src/utils.ts"],"sourcesContent":["import type { CSSProperties } from 'vue'\n\n/** converting camel-cased strings to be lowercase and link it with Separator */\nexport function toLowercaseSeparator(key: string) {\n  return key.replace(/([A-Z])/g, '-$1').toLowerCase()\n}\n\nexport function getStyleStr(style: CSSProperties): string {\n  return Object.keys(style)\n    .map(\n      (key) =>\n        `${toLowercaseSeparator(key)}: ${style[key as keyof CSSProperties]};`\n    )\n    .join(' ')\n}\n\n/** Returns the ratio of the device's physical pixel resolution to the css pixel resolution */\nexport function getPixelRatio() {\n  return window.devicePixelRatio || 1\n}\n\n/** Whether to re-render the watermark */\nexport const reRendering = (\n  mutation: MutationRecord,\n  watermarkElement?: HTMLElement\n) => {\n  let flag = false\n  // Whether to delete the watermark node\n  if (mutation.removedNodes.length && watermarkElement) {\n    flag = Array.from(mutation.removedNodes).includes(watermarkElement)\n  }\n  // Whether the watermark dom property value has been modified\n  if (mutation.type === 'attributes' && mutation.target === watermarkElement) {\n    flag = true\n  }\n  return flag\n}\n"],"mappings":";;AAGO,SAASA,qBAAqBC,GAAa;EAChD,OAAOA,GAAI,CAAAC,OAAA,CAAQ,UAAY,OAAK,EAAEC,WAAY;AACpD;AAEO,SAASC,YAAYC,KAA8B;EACjD,OAAAC,MAAA,CAAOC,IAAK,CAAAF,KAAK,CACrB,CAAAG,GAAA,CACEP,GACC,OAAGD,oBAAqB,CAAAC,GAAG,MAAMI,KAAM,CAAAJ,GAAA,KAC3C,CACCQ,IAAA,CAAK,GAAG;AACb;AAGO,SAASC,aAAgBA,CAAA;EAC9B,OAAOC,MAAA,CAAOC,gBAAoB;AACpC;AAGa,MAAAC,WAAA,GAAcA,CACzBC,QAAA,EACAC,gBACG;EACH,IAAIC,IAAO;EAEP,IAAAF,QAAA,CAASG,YAAa,CAAAC,MAAA,IAAUH,gBAAkB;IACpDC,IAAA,GAAOG,KAAA,CAAMC,IAAK,CAAAN,QAAA,CAASG,YAAY,EAAEI,QAAA,CAASN,gBAAgB;EAAA;EAGpE,IAAID,QAAS,CAAAQ,IAAA,KAAS,YAAgB,IAAAR,QAAA,CAASS,MAAA,KAAWR,gBAAkB;IACnEC,IAAA;EAAA;EAEF,OAAAA,IAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}