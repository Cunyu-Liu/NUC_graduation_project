{"ast":null,"code":"import { watch } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nconst usePreventGlobal = (indicator, evt, cb) => {\n  const prevent = e => {\n    if (cb(e)) e.stopImmediatePropagation();\n  };\n  let stop = void 0;\n  watch(() => indicator.value, val => {\n    if (val) {\n      stop = useEventListener(document, evt, prevent, true);\n    } else {\n      stop == null ? void 0 : stop();\n    }\n  }, {\n    immediate: true\n  });\n};\nexport { usePreventGlobal };","map":{"version":3,"names":["usePreventGlobal","indicator","evt","cb","prevent","e","stopImmediatePropagation","stop","watch","value","val","useEventListener","document","immediate"],"sources":["../../../../../packages/hooks/use-prevent-global/index.ts"],"sourcesContent":["import { watch } from 'vue'\nimport { useEventListener } from '@vueuse/core'\n\nimport type { Ref } from 'vue'\n\nexport const usePreventGlobal = <E extends keyof DocumentEventMap>(\n  indicator: Ref<boolean>,\n  evt: E,\n  cb: (e: DocumentEventMap[E]) => boolean\n) => {\n  const prevent = (e: DocumentEventMap[E]) => {\n    if (cb(e)) e.stopImmediatePropagation()\n  }\n  let stop: (() => void) | undefined = undefined\n  watch(\n    () => indicator.value,\n    (val) => {\n      if (val) {\n        stop = useEventListener(document, evt, prevent, true)\n      } else {\n        stop?.()\n      }\n    },\n    { immediate: true }\n  )\n}\n"],"mappings":";;AAKO,MAAMA,gBAAmB,GAAAA,CAC9BC,SACA,EAAAC,GAAA,EACAC,EACG;EACG,MAAAC,OAAA,GAAWC,CAA2B;IAC1C,IAAIF,EAAA,CAAGE,CAAC,GAAGA,CAAA,CAAEC,wBAAyB;EAAA,CACxC;EACA,IAAIC,IAAiC;EACrCC,KAAA,CACE,MAAMP,SAAU,CAAAQ,KAAA,EACfC,GAAQ;IACP,IAAIA,GAAK;MACPH,IAAA,GAAOI,gBAAiB,CAAAC,QAAA,EAAUV,GAAK,EAAAE,OAAA,EAAS,IAAI;IAAA,CAC/C;MACLG,IAAA,oBAAAA,IAAA;IAAA;EACF,CACF,EACA;IAAEM,SAAA,EAAW;EAAK,EACpB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}