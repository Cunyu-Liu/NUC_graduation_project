{"ast":null,"code":"import { computed, onBeforeMount } from 'vue';\nimport { useGetDerivedNamespace } from '../use-namespace/index.mjs';\nimport { useIdInjection } from '../use-id/index.mjs';\nimport { isClient } from '@vueuse/core';\nconst usePopperContainerId = () => {\n  const namespace = useGetDerivedNamespace();\n  const idInjection = useIdInjection();\n  const id = computed(() => {\n    return `${namespace.value}-popper-container-${idInjection.prefix}`;\n  });\n  const selector = computed(() => `#${id.value}`);\n  return {\n    id,\n    selector\n  };\n};\nconst createContainer = id => {\n  const container = document.createElement(\"div\");\n  container.id = id;\n  document.body.appendChild(container);\n  return container;\n};\nconst usePopperContainer = () => {\n  const {\n    id,\n    selector\n  } = usePopperContainerId();\n  onBeforeMount(() => {\n    if (!isClient) return;\n    if (process.env.NODE_ENV === \"test\" || !document.body.querySelector(selector.value)) {\n      createContainer(id.value);\n    }\n  });\n  return {\n    id,\n    selector\n  };\n};\nexport { usePopperContainer, usePopperContainerId };","map":{"version":3,"names":["usePopperContainerId","namespace","useGetDerivedNamespace","idInjection","useIdInjection","id","computed","value","prefix","selector","createContainer","container","document","createElement","body","appendChild","usePopperContainer","onBeforeMount","isClient","process","env","NODE_ENV","querySelector"],"sources":["../../../../../packages/hooks/use-popper-container/index.ts"],"sourcesContent":["import { computed, onBeforeMount } from 'vue'\nimport { isClient } from '@element-plus/utils'\nimport { useGetDerivedNamespace } from '../use-namespace'\nimport { useIdInjection } from '../use-id'\n\nexport const usePopperContainerId = () => {\n  const namespace = useGetDerivedNamespace()\n  const idInjection = useIdInjection()\n\n  const id = computed(() => {\n    return `${namespace.value}-popper-container-${idInjection.prefix}`\n  })\n  const selector = computed(() => `#${id.value}`)\n\n  return {\n    id,\n    selector,\n  }\n}\n\nconst createContainer = (id: string) => {\n  const container = document.createElement('div')\n  container.id = id\n  document.body.appendChild(container)\n  return container\n}\n\nexport const usePopperContainer = () => {\n  const { id, selector } = usePopperContainerId()\n  onBeforeMount(() => {\n    if (!isClient) return\n\n    // This is for bypassing the error that when under testing env, we often encounter\n    // document.body.innerHTML = '' situation\n    // for this we need to disable the caching since it's not really needed\n    if (\n      process.env.NODE_ENV === 'test' ||\n      !document.body.querySelector(selector.value)\n    ) {\n      createContainer(id.value)\n    }\n  })\n\n  return {\n    id,\n    selector,\n  }\n}\n"],"mappings":";;;;AAKO,MAAMA,oBAAA,GAAuBA,CAAA,KAAM;EACxC,MAAMC,SAAA,GAAYC,sBAAuB;EACzC,MAAMC,WAAA,GAAcC,cAAe;EAE7B,MAAAC,EAAA,GAAKC,QAAA,CAAS,MAAM;IACjB,UAAGL,SAAU,CAAAM,KAAA,qBAA0BJ,WAAY,CAAAK,MAAA;EAAA,CAC3D;EACD,MAAMC,QAAW,GAAAH,QAAA,CAAS,MAAM,IAAID,EAAA,CAAGE,KAAO;EAEvC;IACLF,EAAA;IACAI;EAAA,CACF;AACF;AAEA,MAAMC,eAAA,GAAmBL,EAAe;EAChC,MAAAM,SAAA,GAAYC,QAAS,CAAAC,aAAA,CAAc,KAAK;EAC9CF,SAAA,CAAUN,EAAK,GAAAA,EAAA;EACNO,QAAA,CAAAE,IAAA,CAAKC,WAAA,CAAYJ,SAAS;EAC5B,OAAAA,SAAA;AACT;AAEO,MAAMK,kBAAA,GAAqBA,CAAA,KAAM;EACtC,MAAM;IAAEX,EAAA;IAAII;EAAS,IAAIT,oBAAqB;EAC9CiB,aAAA,CAAc,MAAM;IAClB,IAAI,CAACC,QAAA,EAAU;IAMb,IAAAC,OAAA,CAAQC,GAAI,CAAAC,QAAA,KAAa,MACzB,KAACT,QAAA,CAASE,IAAK,CAAAQ,aAAA,CAAcb,QAAS,CAAAF,KAAK,CAC3C;MACAG,eAAA,CAAgBL,EAAA,CAAGE,KAAK;IAAA;EAC1B,CACD;EAEM;IACLF,EAAA;IACAI;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}