{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport dayjs from 'dayjs';\nimport { isEmpty } from '../../../utils/types.mjs';\nimport { isDate, isArray } from '@vue/shared';\nconst buildTimeList = (value, bound) => {\n  return [value > 0 ? value - 1 : void 0, value, value < bound ? value + 1 : void 0];\n};\nconst rangeArr = n => Array.from(Array.from({\n  length: n\n}).keys());\nconst extractDateFormat = format => {\n  return format.replace(/\\W?m{1,2}|\\W?ZZ/g, \"\").replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, \"\").trim();\n};\nconst extractTimeFormat = format => {\n  return format.replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g, \"\").trim();\n};\nconst dateEquals = function (a, b) {\n  const aIsDate = isDate(a);\n  const bIsDate = isDate(b);\n  if (aIsDate && bIsDate) {\n    return a.getTime() === b.getTime();\n  }\n  if (!aIsDate && !bIsDate) {\n    return a === b;\n  }\n  return false;\n};\nconst valueEquals = function (a, b) {\n  const aIsArray = isArray(a);\n  const bIsArray = isArray(b);\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every((item, index) => dateEquals(item, b[index]));\n  }\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b);\n  }\n  return false;\n};\nconst parseDate = function (date, format, lang) {\n  const day = isEmpty(format) || format === \"x\" ? dayjs(date).locale(lang) : dayjs(date, format).locale(lang);\n  return day.isValid() ? day : void 0;\n};\nconst formatter = function (date, format, lang) {\n  if (isEmpty(format)) return date;\n  if (format === \"x\") return +date;\n  return dayjs(date).locale(lang).format(format);\n};\nconst makeList = (total, method) => {\n  var _a;\n  const arr = [];\n  const disabledArr = method == null ? void 0 : method();\n  for (let i = 0; i < total; i++) {\n    arr.push((_a = disabledArr == null ? void 0 : disabledArr.includes(i)) != null ? _a : false);\n  }\n  return arr;\n};\nconst dayOrDaysToDate = dayOrDays => {\n  return isArray(dayOrDays) ? dayOrDays.map(d => d.toDate()) : dayOrDays.toDate();\n};\nexport { buildTimeList, dateEquals, dayOrDaysToDate, extractDateFormat, extractTimeFormat, formatter, makeList, parseDate, rangeArr, valueEquals };","map":{"version":3,"names":["buildTimeList","value","bound","rangeArr","n","Array","from","length","keys","extractDateFormat","format","replace","trim","extractTimeFormat","dateEquals","a","b","aIsDate","isDate","bIsDate","getTime","valueEquals","aIsArray","isArray","bIsArray","every","item","index","parseDate","date","lang","day","isEmpty","dayjs","locale","isValid","formatter","makeList","total","method","_a","arr","disabledArr","i","push","includes","dayOrDaysToDate","dayOrDays","map","d","toDate"],"sources":["../../../../../../packages/components/time-picker/src/utils.ts"],"sourcesContent":["import dayjs from 'dayjs'\nimport { isArray, isDate, isEmpty } from '@element-plus/utils'\n\nimport type { Dayjs } from 'dayjs'\nimport type { DateOrDates, DayOrDays } from './common/props'\n\nexport type TimeList = [number | undefined, number, undefined | number]\n\nexport const buildTimeList = (value: number, bound: number): TimeList => {\n  return [\n    value > 0 ? value - 1 : undefined,\n    value,\n    value < bound ? value + 1 : undefined,\n  ]\n}\n\nexport const rangeArr = (n: number) =>\n  Array.from(Array.from({ length: n }).keys())\n\nexport const extractDateFormat = (format: string) => {\n  return format\n    .replace(/\\W?m{1,2}|\\W?ZZ/g, '')\n    .replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, '')\n    .trim()\n}\n\nexport const extractTimeFormat = (format: string) => {\n  return format\n    .replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g, '')\n    .trim()\n}\n\nexport const dateEquals = function (a: Date | unknown, b: Date | unknown) {\n  const aIsDate = isDate(a)\n  const bIsDate = isDate(b)\n  if (aIsDate && bIsDate) {\n    return a.getTime() === b.getTime()\n  }\n  if (!aIsDate && !bIsDate) {\n    return a === b\n  }\n  return false\n}\n\nexport const valueEquals = function (\n  a: Array<Date> | unknown,\n  b: Array<Date> | unknown\n) {\n  const aIsArray = isArray(a)\n  const bIsArray = isArray(b)\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false\n    }\n    return a.every((item, index) => dateEquals(item, b[index]))\n  }\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b)\n  }\n  return false\n}\n\nexport const parseDate = function (\n  date: string | number | Date,\n  format: string | undefined,\n  lang: string\n) {\n  const day =\n    isEmpty(format) || format === 'x'\n      ? dayjs(date).locale(lang)\n      : dayjs(date, format).locale(lang)\n  return day.isValid() ? day : undefined\n}\n\nexport const formatter = function (\n  date: string | number | Date | Dayjs,\n  format: string | undefined,\n  lang: string\n) {\n  if (isEmpty(format)) return date\n  if (format === 'x') return +date\n  return dayjs(date).locale(lang).format(format)\n}\n\nexport const makeList = (total: number, method?: () => number[]) => {\n  const arr: boolean[] = []\n  const disabledArr = method?.()\n  for (let i = 0; i < total; i++) {\n    arr.push(disabledArr?.includes(i) ?? false)\n  }\n  return arr\n}\n\nexport const dayOrDaysToDate = (dayOrDays: DayOrDays): DateOrDates => {\n  return isArray(dayOrDays)\n    ? (dayOrDays.map((d) => d.toDate()) as [Date, Date])\n    : dayOrDays.toDate()\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}