{"ast":null,"code":"import { defineComponent, inject, computed, toRef, openBlock, createElementBlock, mergeProps, unref, createElementVNode, normalizeClass, normalizeStyle, createCommentVNode } from 'vue';\nimport { useWindowSize } from '@vueuse/core';\nimport { maskProps } from './mask.mjs';\nimport { tourKey } from './helper.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\nconst _hoisted_1 = {\n  style: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n};\nconst _hoisted_2 = [\"d\"];\nconst _sfc_main = defineComponent({\n  ...{\n    name: \"ElTourMask\",\n    inheritAttrs: false\n  },\n  __name: \"mask\",\n  props: maskProps,\n  setup(__props) {\n    const props = __props;\n    const {\n      ns\n    } = inject(tourKey);\n    const radius = computed(() => {\n      var _a, _b;\n      return (_b = (_a = props.pos) == null ? void 0 : _a.radius) != null ? _b : 2;\n    });\n    const roundInfo = computed(() => {\n      const v = radius.value;\n      const baseInfo = `a${v},${v} 0 0 1`;\n      return {\n        topRight: `${baseInfo} ${v},${v}`,\n        bottomRight: `${baseInfo} ${-v},${v}`,\n        bottomLeft: `${baseInfo} ${-v},${-v}`,\n        topLeft: `${baseInfo} ${v},${-v}`\n      };\n    });\n    const {\n      width: windowWidth,\n      height: windowHeight\n    } = useWindowSize();\n    const path = computed(() => {\n      const width = windowWidth.value;\n      const height = windowHeight.value;\n      const info = roundInfo.value;\n      const _path = `M${width},0 L0,0 L0,${height} L${width},${height} L${width},0 Z`;\n      const _radius = radius.value;\n      return props.pos ? `${_path} M${props.pos.left + _radius},${props.pos.top} h${props.pos.width - _radius * 2} ${info.topRight} v${props.pos.height - _radius * 2} ${info.bottomRight} h${-props.pos.width + _radius * 2} ${info.bottomLeft} v${-props.pos.height + _radius * 2} ${info.topLeft} z` : _path;\n    });\n    const maskStyle = computed(() => ({\n      position: \"fixed\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      zIndex: props.zIndex,\n      pointerEvents: props.pos && props.targetAreaClickable ? \"none\" : \"auto\"\n    }));\n    const pathStyle = computed(() => ({\n      fill: props.fill,\n      pointerEvents: \"auto\",\n      cursor: \"auto\"\n    }));\n    useLockscreen(toRef(props, \"visible\"), {\n      ns\n    });\n    return (_ctx, _cache) => {\n      return _ctx.visible ? (openBlock(), createElementBlock(\"div\", mergeProps({\n        key: 0,\n        class: unref(ns).e(\"mask\"),\n        style: maskStyle.value\n      }, _ctx.$attrs), [(openBlock(), createElementBlock(\"svg\", _hoisted_1, [createElementVNode(\"path\", {\n        class: normalizeClass(unref(ns).e(\"hollow\")),\n        style: normalizeStyle(pathStyle.value),\n        d: path.value\n      }, null, 14, _hoisted_2)]))], 16)) : createCommentVNode(\"v-if\", true);\n    };\n  }\n});\nvar ElTourMask = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/tour/src/mask.vue\"]]);\nexport { ElTourMask as default };","map":{"version":3,"names":["props","__props","ns","inject","tourKey","radius","computed","_b","_a","pos","roundInfo","v","value","baseInfo","topRight","bottomRight","bottomLeft","topLeft","width","windowWidth","height","windowHeight","useWindowSize","path","info","_path","_radius","left","top","maskStyle","position","right","bottom","zIndex","pointerEvents","targetAreaClickable","pathStyle","fill","cursor","useLockscreen","toRef","_ctx","visible","openBlock","createElementBlock","mergeProps","key","class","unref","e","style","$attrs","_hoisted_1","createElementVNode","normalizeClass","normalizeStyle","d","_hoisted_2"],"sources":["../../../../../../packages/components/tour/src/mask.vue"],"sourcesContent":["<template>\n  <div v-if=\"visible\" :class=\"ns.e('mask')\" :style=\"maskStyle\" v-bind=\"$attrs\">\n    <svg\n      :style=\"{\n        width: '100%',\n        height: '100%',\n      }\"\n    >\n      <path :class=\"ns.e('hollow')\" :style=\"pathStyle\" :d=\"path\" />\n    </svg>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, toRef } from 'vue'\nimport { useLockscreen } from '@element-plus/hooks'\nimport { useWindowSize } from '@vueuse/core'\nimport { maskProps } from './mask'\nimport { tourKey } from './helper'\n\nimport type { CSSProperties } from 'vue'\n\ndefineOptions({\n  name: 'ElTourMask',\n  inheritAttrs: false,\n})\n\nconst props = defineProps(maskProps)\n\nconst { ns } = inject(tourKey)!\nconst radius = computed(() => props.pos?.radius ?? 2)\nconst roundInfo = computed(() => {\n  const v = radius.value\n  const baseInfo = `a${v},${v} 0 0 1`\n  return {\n    topRight: `${baseInfo} ${v},${v}`,\n    bottomRight: `${baseInfo} ${-v},${v}`,\n    bottomLeft: `${baseInfo} ${-v},${-v}`,\n    topLeft: `${baseInfo} ${v},${-v}`,\n  }\n})\n\nconst { width: windowWidth, height: windowHeight } = useWindowSize()\n\nconst path = computed(() => {\n  const width = windowWidth.value\n  const height = windowHeight.value\n  const info = roundInfo.value\n  const _path = `M${width},0 L0,0 L0,${height} L${width},${height} L${width},0 Z`\n  const _radius = radius.value\n  return props.pos\n    ? `${_path} M${props.pos.left + _radius},${props.pos.top} h${\n        props.pos.width - _radius * 2\n      } ${info.topRight} v${props.pos.height - _radius * 2} ${\n        info.bottomRight\n      } h${-props.pos.width + _radius * 2} ${info.bottomLeft} v${\n        -props.pos.height + _radius * 2\n      } ${info.topLeft} z`\n    : _path\n})\n\nconst maskStyle = computed<CSSProperties>(() => ({\n  position: 'fixed',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  zIndex: props.zIndex,\n  pointerEvents: props.pos && props.targetAreaClickable ? 'none' : 'auto',\n}))\n\nconst pathStyle = computed<CSSProperties>(() => ({\n  fill: props.fill,\n  pointerEvents: 'auto',\n  cursor: 'auto',\n}))\n\nuseLockscreen(toRef(props, 'visible'), {\n  ns,\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}