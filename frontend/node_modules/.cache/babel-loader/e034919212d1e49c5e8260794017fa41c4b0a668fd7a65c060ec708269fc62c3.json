{"ast":null,"code":"import { defineComponent, computed, ref, reactive, markRaw, watch, nextTick, onMounted, onBeforeUnmount, toRefs, resolveComponent, openBlock, createBlock, Transition, withCtx, withDirectives, createVNode, createElementVNode, normalizeClass, normalizeStyle, withModifiers, createElementBlock, resolveDynamicComponent, createCommentVNode, toDisplayString, withKeys, renderSlot, vShow, createTextVNode } from 'vue';\nimport { ElButton } from '../../button/index.mjs';\nimport { ElInput } from '../../input/index.mjs';\nimport { ElOverlay } from '../../overlay/index.mjs';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { Loading } from '@element-plus/icons-vue';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport TrapFocus from '../../../directives/trap-focus/index.mjs';\nimport { TypeComponents, TypeComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { isValidComponentSize } from '../../../utils/vue/validator.mjs';\nimport { useGlobalComponentSettings } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useDraggable } from '../../../hooks/use-draggable/index.mjs';\nimport { isFunction, isString } from '@vue/shared';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nconst _sfc_main = defineComponent({\n  name: \"ElMessageBox\",\n  directives: {\n    TrapFocus\n  },\n  components: {\n    ElButton,\n    ElFocusTrap,\n    ElInput,\n    ElOverlay,\n    ElIcon,\n    ...TypeComponents\n  },\n  inheritAttrs: false,\n  props: {\n    buttonSize: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    closeOnHashChange: {\n      type: Boolean,\n      default: true\n    },\n    center: Boolean,\n    draggable: Boolean,\n    overflow: Boolean,\n    roundButton: Boolean,\n    container: {\n      type: String,\n      default: \"body\"\n    },\n    boxType: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"vanish\", \"action\"],\n  setup(props, {\n    emit\n  }) {\n    const {\n      locale,\n      zIndex,\n      ns,\n      size: btnSize\n    } = useGlobalComponentSettings(\"message-box\", computed(() => props.buttonSize));\n    const {\n      t\n    } = locale;\n    const {\n      nextZIndex\n    } = zIndex;\n    const visible = ref(false);\n    const state = reactive({\n      autofocus: true,\n      beforeClose: null,\n      callback: null,\n      cancelButtonText: \"\",\n      cancelButtonClass: \"\",\n      confirmButtonText: \"\",\n      confirmButtonClass: \"\",\n      cancelButtonType: \"\",\n      confirmButtonType: \"primary\",\n      customClass: \"\",\n      customStyle: {},\n      dangerouslyUseHTMLString: false,\n      distinguishCancelAndClose: false,\n      icon: \"\",\n      closeIcon: \"\",\n      inputPattern: null,\n      inputPlaceholder: \"\",\n      inputType: \"text\",\n      inputValue: \"\",\n      inputValidator: void 0,\n      inputErrorMessage: \"\",\n      message: \"\",\n      modalFade: true,\n      modalClass: \"\",\n      showCancelButton: false,\n      showConfirmButton: true,\n      type: \"\",\n      title: void 0,\n      showInput: false,\n      action: \"\",\n      confirmButtonLoading: false,\n      cancelButtonLoading: false,\n      confirmButtonLoadingIcon: markRaw(Loading),\n      cancelButtonLoadingIcon: markRaw(Loading),\n      confirmButtonDisabled: false,\n      editorErrorMessage: \"\",\n      validateError: false,\n      zIndex: nextZIndex()\n    });\n    const typeClass = computed(() => {\n      const type = state.type;\n      return {\n        [ns.bm(\"icon\", type)]: type && TypeComponentsMap[type]\n      };\n    });\n    const contentId = useId();\n    const inputId = useId();\n    const iconComponent = computed(() => {\n      const type = state.type;\n      return state.icon || type && TypeComponentsMap[type] || \"\";\n    });\n    const hasMessage = computed(() => !!state.message);\n    const rootRef = ref();\n    const headerRef = ref();\n    const focusStartRef = ref();\n    const inputRef = ref();\n    const confirmRef = ref();\n    const confirmButtonClasses = computed(() => state.confirmButtonClass);\n    watch(() => state.inputValue, async val => {\n      await nextTick();\n      if (props.boxType === \"prompt\" && val) {\n        validate();\n      }\n    }, {\n      immediate: true\n    });\n    watch(() => visible.value, val => {\n      var _a, _b;\n      if (val) {\n        if (props.boxType !== \"prompt\") {\n          if (state.autofocus) {\n            focusStartRef.value = (_b = (_a = confirmRef.value) == null ? void 0 : _a.$el) != null ? _b : rootRef.value;\n          } else {\n            focusStartRef.value = rootRef.value;\n          }\n        }\n        state.zIndex = nextZIndex();\n      }\n      if (props.boxType !== \"prompt\") return;\n      if (val) {\n        nextTick().then(() => {\n          var _a2;\n          if (inputRef.value && inputRef.value.$el) {\n            if (state.autofocus) {\n              focusStartRef.value = (_a2 = getInputElement()) != null ? _a2 : rootRef.value;\n            } else {\n              focusStartRef.value = rootRef.value;\n            }\n          }\n        });\n      } else {\n        state.editorErrorMessage = \"\";\n        state.validateError = false;\n      }\n    });\n    const draggable = computed(() => props.draggable);\n    const overflow = computed(() => props.overflow);\n    const {\n      isDragging\n    } = useDraggable(rootRef, headerRef, draggable, overflow);\n    onMounted(async () => {\n      await nextTick();\n      if (props.closeOnHashChange) {\n        window.addEventListener(\"hashchange\", doClose);\n      }\n    });\n    onBeforeUnmount(() => {\n      if (props.closeOnHashChange) {\n        window.removeEventListener(\"hashchange\", doClose);\n      }\n    });\n    function doClose() {\n      if (!visible.value) return;\n      visible.value = false;\n      nextTick(() => {\n        if (state.action) emit(\"action\", state.action);\n      });\n    }\n    const handleWrapperClick = () => {\n      if (props.closeOnClickModal) {\n        handleAction(state.distinguishCancelAndClose ? \"close\" : \"cancel\");\n      }\n    };\n    const overlayEvent = useSameTarget(handleWrapperClick);\n    const handleInputEnter = e => {\n      if (state.inputType !== \"textarea\") {\n        e.preventDefault();\n        return handleAction(\"confirm\");\n      }\n    };\n    const handleAction = action => {\n      var _a;\n      if (props.boxType === \"prompt\" && action === \"confirm\" && !validate()) {\n        return;\n      }\n      state.action = action;\n      if (state.beforeClose) {\n        (_a = state.beforeClose) == null ? void 0 : _a.call(state, action, state, doClose);\n      } else {\n        doClose();\n      }\n    };\n    const validate = () => {\n      if (props.boxType === \"prompt\") {\n        const inputPattern = state.inputPattern;\n        if (inputPattern && !inputPattern.test(state.inputValue || \"\")) {\n          state.editorErrorMessage = state.inputErrorMessage || t(\"el.messagebox.error\");\n          state.validateError = true;\n          return false;\n        }\n        const inputValidator = state.inputValidator;\n        if (isFunction(inputValidator)) {\n          const validateResult = inputValidator(state.inputValue);\n          if (validateResult === false) {\n            state.editorErrorMessage = state.inputErrorMessage || t(\"el.messagebox.error\");\n            state.validateError = true;\n            return false;\n          }\n          if (isString(validateResult)) {\n            state.editorErrorMessage = validateResult;\n            state.validateError = true;\n            return false;\n          }\n        }\n      }\n      state.editorErrorMessage = \"\";\n      state.validateError = false;\n      return true;\n    };\n    const getInputElement = () => {\n      var _a, _b;\n      const inputRefs = (_a = inputRef.value) == null ? void 0 : _a.$refs;\n      return (_b = inputRefs == null ? void 0 : inputRefs.input) != null ? _b : inputRefs == null ? void 0 : inputRefs.textarea;\n    };\n    const handleClose = () => {\n      handleAction(\"close\");\n    };\n    const onCloseRequested = () => {\n      if (props.closeOnPressEscape) {\n        handleClose();\n      }\n    };\n    if (props.lockScroll) {\n      useLockscreen(visible, {\n        ns\n      });\n    }\n    return {\n      ...toRefs(state),\n      ns,\n      overlayEvent,\n      visible,\n      hasMessage,\n      typeClass,\n      contentId,\n      inputId,\n      btnSize,\n      iconComponent,\n      confirmButtonClasses,\n      rootRef,\n      focusStartRef,\n      headerRef,\n      inputRef,\n      isDragging,\n      confirmRef,\n      doClose,\n      handleClose,\n      onCloseRequested,\n      handleWrapperClick,\n      handleInputEnter,\n      handleAction,\n      t\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-label\", \"aria-describedby\"];\nconst _hoisted_2 = [\"aria-label\"];\nconst _hoisted_3 = [\"id\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_button = resolveComponent(\"el-button\");\n  const _component_el_focus_trap = resolveComponent(\"el-focus-trap\");\n  const _component_el_overlay = resolveComponent(\"el-overlay\");\n  return openBlock(), createBlock(Transition, {\n    name: \"fade-in-linear\",\n    onAfterLeave: _cache[11] || (_cache[11] = $event => _ctx.$emit(\"vanish\")),\n    persisted: \"\"\n  }, {\n    default: withCtx(() => [withDirectives(createVNode(_component_el_overlay, {\n      \"z-index\": _ctx.zIndex,\n      \"overlay-class\": [_ctx.ns.is(\"message-box\"), _ctx.modalClass],\n      mask: _ctx.modal\n    }, {\n      default: withCtx(() => [createElementVNode(\"div\", {\n        role: \"dialog\",\n        \"aria-label\": _ctx.title,\n        \"aria-modal\": \"true\",\n        \"aria-describedby\": !_ctx.showInput ? _ctx.contentId : void 0,\n        class: normalizeClass(`${_ctx.ns.namespace.value}-overlay-message-box`),\n        onClick: _cache[8] || (_cache[8] = (...args) => _ctx.overlayEvent.onClick && _ctx.overlayEvent.onClick(...args)),\n        onMousedown: _cache[9] || (_cache[9] = (...args) => _ctx.overlayEvent.onMousedown && _ctx.overlayEvent.onMousedown(...args)),\n        onMouseup: _cache[10] || (_cache[10] = (...args) => _ctx.overlayEvent.onMouseup && _ctx.overlayEvent.onMouseup(...args))\n      }, [createVNode(_component_el_focus_trap, {\n        loop: \"\",\n        trapped: _ctx.visible,\n        \"focus-trap-el\": _ctx.rootRef,\n        \"focus-start-el\": _ctx.focusStartRef,\n        onReleaseRequested: _ctx.onCloseRequested\n      }, {\n        default: withCtx(() => [createElementVNode(\"div\", {\n          ref: \"rootRef\",\n          class: normalizeClass([_ctx.ns.b(), _ctx.customClass, _ctx.ns.is(\"draggable\", _ctx.draggable), _ctx.ns.is(\"dragging\", _ctx.isDragging), {\n            [_ctx.ns.m(\"center\")]: _ctx.center\n          }]),\n          style: normalizeStyle(_ctx.customStyle),\n          tabindex: \"-1\",\n          onClick: _cache[7] || (_cache[7] = withModifiers(() => {}, [\"stop\"]))\n        }, [_ctx.title !== null && _ctx.title !== void 0 ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          ref: \"headerRef\",\n          class: normalizeClass([_ctx.ns.e(\"header\"), {\n            \"show-close\": _ctx.showClose\n          }])\n        }, [createElementVNode(\"div\", {\n          class: normalizeClass(_ctx.ns.e(\"title\"))\n        }, [_ctx.iconComponent && _ctx.center ? (openBlock(), createBlock(_component_el_icon, {\n          key: 0,\n          class: normalizeClass([_ctx.ns.e(\"status\"), _ctx.typeClass])\n        }, {\n          default: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))]),\n          _: 1\n        }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true), createElementVNode(\"span\", null, toDisplayString(_ctx.title), 1)], 2), _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n          key: 0,\n          type: \"button\",\n          class: normalizeClass(_ctx.ns.e(\"headerbtn\")),\n          \"aria-label\": _ctx.t(\"el.messagebox.close\"),\n          onClick: _cache[0] || (_cache[0] = $event => _ctx.handleAction(_ctx.distinguishCancelAndClose ? \"close\" : \"cancel\")),\n          onKeydown: _cache[1] || (_cache[1] = withKeys(withModifiers($event => _ctx.handleAction(_ctx.distinguishCancelAndClose ? \"close\" : \"cancel\"), [\"prevent\"]), [\"enter\"]))\n        }, [createVNode(_component_el_icon, {\n          class: normalizeClass(_ctx.ns.e(\"close\"))\n        }, {\n          default: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon || \"close\")))]),\n          _: 1\n        }, 8, [\"class\"])], 42, _hoisted_2)) : createCommentVNode(\"v-if\", true)], 2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n          id: _ctx.contentId,\n          class: normalizeClass(_ctx.ns.e(\"content\"))\n        }, [createElementVNode(\"div\", {\n          class: normalizeClass(_ctx.ns.e(\"container\"))\n        }, [_ctx.iconComponent && !_ctx.center && _ctx.hasMessage ? (openBlock(), createBlock(_component_el_icon, {\n          key: 0,\n          class: normalizeClass([_ctx.ns.e(\"status\"), _ctx.typeClass])\n        }, {\n          default: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))]),\n          _: 1\n        }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true), _ctx.hasMessage ? (openBlock(), createElementBlock(\"div\", {\n          key: 1,\n          class: normalizeClass(_ctx.ns.e(\"message\"))\n        }, [renderSlot(_ctx.$slots, \"default\", {}, () => [!_ctx.dangerouslyUseHTMLString ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.showInput ? \"label\" : \"p\"), {\n          key: 0,\n          for: _ctx.showInput ? _ctx.inputId : void 0,\n          textContent: toDisplayString(_ctx.message)\n        }, null, 8, [\"for\", \"textContent\"])) : (openBlock(), createBlock(resolveDynamicComponent(_ctx.showInput ? \"label\" : \"p\"), {\n          key: 1,\n          for: _ctx.showInput ? _ctx.inputId : void 0,\n          innerHTML: _ctx.message\n        }, null, 8, [\"for\", \"innerHTML\"]))])], 2)) : createCommentVNode(\"v-if\", true)], 2), withDirectives(createElementVNode(\"div\", {\n          class: normalizeClass(_ctx.ns.e(\"input\"))\n        }, [createVNode(_component_el_input, {\n          id: _ctx.inputId,\n          ref: \"inputRef\",\n          modelValue: _ctx.inputValue,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.inputValue = $event),\n          type: _ctx.inputType,\n          placeholder: _ctx.inputPlaceholder,\n          \"aria-invalid\": _ctx.validateError,\n          class: normalizeClass({\n            invalid: _ctx.validateError\n          }),\n          onKeydown: withKeys(_ctx.handleInputEnter, [\"enter\"])\n        }, null, 8, [\"id\", \"modelValue\", \"type\", \"placeholder\", \"aria-invalid\", \"class\", \"onKeydown\"]), createElementVNode(\"div\", {\n          class: normalizeClass(_ctx.ns.e(\"errormsg\")),\n          style: normalizeStyle({\n            visibility: !!_ctx.editorErrorMessage ? \"visible\" : \"hidden\"\n          })\n        }, toDisplayString(_ctx.editorErrorMessage), 7)], 2), [[vShow, _ctx.showInput]])], 10, _hoisted_3), createElementVNode(\"div\", {\n          class: normalizeClass(_ctx.ns.e(\"btns\"))\n        }, [_ctx.showCancelButton ? (openBlock(), createBlock(_component_el_button, {\n          key: 0,\n          type: _ctx.cancelButtonType === \"text\" ? \"\" : _ctx.cancelButtonType,\n          text: _ctx.cancelButtonType === \"text\",\n          loading: _ctx.cancelButtonLoading,\n          \"loading-icon\": _ctx.cancelButtonLoadingIcon,\n          class: normalizeClass([_ctx.cancelButtonClass]),\n          round: _ctx.roundButton,\n          size: _ctx.btnSize,\n          onClick: _cache[3] || (_cache[3] = $event => _ctx.handleAction(\"cancel\")),\n          onKeydown: _cache[4] || (_cache[4] = withKeys(withModifiers($event => _ctx.handleAction(\"cancel\"), [\"prevent\"]), [\"enter\"]))\n        }, {\n          default: withCtx(() => [createTextVNode(toDisplayString(_ctx.cancelButtonText || _ctx.t(\"el.messagebox.cancel\")), 1)]),\n          _: 1\n        }, 8, [\"type\", \"text\", \"loading\", \"loading-icon\", \"class\", \"round\", \"size\"])) : createCommentVNode(\"v-if\", true), withDirectives(createVNode(_component_el_button, {\n          ref: \"confirmRef\",\n          type: _ctx.confirmButtonType === \"text\" ? \"\" : _ctx.confirmButtonType,\n          text: _ctx.confirmButtonType === \"text\",\n          loading: _ctx.confirmButtonLoading,\n          \"loading-icon\": _ctx.confirmButtonLoadingIcon,\n          class: normalizeClass([_ctx.confirmButtonClasses]),\n          round: _ctx.roundButton,\n          disabled: _ctx.confirmButtonDisabled,\n          size: _ctx.btnSize,\n          onClick: _cache[5] || (_cache[5] = $event => _ctx.handleAction(\"confirm\")),\n          onKeydown: _cache[6] || (_cache[6] = withKeys(withModifiers($event => _ctx.handleAction(\"confirm\"), [\"prevent\"]), [\"enter\"]))\n        }, {\n          default: withCtx(() => [createTextVNode(toDisplayString(_ctx.confirmButtonText || _ctx.t(\"el.messagebox.confirm\")), 1)]),\n          _: 1\n        }, 8, [\"type\", \"text\", \"loading\", \"loading-icon\", \"class\", \"round\", \"disabled\", \"size\"]), [[vShow, _ctx.showConfirmButton]])], 2)], 6)]),\n        _: 3\n      }, 8, [\"trapped\", \"focus-trap-el\", \"focus-start-el\", \"onReleaseRequested\"])], 42, _hoisted_1)]),\n      _: 3\n    }, 8, [\"z-index\", \"overlay-class\", \"mask\"]), [[vShow, _ctx.visible]])]),\n    _: 3\n  });\n}\nvar MessageBoxConstructor = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue\"]]);\nexport { MessageBoxConstructor as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","directives","TrapFocus","components","ElButton","ElFocusTrap","ElInput","ElOverlay","ElIcon","TypeComponents","inheritAttrs","props","buttonSize","type","String","validator","isValidComponentSize","modal","Boolean","default","lockScroll","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange","center","draggable","overflow","roundButton","container","boxType","emits","setup","emit","locale","zIndex","ns","size","btnSize","useGlobalComponentSettings","computed","t","nextZIndex","visible","ref","state","reactive","autofocus","beforeClose","callback","cancelButtonText","cancelButtonClass","confirmButtonText","confirmButtonClass","cancelButtonType","confirmButtonType","customClass","customStyle","dangerouslyUseHTMLString","distinguishCancelAndClose","icon","closeIcon","inputPattern","inputPlaceholder","inputType","inputValue","inputValidator","inputErrorMessage","message","modalFade","modalClass","showCancelButton","showConfirmButton","title","showInput","action","confirmButtonLoading","cancelButtonLoading","confirmButtonLoadingIcon","markRaw","Loading","cancelButtonLoadingIcon","confirmButtonDisabled","editorErrorMessage","validateError","typeClass","bm","TypeComponentsMap","contentId","useId","inputId","iconComponent","hasMessage","rootRef","headerRef","focusStartRef","inputRef","confirmRef","confirmButtonClasses","watch","val","nextTick","validate","immediate","value","_a","_b","$el","then","_a2","getInputElement","isDragging","useDraggable","onMounted","window","addEventListener","doClose","onBeforeUnmount","removeEventListener","handleWrapperClick","handleAction","overlayEvent","useSameTarget","handleInputEnter","e","preventDefault","call","test","isFunction","validateResult","isString","inputRefs","$refs","input","textarea","handleClose","onCloseRequested","useLockscreen","toRefs","createBlock","Transition","onAfterLeave","_cache","$event","_ctx","$emit","persisted","withCtx","withDirectives","createVNode","_component_el_overlay","is","mask","createElementVNode","role","class","normalizeClass","namespace","onClick","args","onMousedown","onMouseup","_component_el_focus_trap","loop","trapped","onReleaseRequested","b","m","style","normalizeStyle","tabindex","withModifiers","openBlock","createElementBlock","key","_component_el_icon","resolveDynamicComponent","_","toDisplayString","onKeydown","withKeys","id","renderSlot","$slots","for","textContent","innerHTML","_component_el_input","modelValue","placeholder","invalid","visibility","_hoisted_3","_component_el_button","text","loading","round","createTextVNode","disabled"],"sources":["../../../../../../packages/components/message-box/src/index.vue"],"sourcesContent":["<template>\n  <transition name=\"fade-in-linear\" @after-leave=\"$emit('vanish')\">\n    <el-overlay\n      v-show=\"visible\"\n      :z-index=\"zIndex\"\n      :overlay-class=\"[ns.is('message-box'), modalClass]\"\n      :mask=\"modal\"\n    >\n      <div\n        role=\"dialog\"\n        :aria-label=\"title\"\n        aria-modal=\"true\"\n        :aria-describedby=\"!showInput ? contentId : undefined\"\n        :class=\"`${ns.namespace.value}-overlay-message-box`\"\n        @click=\"overlayEvent.onClick\"\n        @mousedown=\"overlayEvent.onMousedown\"\n        @mouseup=\"overlayEvent.onMouseup\"\n      >\n        <el-focus-trap\n          loop\n          :trapped=\"visible\"\n          :focus-trap-el=\"rootRef\"\n          :focus-start-el=\"focusStartRef\"\n          @release-requested=\"onCloseRequested\"\n        >\n          <div\n            ref=\"rootRef\"\n            :class=\"[\n              ns.b(),\n              customClass,\n              ns.is('draggable', draggable),\n              ns.is('dragging', isDragging),\n              { [ns.m('center')]: center },\n            ]\"\n            :style=\"customStyle\"\n            tabindex=\"-1\"\n            @click.stop=\"\"\n          >\n            <div\n              v-if=\"title !== null && title !== undefined\"\n              ref=\"headerRef\"\n              :class=\"[ns.e('header'), { 'show-close': showClose }]\"\n            >\n              <div :class=\"ns.e('title')\">\n                <el-icon\n                  v-if=\"iconComponent && center\"\n                  :class=\"[ns.e('status'), typeClass]\"\n                >\n                  <component :is=\"iconComponent\" />\n                </el-icon>\n                <span>{{ title }}</span>\n              </div>\n              <button\n                v-if=\"showClose\"\n                type=\"button\"\n                :class=\"ns.e('headerbtn')\"\n                :aria-label=\"t('el.messagebox.close')\"\n                @click=\"\n                  handleAction(distinguishCancelAndClose ? 'close' : 'cancel')\n                \"\n                @keydown.prevent.enter=\"\n                  handleAction(distinguishCancelAndClose ? 'close' : 'cancel')\n                \"\n              >\n                <el-icon :class=\"ns.e('close')\">\n                  <component :is=\"closeIcon || 'close'\" />\n                </el-icon>\n              </button>\n            </div>\n            <div :id=\"contentId\" :class=\"ns.e('content')\">\n              <div :class=\"ns.e('container')\">\n                <el-icon\n                  v-if=\"iconComponent && !center && hasMessage\"\n                  :class=\"[ns.e('status'), typeClass]\"\n                >\n                  <component :is=\"iconComponent\" />\n                </el-icon>\n                <div v-if=\"hasMessage\" :class=\"ns.e('message')\">\n                  <slot>\n                    <component\n                      :is=\"showInput ? 'label' : 'p'\"\n                      v-if=\"!dangerouslyUseHTMLString\"\n                      :for=\"showInput ? inputId : undefined\"\n                      v-text=\"message\"\n                    />\n                    <component\n                      :is=\"showInput ? 'label' : 'p'\"\n                      v-else\n                      :for=\"showInput ? inputId : undefined\"\n                      v-html=\"message\"\n                    />\n                  </slot>\n                </div>\n              </div>\n              <div v-show=\"showInput\" :class=\"ns.e('input')\">\n                <el-input\n                  :id=\"inputId\"\n                  ref=\"inputRef\"\n                  v-model=\"inputValue\"\n                  :type=\"inputType\"\n                  :placeholder=\"inputPlaceholder\"\n                  :aria-invalid=\"validateError\"\n                  :class=\"{ invalid: validateError }\"\n                  @keydown.enter=\"handleInputEnter\"\n                />\n                <div\n                  :class=\"ns.e('errormsg')\"\n                  :style=\"{\n                    visibility: !!editorErrorMessage ? 'visible' : 'hidden',\n                  }\"\n                >\n                  {{ editorErrorMessage }}\n                </div>\n              </div>\n            </div>\n            <div :class=\"ns.e('btns')\">\n              <el-button\n                v-if=\"showCancelButton\"\n                :type=\"cancelButtonType === 'text' ? '' : cancelButtonType\"\n                :text=\"cancelButtonType === 'text'\"\n                :loading=\"cancelButtonLoading\"\n                :loading-icon=\"cancelButtonLoadingIcon\"\n                :class=\"[cancelButtonClass]\"\n                :round=\"roundButton\"\n                :size=\"btnSize\"\n                @click=\"handleAction('cancel')\"\n                @keydown.prevent.enter=\"handleAction('cancel')\"\n              >\n                {{ cancelButtonText || t('el.messagebox.cancel') }}\n              </el-button>\n              <el-button\n                v-show=\"showConfirmButton\"\n                ref=\"confirmRef\"\n                :type=\"confirmButtonType === 'text' ? '' : confirmButtonType\"\n                :text=\"confirmButtonType === 'text'\"\n                :loading=\"confirmButtonLoading\"\n                :loading-icon=\"confirmButtonLoadingIcon\"\n                :class=\"[confirmButtonClasses]\"\n                :round=\"roundButton\"\n                :disabled=\"confirmButtonDisabled\"\n                :size=\"btnSize\"\n                @click=\"handleAction('confirm')\"\n                @keydown.prevent.enter=\"handleAction('confirm')\"\n              >\n                {{ confirmButtonText || t('el.messagebox.confirm') }}\n              </el-button>\n            </div>\n          </div>\n        </el-focus-trap>\n      </div>\n    </el-overlay>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport {\n  computed,\n  defineComponent,\n  markRaw,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  reactive,\n  ref,\n  toRefs,\n  watch,\n} from 'vue'\nimport ElButton from '@element-plus/components/button'\nimport { TrapFocus } from '@element-plus/directives'\nimport {\n  useDraggable,\n  useId,\n  useLockscreen,\n  useSameTarget,\n} from '@element-plus/hooks'\nimport ElInput from '@element-plus/components/input'\nimport { ElOverlay } from '@element-plus/components/overlay'\nimport {\n  TypeComponents,\n  TypeComponentsMap,\n  isFunction,\n  isString,\n  isValidComponentSize,\n} from '@element-plus/utils'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { Loading } from '@element-plus/icons-vue'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport { useGlobalComponentSettings } from '@element-plus/components/config-provider'\n\nimport type { ComponentPublicInstance, PropType } from 'vue'\nimport type { ComponentSize } from '@element-plus/constants'\nimport type {\n  Action,\n  MessageBoxState,\n  MessageBoxType,\n} from './message-box.type'\n\nexport default defineComponent({\n  name: 'ElMessageBox',\n  directives: {\n    TrapFocus,\n  },\n  components: {\n    ElButton,\n    ElFocusTrap,\n    ElInput,\n    ElOverlay,\n    ElIcon,\n    ...TypeComponents,\n  },\n  inheritAttrs: false,\n  props: {\n    buttonSize: {\n      type: String as PropType<ComponentSize>,\n      validator: isValidComponentSize,\n    },\n    modal: {\n      type: Boolean,\n      default: true,\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true,\n    },\n    showClose: {\n      type: Boolean,\n      default: true,\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true,\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true,\n    },\n    closeOnHashChange: {\n      type: Boolean,\n      default: true,\n    },\n    center: Boolean,\n    draggable: Boolean,\n    overflow: Boolean,\n    roundButton: Boolean,\n    container: {\n      type: String, // default append to body\n      default: 'body',\n    },\n    boxType: {\n      type: String as PropType<MessageBoxType>,\n      default: '',\n    },\n  },\n  emits: ['vanish', 'action'],\n  setup(props, { emit }) {\n    // const popup = usePopup(props, doClose)\n    const {\n      locale,\n      zIndex,\n      ns,\n      size: btnSize,\n    } = useGlobalComponentSettings(\n      'message-box',\n      computed(() => props.buttonSize)\n    )\n\n    const { t } = locale\n    const { nextZIndex } = zIndex\n\n    const visible = ref(false)\n    // s represents state\n    const state = reactive<MessageBoxState>({\n      // autofocus element when open message-box\n      autofocus: true,\n      beforeClose: null,\n      callback: null,\n      cancelButtonText: '',\n      cancelButtonClass: '',\n      confirmButtonText: '',\n      confirmButtonClass: '',\n      cancelButtonType: '',\n      confirmButtonType: 'primary',\n      customClass: '',\n      customStyle: {},\n      dangerouslyUseHTMLString: false,\n      distinguishCancelAndClose: false,\n      icon: '',\n      closeIcon: '',\n      inputPattern: null,\n      inputPlaceholder: '',\n      inputType: 'text',\n      inputValue: '',\n      inputValidator: undefined,\n      inputErrorMessage: '',\n      message: '',\n      modalFade: true,\n      modalClass: '',\n      showCancelButton: false,\n      showConfirmButton: true,\n      type: '',\n      title: undefined,\n      showInput: false,\n      action: '' as Action,\n      confirmButtonLoading: false,\n      cancelButtonLoading: false,\n      confirmButtonLoadingIcon: markRaw(Loading),\n      cancelButtonLoadingIcon: markRaw(Loading),\n      confirmButtonDisabled: false,\n      editorErrorMessage: '',\n      // refer to: https://github.com/ElemeFE/element/commit/2999279ae34ef10c373ca795c87b020ed6753eed\n      // seemed ok for now without this state.\n      // isOnComposition: false, // temporary remove\n      validateError: false,\n      zIndex: nextZIndex(),\n    })\n\n    const typeClass = computed(() => {\n      const type = state.type\n      return { [ns.bm('icon', type)]: type && TypeComponentsMap[type] }\n    })\n\n    const contentId = useId()\n    const inputId = useId()\n\n    const iconComponent = computed(() => {\n      const type = state.type\n      return state.icon || (type && TypeComponentsMap[type]) || ''\n    })\n    const hasMessage = computed(() => !!state.message)\n    const rootRef = ref<HTMLElement>()\n    const headerRef = ref<HTMLElement>()\n    const focusStartRef = ref<HTMLElement>()\n    const inputRef = ref<ComponentPublicInstance>()\n    const confirmRef = ref<ComponentPublicInstance>()\n\n    const confirmButtonClasses = computed(() => state.confirmButtonClass)\n\n    watch(\n      () => state.inputValue,\n      async (val) => {\n        await nextTick()\n        if (props.boxType === 'prompt' && val) {\n          validate()\n        }\n      },\n      { immediate: true }\n    )\n\n    watch(\n      () => visible.value,\n      (val) => {\n        if (val) {\n          if (props.boxType !== 'prompt') {\n            if (state.autofocus) {\n              focusStartRef.value = confirmRef.value?.$el ?? rootRef.value\n            } else {\n              focusStartRef.value = rootRef.value\n            }\n          }\n          state.zIndex = nextZIndex()\n        }\n        if (props.boxType !== 'prompt') return\n        if (val) {\n          nextTick().then(() => {\n            if (inputRef.value && inputRef.value.$el) {\n              if (state.autofocus) {\n                focusStartRef.value = getInputElement() ?? rootRef.value\n              } else {\n                focusStartRef.value = rootRef.value\n              }\n            }\n          })\n        } else {\n          state.editorErrorMessage = ''\n          state.validateError = false\n        }\n      }\n    )\n\n    const draggable = computed(() => props.draggable)\n    const overflow = computed(() => props.overflow)\n    const { isDragging } = useDraggable(rootRef, headerRef, draggable, overflow)\n\n    onMounted(async () => {\n      await nextTick()\n      if (props.closeOnHashChange) {\n        window.addEventListener('hashchange', doClose)\n      }\n    })\n\n    onBeforeUnmount(() => {\n      if (props.closeOnHashChange) {\n        window.removeEventListener('hashchange', doClose)\n      }\n    })\n\n    function doClose() {\n      if (!visible.value) return\n      visible.value = false\n      nextTick(() => {\n        if (state.action) emit('action', state.action)\n      })\n    }\n\n    const handleWrapperClick = () => {\n      if (props.closeOnClickModal) {\n        handleAction(state.distinguishCancelAndClose ? 'close' : 'cancel')\n      }\n    }\n\n    const overlayEvent = useSameTarget(handleWrapperClick)\n\n    const handleInputEnter = (e: KeyboardEvent | Event) => {\n      if (state.inputType !== 'textarea') {\n        e.preventDefault()\n        return handleAction('confirm')\n      }\n    }\n\n    const handleAction = (action: Action) => {\n      if (props.boxType === 'prompt' && action === 'confirm' && !validate()) {\n        return\n      }\n\n      state.action = action\n\n      if (state.beforeClose) {\n        state.beforeClose?.(action, state, doClose)\n      } else {\n        doClose()\n      }\n    }\n\n    const validate = () => {\n      if (props.boxType === 'prompt') {\n        const inputPattern = state.inputPattern\n        if (inputPattern && !inputPattern.test(state.inputValue || '')) {\n          state.editorErrorMessage =\n            state.inputErrorMessage || t('el.messagebox.error')\n          state.validateError = true\n          return false\n        }\n        const inputValidator = state.inputValidator\n        if (isFunction(inputValidator)) {\n          const validateResult = inputValidator(state.inputValue)\n          if (validateResult === false) {\n            state.editorErrorMessage =\n              state.inputErrorMessage || t('el.messagebox.error')\n            state.validateError = true\n            return false\n          }\n          if (isString(validateResult)) {\n            state.editorErrorMessage = validateResult\n            state.validateError = true\n            return false\n          }\n        }\n      }\n      state.editorErrorMessage = ''\n      state.validateError = false\n      return true\n    }\n\n    const getInputElement = () => {\n      const inputRefs = inputRef.value?.$refs\n      return (inputRefs?.input ?? inputRefs?.textarea) as HTMLElement\n    }\n\n    const handleClose = () => {\n      handleAction('close')\n    }\n\n    // when close on press escape is disabled, pressing esc should not callout\n    // any other message box and close any other dialog-ish elements\n    // e.g. Dialog has a close on press esc feature, and when it closes, it calls\n    // props.beforeClose method to make a intermediate state by callout a message box\n    // for some verification or alerting. then if we allow global event like this\n    // to dispatch, it could callout another message box.\n    const onCloseRequested = () => {\n      if (props.closeOnPressEscape) {\n        handleClose()\n      }\n    }\n\n    // locks the screen to prevent scroll\n    if (props.lockScroll) {\n      useLockscreen(visible, { ns })\n    }\n\n    return {\n      ...toRefs(state),\n      ns,\n      overlayEvent,\n      visible,\n      hasMessage,\n      typeClass,\n      contentId,\n      inputId,\n      btnSize,\n      iconComponent,\n      confirmButtonClasses,\n      rootRef,\n      focusStartRef,\n      headerRef,\n      inputRef,\n      isDragging,\n      confirmRef,\n      doClose, // for outside usage\n      handleClose, // for out side usage\n      onCloseRequested,\n      handleWrapperClick,\n      handleInputEnter,\n      handleAction,\n      t,\n    }\n  },\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}