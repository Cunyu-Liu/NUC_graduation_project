{"ast":null,"code":"import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, createElementVNode, renderSlot, toDisplayString, createVNode, withCtx, createTextVNode, createCommentVNode, createSlots, normalizeProps, guardReactiveProps, Fragment, renderList, createBlock, mergeProps } from 'vue';\nimport { ElButtonGroup, ElButton } from '../../button/index.mjs';\nimport DateTable from './date-table2.mjs';\nimport { useCalendar } from './use-calendar.mjs';\nimport { calendarProps, calendarEmits } from './calendar.mjs';\nimport SelectController from './select-controller2.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nconst COMPONENT_NAME = \"ElCalendar\";\nconst _sfc_main = defineComponent({\n  ...{\n    name: COMPONENT_NAME\n  },\n  __name: \"calendar\",\n  props: calendarProps,\n  emits: calendarEmits,\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    const ns = useNamespace(\"calendar\");\n    const props = __props;\n    const emit = __emit;\n    const {\n      calculateValidatedDateRange,\n      date,\n      pickDay,\n      realSelectedDay,\n      selectDate,\n      validatedRange,\n      handleDateChange\n    } = useCalendar(props, emit, COMPONENT_NAME);\n    const {\n      t\n    } = useLocale();\n    const i18nDate = computed(() => {\n      const pickedMonth = `el.datepicker.month${date.value.format(\"M\")}`;\n      return `${date.value.year()} ${t(\"el.datepicker.year\")} ${t(pickedMonth)}`;\n    });\n    __expose({\n      selectedDay: realSelectedDay,\n      pickDay,\n      selectDate,\n      calculateValidatedDateRange\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(ns).b())\n      }, [createElementVNode(\"div\", {\n        class: normalizeClass(unref(ns).e(\"header\"))\n      }, [renderSlot(_ctx.$slots, \"header\", {\n        date: i18nDate.value\n      }, () => [createElementVNode(\"div\", {\n        class: normalizeClass(unref(ns).e(\"title\"))\n      }, toDisplayString(i18nDate.value), 3), unref(validatedRange).length === 0 && _ctx.controllerType === \"button\" ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass(unref(ns).e(\"button-group\"))\n      }, [createVNode(unref(ElButtonGroup), null, {\n        default: withCtx(() => [createVNode(unref(ElButton), {\n          size: \"small\",\n          onClick: _cache[0] || (_cache[0] = $event => unref(selectDate)(\"prev-month\"))\n        }, {\n          default: withCtx(() => [createTextVNode(toDisplayString(unref(t)(\"el.datepicker.prevMonth\")), 1)]),\n          _: 1\n        }), createVNode(unref(ElButton), {\n          size: \"small\",\n          onClick: _cache[1] || (_cache[1] = $event => unref(selectDate)(\"today\"))\n        }, {\n          default: withCtx(() => [createTextVNode(toDisplayString(unref(t)(\"el.datepicker.today\")), 1)]),\n          _: 1\n        }), createVNode(unref(ElButton), {\n          size: \"small\",\n          onClick: _cache[2] || (_cache[2] = $event => unref(selectDate)(\"next-month\"))\n        }, {\n          default: withCtx(() => [createTextVNode(toDisplayString(unref(t)(\"el.datepicker.nextMonth\")), 1)]),\n          _: 1\n        })]),\n        _: 1\n      })], 2)) : unref(validatedRange).length === 0 && _ctx.controllerType === \"select\" ? (openBlock(), createElementBlock(\"div\", {\n        key: 1,\n        class: normalizeClass(unref(ns).e(\"select-controller\"))\n      }, [createVNode(SelectController, {\n        date: unref(date),\n        formatter: _ctx.formatter,\n        onDateChange: unref(handleDateChange)\n      }, null, 8, [\"date\", \"formatter\", \"onDateChange\"])], 2)) : createCommentVNode(\"v-if\", true)])], 2), unref(validatedRange).length === 0 ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass(unref(ns).e(\"body\"))\n      }, [createVNode(DateTable, {\n        date: unref(date),\n        \"selected-day\": unref(realSelectedDay),\n        onPick: unref(pickDay)\n      }, createSlots({\n        _: 2\n      }, [_ctx.$slots[\"date-cell\"] ? {\n        name: \"date-cell\",\n        fn: withCtx(data => [renderSlot(_ctx.$slots, \"date-cell\", normalizeProps(guardReactiveProps(data)))]),\n        key: \"0\"\n      } : void 0]), 1032, [\"date\", \"selected-day\", \"onPick\"])], 2)) : (openBlock(), createElementBlock(\"div\", {\n        key: 1,\n        class: normalizeClass(unref(ns).e(\"body\"))\n      }, [(openBlock(true), createElementBlock(Fragment, null, renderList(unref(validatedRange), (range_, index) => {\n        return openBlock(), createBlock(DateTable, {\n          key: index,\n          date: range_[0],\n          \"selected-day\": unref(realSelectedDay),\n          range: range_,\n          \"hide-header\": index !== 0,\n          onPick: unref(pickDay)\n        }, createSlots({\n          _: 2\n        }, [_ctx.$slots[\"date-cell\"] ? {\n          name: \"date-cell\",\n          fn: withCtx(data => [renderSlot(_ctx.$slots, \"date-cell\", mergeProps({\n            ref_for: true\n          }, data))]),\n          key: \"0\"\n        } : void 0]), 1032, [\"date\", \"selected-day\", \"range\", \"hide-header\", \"onPick\"]);\n      }), 128))], 2))], 2);\n    };\n  }\n});\nvar Calendar = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue\"]]);\nexport { Calendar as default };","map":{"version":3,"names":["COMPONENT_NAME","ns","useNamespace","props","__props","emit","__emit","calculateValidatedDateRange","date","pickDay","realSelectedDay","selectDate","validatedRange","handleDateChange","useCalendar","t","useLocale","i18nDate","computed","pickedMonth","value","format","year","__expose","selectedDay","openBlock","createElementBlock","class","normalizeClass","unref","b","createElementVNode","e","renderSlot","_ctx","$slots","toDisplayString","length","controllerType","key","createVNode","ElButtonGroup","default","withCtx","ElButton","size","onClick","_cache","$event","createTextVNode","_","SelectController","formatter","onDateChange","DateTable","onPick","createSlots","name","fn","data","normalizeProps","guardReactiveProps","Fragment","renderList","range_","index","createBlock","range","mergeProps","ref_for"],"sources":["../../../../../../packages/components/calendar/src/calendar.vue"],"sourcesContent":["<template>\n  <div :class=\"ns.b()\">\n    <div :class=\"ns.e('header')\">\n      <slot name=\"header\" :date=\"i18nDate\">\n        <div :class=\"ns.e('title')\">{{ i18nDate }}</div>\n        <div\n          v-if=\"validatedRange.length === 0 && controllerType === 'button'\"\n          :class=\"ns.e('button-group')\"\n        >\n          <el-button-group>\n            <el-button size=\"small\" @click=\"selectDate('prev-month')\">\n              {{ t('el.datepicker.prevMonth') }}\n            </el-button>\n            <el-button size=\"small\" @click=\"selectDate('today')\">\n              {{ t('el.datepicker.today') }}\n            </el-button>\n            <el-button size=\"small\" @click=\"selectDate('next-month')\">\n              {{ t('el.datepicker.nextMonth') }}\n            </el-button>\n          </el-button-group>\n        </div>\n        <div\n          v-else-if=\"validatedRange.length === 0 && controllerType === 'select'\"\n          :class=\"ns.e('select-controller')\"\n        >\n          <select-controller\n            :date=\"date\"\n            :formatter=\"formatter\"\n            @date-change=\"handleDateChange\"\n          />\n        </div>\n      </slot>\n    </div>\n    <div v-if=\"validatedRange.length === 0\" :class=\"ns.e('body')\">\n      <date-table :date=\"date\" :selected-day=\"realSelectedDay\" @pick=\"pickDay\">\n        <template v-if=\"$slots['date-cell']\" #date-cell=\"data\">\n          <slot name=\"date-cell\" v-bind=\"data\" />\n        </template>\n      </date-table>\n    </div>\n    <div v-else :class=\"ns.e('body')\">\n      <date-table\n        v-for=\"(range_, index) in validatedRange\"\n        :key=\"index\"\n        :date=\"range_[0]\"\n        :selected-day=\"realSelectedDay\"\n        :range=\"range_\"\n        :hide-header=\"index !== 0\"\n        @pick=\"pickDay\"\n      >\n        <template v-if=\"$slots['date-cell']\" #date-cell=\"data\">\n          <slot name=\"date-cell\" v-bind=\"data\" />\n        </template>\n      </date-table>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { ElButton, ElButtonGroup } from '@element-plus/components/button'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport DateTable from './date-table.vue'\nimport { useCalendar } from './use-calendar'\nimport { calendarEmits, calendarProps } from './calendar'\nimport SelectController from './select-controller.vue'\n\nconst ns = useNamespace('calendar')\n\nconst COMPONENT_NAME = 'ElCalendar'\ndefineOptions({\n  name: COMPONENT_NAME,\n})\n\nconst props = defineProps(calendarProps)\nconst emit = defineEmits(calendarEmits)\n\nconst {\n  calculateValidatedDateRange,\n  date,\n  pickDay,\n  realSelectedDay,\n  selectDate,\n  validatedRange,\n  handleDateChange,\n} = useCalendar(props, emit, COMPONENT_NAME)\n\nconst { t } = useLocale()\n\nconst i18nDate = computed(() => {\n  const pickedMonth = `el.datepicker.month${date.value.format('M')}`\n  return `${date.value.year()} ${t('el.datepicker.year')} ${t(pickedMonth)}`\n})\n\ndefineExpose({\n  /** @description currently selected date */\n  selectedDay: realSelectedDay,\n  /** @description select a specific date */\n  pickDay,\n  /** @description select date */\n  selectDate,\n  /** @description Calculate the validate date range according to the start and end dates */\n  calculateValidatedDateRange,\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}