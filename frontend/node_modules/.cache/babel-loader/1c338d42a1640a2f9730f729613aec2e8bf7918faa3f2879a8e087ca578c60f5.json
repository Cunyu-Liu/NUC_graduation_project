{"ast":null,"code":"import normalizeWheel from 'normalize-wheel-es';\nconst SCOPE = \"_Mousewheel\";\nconst mousewheel = function (element, callback) {\n  if (element && element.addEventListener) {\n    removeWheelHandler(element);\n    const fn = function (event) {\n      const normalized = normalizeWheel(event);\n      callback && Reflect.apply(callback, this, [event, normalized]);\n    };\n    element[SCOPE] = {\n      wheelHandler: fn\n    };\n    element.addEventListener(\"wheel\", fn, {\n      passive: true\n    });\n  }\n};\nconst removeWheelHandler = element => {\n  var _a;\n  if ((_a = element[SCOPE]) == null ? void 0 : _a.wheelHandler) {\n    element.removeEventListener(\"wheel\", element[SCOPE].wheelHandler);\n    element[SCOPE] = null;\n  }\n};\nconst Mousewheel = {\n  beforeMount(el, binding) {\n    mousewheel(el, binding.value);\n  },\n  unmounted(el) {\n    removeWheelHandler(el);\n  },\n  updated(el, binding) {\n    if (binding.value !== binding.oldValue) {\n      mousewheel(el, binding.value);\n    }\n  }\n};\nexport { SCOPE, Mousewheel as default };","map":{"version":3,"names":["SCOPE","mousewheel","element","callback","addEventListener","removeWheelHandler","fn","event","normalized","normalizeWheel","Reflect","apply","wheelHandler","passive","_a","removeEventListener","Mousewheel","beforeMount","el","binding","value","unmounted","updated","oldValue"],"sources":["../../../../../packages/directives/mousewheel/index.ts"],"sourcesContent":["import normalizeWheel from 'normalize-wheel-es'\n\nimport type { ObjectDirective } from 'vue'\nimport type { NormalizedWheelEvent } from 'normalize-wheel-es'\n\nexport const SCOPE = '_Mousewheel'\n\nexport interface WheelElement extends HTMLElement {\n  [SCOPE]: null | {\n    wheelHandler?: (event: WheelEvent) => void\n  }\n}\n\nexport type MousewheelCallback = (\n  e: WheelEvent,\n  normalized: NormalizedWheelEvent\n) => void\n\nconst mousewheel = function (\n  element: WheelElement,\n  callback: MousewheelCallback\n) {\n  if (element && element.addEventListener) {\n    removeWheelHandler(element)\n\n    const fn = function (this: HTMLElement, event: WheelEvent) {\n      const normalized = normalizeWheel(event)\n      callback && Reflect.apply(callback, this, [event, normalized])\n    }\n\n    element[SCOPE] = { wheelHandler: fn }\n    element.addEventListener('wheel', fn, { passive: true })\n  }\n}\n\nconst removeWheelHandler = (element: WheelElement) => {\n  if (element[SCOPE]?.wheelHandler) {\n    element.removeEventListener('wheel', element[SCOPE].wheelHandler)\n    element[SCOPE] = null\n  }\n}\n\nconst Mousewheel: ObjectDirective<WheelElement, MousewheelCallback> = {\n  beforeMount(el, binding) {\n    mousewheel(el, binding.value)\n  },\n  unmounted(el) {\n    removeWheelHandler(el)\n  },\n  updated(el, binding) {\n    if (binding.value !== binding.oldValue) {\n      mousewheel(el, binding.value)\n    }\n  },\n}\n\nexport default Mousewheel\n"],"mappings":";AAKO,MAAMA,KAAQ;AAarB,MAAMC,UAAA,GAAa,SAAAA,CACjBC,OAAA,EACAC,QACA;EACI,IAAAD,OAAA,IAAWA,OAAA,CAAQE,gBAAkB;IACvCC,kBAAA,CAAmBH,OAAO;IAEpB,MAAAI,EAAA,GAAK,SAAAA,CAA6BC,KAAmB;MACnD,MAAAC,UAAA,GAAaC,cAAA,CAAeF,KAAK;MACvCJ,QAAA,IAAYO,OAAA,CAAQC,KAAM,CAAAR,QAAA,EAAU,MAAM,CAACI,KAAA,EAAOC,UAAU,CAAC;IAAA,CAC/D;IAEQN,OAAA,CAAAF,KAAA,IAAS;MAAEY,YAAA,EAAcN;IAAG;IACpCJ,OAAA,CAAQE,gBAAA,CAAiB,OAAS,EAAAE,EAAA,EAAI;MAAEO,OAAA,EAAS;IAAA,CAAM;EAAA;AAE3D;AAEA,MAAMR,kBAAA,GAAsBH,OAA0B;EAnCtD,IAAAY,EAAA;EAoCM,KAAAA,EAAA,GAAAZ,OAAA,CAAQF,KAAR,sBAAAc,EAAA,CAAgBF,YAAc;IAChCV,OAAA,CAAQa,mBAAoB,UAASb,OAAQ,CAAAF,KAAA,EAAOY,YAAY;IAChEV,OAAA,CAAQF,KAAS;EAAA;AAErB;AAEA,MAAMgB,UAAgE;EACpEC,YAAYC,EAAA,EAAIC,OAAS;IACZlB,UAAA,CAAAiB,EAAA,EAAIC,OAAA,CAAQC,KAAK;EAAA,CAC9B;EACAC,UAAUH,EAAI;IACZb,kBAAA,CAAmBa,EAAE;EAAA,CACvB;EACAI,QAAQJ,EAAA,EAAIC,OAAS;IACf,IAAAA,OAAA,CAAQC,KAAU,KAAAD,OAAA,CAAQI,QAAU;MAC3BtB,UAAA,CAAAiB,EAAA,EAAIC,OAAA,CAAQC,KAAK;IAAA;EAC9B;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}