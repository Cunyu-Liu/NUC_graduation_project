{"ast":null,"code":"import { ref, inject, computed, unref } from 'vue';\nimport { useGlobalSize } from '../../../../hooks/use-size/index.mjs';\nimport { useProp } from '../../../../hooks/use-prop/index.mjs';\nimport { formContextKey, formItemContextKey } from '../constants.mjs';\nconst useFormSize = (fallback, ignore = {}) => {\n  const emptyRef = ref(void 0);\n  const size = ignore.prop ? emptyRef : useProp(\"size\");\n  const globalConfig = ignore.global ? emptyRef : useGlobalSize();\n  const form = ignore.form ? {\n    size: void 0\n  } : inject(formContextKey, void 0);\n  const formItem = ignore.formItem ? {\n    size: void 0\n  } : inject(formItemContextKey, void 0);\n  return computed(() => size.value || unref(fallback) || (formItem == null ? void 0 : formItem.size) || (form == null ? void 0 : form.size) || globalConfig.value || \"\");\n};\nconst useFormDisabled = fallback => {\n  const disabled = useProp(\"disabled\");\n  const form = inject(formContextKey, void 0);\n  return computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = disabled.value) != null ? _a : unref(fallback)) != null ? _b : form == null ? void 0 : form.disabled) != null ? _c : false;\n  });\n};\nconst useSize = useFormSize;\nconst useDisabled = useFormDisabled;\nexport { useDisabled, useFormDisabled, useFormSize, useSize };","map":{"version":3,"names":["useFormSize","fallback","ignore","emptyRef","ref","size","prop","useProp","globalConfig","global","useGlobalSize","form","inject","formContextKey","formItem","formItemContextKey","computed","value","unref","useFormDisabled","disabled","_a","_b","_c","useSize","useDisabled"],"sources":["../../../../../../../packages/components/form/src/hooks/use-form-common-props.ts"],"sourcesContent":["import { computed, inject, ref, unref } from 'vue'\nimport { useGlobalSize } from '@element-plus/hooks/use-size'\nimport { useProp } from '@element-plus/hooks/use-prop'\nimport { formContextKey, formItemContextKey } from '../constants'\n\nimport type { ComponentSize } from '@element-plus/constants'\nimport type { MaybeRef } from '@vueuse/core'\n\nexport const useFormSize = (\n  fallback?: MaybeRef<ComponentSize | undefined>,\n  ignore: Partial<Record<'prop' | 'form' | 'formItem' | 'global', boolean>> = {}\n) => {\n  const emptyRef = ref(undefined)\n\n  const size = ignore.prop ? emptyRef : useProp<ComponentSize>('size')\n  const globalConfig = ignore.global ? emptyRef : useGlobalSize()\n  const form = ignore.form\n    ? { size: undefined }\n    : inject(formContextKey, undefined)\n  const formItem = ignore.formItem\n    ? { size: undefined }\n    : inject(formItemContextKey, undefined)\n\n  return computed(\n    (): ComponentSize =>\n      size.value ||\n      unref(fallback) ||\n      formItem?.size ||\n      form?.size ||\n      globalConfig.value ||\n      ''\n  )\n}\n\nexport const useFormDisabled = (fallback?: MaybeRef<boolean | undefined>) => {\n  const disabled = useProp<boolean>('disabled')\n  const form = inject(formContextKey, undefined)\n\n  return computed(() => {\n    return disabled.value ?? unref(fallback) ?? form?.disabled ?? false\n  })\n}\n\n// These exports are used for preventing breaking changes\nexport const useSize = useFormSize\nexport const useDisabled = useFormDisabled\n"],"mappings":";;;;AAQO,MAAMA,WAAc,GAAAA,CACzBC,QACA,EAAAC,MAAA,GAA4E,EACzE;EACG,MAAAC,QAAA,GAAWC,GAAA,CAAI,KAAS;EAE9B,MAAMC,IAAO,GAAAH,MAAA,CAAOI,IAAO,GAAAH,QAAA,GAAWI,OAAA,CAAuB,MAAM;EACnE,MAAMC,YAAe,GAAAN,MAAA,CAAOO,MAAS,GAAAN,QAAA,GAAWO,aAAc;EACxD,MAAAC,IAAA,GAAOT,MAAA,CAAOS,IAChB;IAAEN,IAAA,EAAM,KAAU;EAAA,IAClBO,MAAO,CAAAC,cAAA,EAAgB,KAAS;EAC9B,MAAAC,QAAA,GAAWZ,MAAA,CAAOY,QACpB;IAAET,IAAA,EAAM,KAAU;EAAA,IAClBO,MAAO,CAAAG,kBAAA,EAAoB,KAAS;EAEjC,OAAAC,QAAA,CACL,MACEX,IAAK,CAAAY,KAAA,IACLC,KAAM,CAAAjB,QAAQ,CACd,KAAAa,QAAA,oBAAAA,QAAA,CAAUT,IACV,MAAAM,IAAA,oBAAAA,IAAA,CAAMN,IACN,KAAAG,YAAA,CAAaS,KACb,OACJ;AACF;AAEa,MAAAE,eAAA,GAAmBlB,QAA6C;EACrE,MAAAmB,QAAA,GAAWb,OAAA,CAAiB,UAAU;EACtC,MAAAI,IAAA,GAAOC,MAAO,CAAAC,cAAA,EAAgB,KAAS;EAE7C,OAAOG,QAAA,CAAS,MAAM;IAtCxB,IAAAK,EAAA,EAAAC,EAAA,EAAAC,EAAA;IAuCW,QAAAA,EAAA,IAAAD,EAAA,IAAAD,EAAA,GAAAD,QAAA,CAASH,KAAA,KAAT,IAAkB,GAAAI,EAAA,GAAAH,KAAA,CAAMjB,QAAQ,CAAhC,YAAAqB,EAAA,GAAqCX,IAAM,oBAAAA,IAAA,CAAAS,QAAA,KAA3C,IAAuD,GAAAG,EAAA;EAAA,CAC/D;AACH;AAGO,MAAMC,OAAU,GAAAxB,WAAA;AAChB,MAAMyB,WAAc,GAAAN,eAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}