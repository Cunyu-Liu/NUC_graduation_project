{"ast":null,"code":"import { createVNode, renderSlot, mergeProps } from 'vue';\nimport { oppositeOrderMap, SortOrder, Alignment } from '../constants.mjs';\nimport { placeholderSign } from '../private.mjs';\nimport { enforceUnit, componentToSlot, tryCall } from '../utils.mjs';\nimport HeaderCell$1 from '../components/header-cell.mjs';\nimport SortIcon from '../components/sort-icon.mjs';\nconst HeaderCellRenderer = (props, {\n  slots\n}) => {\n  const {\n    column,\n    ns,\n    t,\n    style,\n    onColumnSorted\n  } = props;\n  const cellStyle = enforceUnit(style);\n  if (column.placeholderSign === placeholderSign) {\n    return createVNode(\"div\", {\n      \"class\": ns.em(\"header-row-cell\", \"placeholder\"),\n      \"style\": cellStyle\n    }, null);\n  }\n  const {\n    headerCellRenderer,\n    headerClass,\n    sortable\n  } = column;\n  const cellProps = {\n    ...props,\n    class: ns.e(\"header-cell-text\")\n  };\n  const columnCellRenderer = componentToSlot(headerCellRenderer);\n  const Cell = columnCellRenderer ? columnCellRenderer(cellProps) : renderSlot(slots, \"default\", cellProps, () => [createVNode(HeaderCell$1, cellProps, null)]);\n  const {\n    sortBy,\n    sortState,\n    headerCellProps\n  } = props;\n  let sorting, sortOrder, ariaSort;\n  if (sortState) {\n    const order = sortState[column.key];\n    sorting = Boolean(oppositeOrderMap[order]);\n    sortOrder = sorting ? order : SortOrder.ASC;\n  } else {\n    sorting = column.key === sortBy.key;\n    sortOrder = sorting ? sortBy.order : SortOrder.ASC;\n  }\n  if (sortOrder === SortOrder.ASC) {\n    ariaSort = \"ascending\";\n  } else if (sortOrder === SortOrder.DESC) {\n    ariaSort = \"descending\";\n  } else {\n    ariaSort = void 0;\n  }\n  const cellKls = [ns.e(\"header-cell\"), tryCall(headerClass, props, \"\"), column.align === Alignment.CENTER && ns.is(\"align-center\"), column.align === Alignment.RIGHT && ns.is(\"align-right\"), sortable && ns.is(\"sortable\")];\n  const cellWrapperProps = {\n    ...tryCall(headerCellProps, props),\n    onClick: column.sortable ? onColumnSorted : void 0,\n    ariaSort: sortable ? ariaSort : void 0,\n    class: cellKls,\n    style: cellStyle,\n    [\"data-key\"]: column.key\n  };\n  return createVNode(\"div\", mergeProps(cellWrapperProps, {\n    \"role\": \"columnheader\"\n  }), [Cell, sortable && createVNode(SortIcon, {\n    \"class\": [ns.e(\"sort-icon\"), sorting && ns.is(\"sorting\")],\n    \"sortOrder\": sortOrder,\n    \"ariaLabel\": t(\"el.table.sortLabel\", {\n      column: column.title || \"\"\n    })\n  }, null)]);\n};\nvar HeaderCell = HeaderCellRenderer;\nexport { HeaderCell as default };","map":{"version":3,"names":["HeaderCellRenderer","props","slots","column","ns","t","style","onColumnSorted","cellStyle","enforceUnit","placeholderSign","createVNode","em","headerCellRenderer","headerClass","sortable","cellProps","class","e","columnCellRenderer","componentToSlot","Cell","renderSlot","HeaderCell$1","sortBy","sortState","headerCellProps","sorting","sortOrder","ariaSort","order","key","Boolean","oppositeOrderMap","SortOrder","ASC","DESC","cellKls","tryCall","align","Alignment","CENTER","is","RIGHT","cellWrapperProps","onClick","mergeProps","SortIcon","title","HeaderCell"],"sources":["../../../../../../../packages/components/table-v2/src/renderers/header-cell.tsx"],"sourcesContent":["import { renderSlot } from 'vue'\nimport { HeaderCell, SortIcon } from '../components'\n// import ColumnResizer from '../table-column-resizer'\nimport { Alignment, SortOrder, oppositeOrderMap } from '../constants'\nimport { placeholderSign } from '../private'\nimport { componentToSlot, enforceUnit, tryCall } from '../utils'\n\nimport type { FunctionalComponent, UnwrapNestedRefs } from 'vue'\nimport type { Translator, UseNamespaceReturn } from '@element-plus/hooks'\nimport type { TableV2HeaderRowCellRendererParams } from '../components'\nimport type { UseTableReturn } from '../use-table'\nimport type { TableV2Props } from '../table'\n\nexport type HeaderCellRendererProps = TableV2HeaderRowCellRendererParams &\n  UnwrapNestedRefs<Pick<UseTableReturn, 'onColumnSorted'>> &\n  Pick<TableV2Props, 'sortBy' | 'sortState' | 'headerCellProps'> & {\n    ns: UseNamespaceReturn\n    t: Translator\n  }\n\nconst HeaderCellRenderer: FunctionalComponent<HeaderCellRendererProps> = (\n  props,\n  { slots }\n) => {\n  const { column, ns, t, style, onColumnSorted } = props\n\n  const cellStyle = enforceUnit(style)\n\n  if (column.placeholderSign === placeholderSign) {\n    return (\n      <div class={ns.em('header-row-cell', 'placeholder')} style={cellStyle} />\n    )\n  }\n\n  const { headerCellRenderer, headerClass, sortable } = column\n\n  /**\n   * render Cell children\n   */\n\n  const cellProps = {\n    ...props,\n    class: ns.e('header-cell-text'),\n  }\n\n  const columnCellRenderer =\n    componentToSlot<typeof cellProps>(headerCellRenderer)\n\n  const Cell = columnCellRenderer\n    ? columnCellRenderer(cellProps)\n    : renderSlot(slots, 'default', cellProps, () => [\n        <HeaderCell {...cellProps} />,\n      ])\n\n  /**\n   * Render cell container and sort indicator\n   */\n  const { sortBy, sortState, headerCellProps } = props\n\n  let sorting: boolean, sortOrder: SortOrder, ariaSort: string | undefined\n  if (sortState) {\n    const order = sortState[column.key!]\n    sorting = Boolean(oppositeOrderMap[order])\n    sortOrder = sorting ? order : SortOrder.ASC\n  } else {\n    sorting = column.key === sortBy.key\n    sortOrder = sorting ? sortBy.order : SortOrder.ASC\n  }\n  if (sortOrder === SortOrder.ASC) {\n    ariaSort = 'ascending'\n  } else if (sortOrder === SortOrder.DESC) {\n    ariaSort = 'descending'\n  } else {\n    ariaSort = undefined\n  }\n\n  const cellKls = [\n    ns.e('header-cell'),\n    tryCall(headerClass, props, ''),\n    column.align === Alignment.CENTER && ns.is('align-center'),\n    column.align === Alignment.RIGHT && ns.is('align-right'),\n    sortable && ns.is('sortable'),\n  ]\n\n  const cellWrapperProps = {\n    ...tryCall(headerCellProps, props),\n    onClick: column.sortable ? onColumnSorted : undefined,\n    ariaSort: sortable ? ariaSort : undefined,\n    class: cellKls,\n    style: cellStyle,\n    ['data-key']: column.key,\n  }\n\n  // For now we don't deliver resizable column feature since it has some UX issue.\n  return (\n    <div {...cellWrapperProps} role=\"columnheader\">\n      {Cell}\n\n      {sortable && (\n        <SortIcon\n          class={[ns.e('sort-icon'), sorting && ns.is('sorting')]}\n          sortOrder={sortOrder}\n          ariaLabel={t('el.table.sortLabel', { column: column.title || '' })}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default HeaderCellRenderer\nexport type HeaderCellSlotProps = HeaderCellRendererProps & { class: string }\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}