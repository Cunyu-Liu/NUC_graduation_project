{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"profile\"\n};\nconst _hoisted_2 = {\n  class: \"card-header\"\n};\nconst _hoisted_3 = {\n  class: \"stat-content\"\n};\nconst _hoisted_4 = {\n  class: \"stat-details\"\n};\nconst _hoisted_5 = {\n  class: \"stat-number\"\n};\nconst _hoisted_6 = {\n  class: \"stat-content\"\n};\nconst _hoisted_7 = {\n  class: \"stat-details\"\n};\nconst _hoisted_8 = {\n  class: \"stat-number\"\n};\nconst _hoisted_9 = {\n  class: \"stat-content\"\n};\nconst _hoisted_10 = {\n  class: \"stat-details\"\n};\nconst _hoisted_11 = {\n  class: \"stat-number\"\n};\nimport { ref, reactive, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport api from '@/api';\nimport { ElMessage } from 'element-plus';\nimport { Document, DataAnalysis, Star } from '@element-plus/icons-vue';\nexport default {\n  __name: 'Profile',\n  setup(__props) {\n    const store = useStore();\n    const activeTab = ref('basic');\n    const editMode = ref(false);\n    const saving = ref(false);\n    const changingPassword = ref(false);\n\n    // 用户信息\n    const userInfo = computed(() => store.state.user || {});\n\n    // 编辑表单\n    const editFormRef = ref(null);\n    const editForm = reactive({\n      username: '',\n      full_name: '',\n      email: '',\n      organization: '',\n      research_interests: '',\n      bio: ''\n    });\n    const rules = {\n      full_name: [{\n        required: true,\n        message: '请输入姓名',\n        trigger: 'blur'\n      }],\n      email: [{\n        required: true,\n        message: '请输入邮箱',\n        trigger: 'blur'\n      }, {\n        type: 'email',\n        message: '请输入正确的邮箱格式',\n        trigger: 'blur'\n      }]\n    };\n\n    // 密码表单\n    const passwordFormRef = ref(null);\n    const passwordForm = reactive({\n      old_password: '',\n      new_password: '',\n      confirm_password: ''\n    });\n    const validateConfirmPassword = (rule, value, callback) => {\n      if (value !== passwordForm.new_password) {\n        callback(new Error('两次输入的密码不一致'));\n      } else {\n        callback();\n      }\n    };\n    const passwordRules = {\n      old_password: [{\n        required: true,\n        message: '请输入当前密码',\n        trigger: 'blur'\n      }],\n      new_password: [{\n        required: true,\n        message: '请输入新密码',\n        trigger: 'blur'\n      }, {\n        min: 6,\n        message: '密码长度至少为6位',\n        trigger: 'blur'\n      }],\n      confirm_password: [{\n        required: true,\n        message: '请再次输入新密码',\n        trigger: 'blur'\n      }, {\n        validator: validateConfirmPassword,\n        trigger: 'blur'\n      }]\n    };\n\n    // 统计信息\n    const stats = ref({\n      total_papers: 0,\n      total_analyses: 0,\n      total_gaps: 0\n    });\n    const recentActivities = ref([]);\n\n    // 方法\n    const formatDate = dateString => {\n      if (!dateString) return '未知';\n      const date = new Date(dateString);\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    const loadUserProfile = async () => {\n      try {\n        const response = await api.getCurrentUser();\n        if (response.success) {\n          Object.assign(editForm, response.data);\n          store.commit('SET_USER', response.data);\n        }\n      } catch (error) {\n        console.error('加载用户信息失败:', error);\n        ElMessage.error('加载用户信息失败');\n      }\n    };\n    const saveProfile = async () => {\n      try {\n        await editFormRef.value.validate();\n        saving.value = true;\n        const response = await api.updateUser(editForm);\n        if (response.success) {\n          ElMessage.success('个人信息更新成功');\n          editMode.value = false;\n          store.commit('SET_USER', response.data);\n        } else {\n          ElMessage.error(response.error || '更新失败');\n        }\n      } catch (error) {\n        if (error !== false) {\n          // 表单验证错误时会返回false\n          console.error('保存失败:', error);\n          ElMessage.error('保存失败: ' + (error.message || '未知错误'));\n        }\n      } finally {\n        saving.value = false;\n      }\n    };\n    const cancelEdit = () => {\n      editMode.value = false;\n      // 重置表单为当前用户信息\n      Object.assign(editForm, userInfo.value);\n    };\n    const changePassword = async () => {\n      try {\n        await passwordFormRef.value.validate();\n        changingPassword.value = true;\n        const response = await api.changePassword({\n          old_password: passwordForm.old_password,\n          new_password: passwordForm.new_password\n        });\n        if (response.success) {\n          ElMessage.success('密码修改成功，请重新登录');\n          resetPasswordForm();\n          // 延迟退出登录，让用户看到成功提示\n          setTimeout(() => {\n            store.dispatch('logout');\n          }, 1500);\n        } else {\n          ElMessage.error(response.error || '密码修改失败');\n        }\n      } catch (error) {\n        if (error !== false) {\n          console.error('修改密码失败:', error);\n          ElMessage.error('修改密码失败: ' + (error.message || '未知错误'));\n        }\n      } finally {\n        changingPassword.value = false;\n      }\n    };\n    const resetPasswordForm = () => {\n      passwordFormRef.value?.resetFields();\n    };\n    const loadStatistics = async () => {\n      try {\n        const response = await api.getStatistics();\n        if (response.success) {\n          stats.value = response.data.user_stats || {\n            total_papers: 0,\n            total_analyses: 0,\n            total_gaps: 0\n          };\n        }\n      } catch (error) {\n        console.error('加载统计信息失败:', error);\n      }\n    };\n\n    // 生命周期\n    onMounted(() => {\n      // 初始化编辑表单\n      Object.assign(editForm, userInfo.value);\n      loadUserProfile();\n      loadStatistics();\n    });\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_input = _resolveComponent(\"el-input\");\n      const _component_el_form_item = _resolveComponent(\"el-form-item\");\n      const _component_el_form = _resolveComponent(\"el-form\");\n      const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n      const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n      const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n      const _component_el_icon = _resolveComponent(\"el-icon\");\n      const _component_el_card = _resolveComponent(\"el-card\");\n      const _component_el_col = _resolveComponent(\"el-col\");\n      const _component_el_row = _resolveComponent(\"el-row\");\n      const _component_el_timeline_item = _resolveComponent(\"el-timeline-item\");\n      const _component_el_timeline = _resolveComponent(\"el-timeline\");\n      const _component_el_tabs = _resolveComponent(\"el-tabs\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n        class: \"profile-card\"\n      }, {\n        header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", null, \"个人信息\", -1)), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: _cache[0] || (_cache[0] = $event => editMode.value = !editMode.value)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(editMode.value ? '取消编辑' : '编辑资料'), 1)]),\n          _: 1\n        })])]),\n        default: _withCtx(() => [_createVNode(_component_el_tabs, {\n          modelValue: activeTab.value,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => activeTab.value = $event)\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_tab_pane, {\n            label: \"基本信息\",\n            name: \"basic\"\n          }, {\n            default: _withCtx(() => [editMode.value ? (_openBlock(), _createBlock(_component_el_form, {\n              key: 0,\n              model: editForm,\n              rules: rules,\n              ref_key: \"editFormRef\",\n              ref: editFormRef,\n              \"label-width\": \"120px\",\n              class: \"profile-form\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_form_item, {\n                label: \"用户名\",\n                prop: \"username\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: editForm.username,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => editForm.username = $event),\n                  disabled: \"\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"姓名\",\n                prop: \"full_name\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: editForm.full_name,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => editForm.full_name = $event),\n                  placeholder: \"请输入真实姓名\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"邮箱\",\n                prop: \"email\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: editForm.email,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => editForm.email = $event),\n                  type: \"email\",\n                  placeholder: \"请输入邮箱地址\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"单位\",\n                prop: \"organization\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: editForm.organization,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => editForm.organization = $event),\n                  placeholder: \"请输入所在单位\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"研究方向\",\n                prop: \"research_interests\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: editForm.research_interests,\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => editForm.research_interests = $event),\n                  type: \"textarea\",\n                  rows: 3,\n                  placeholder: \"请输入您的研究方向和兴趣\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"个人简介\",\n                prop: \"bio\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: editForm.bio,\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => editForm.bio = $event),\n                  type: \"textarea\",\n                  rows: 4,\n                  placeholder: \"请输入个人简介\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, null, {\n                default: _withCtx(() => [_createVNode(_component_el_button, {\n                  type: \"primary\",\n                  onClick: saveProfile,\n                  loading: saving.value\n                }, {\n                  default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\" 保存 \", -1)]))]),\n                  _: 1\n                }, 8, [\"loading\"]), _createVNode(_component_el_button, {\n                  onClick: cancelEdit\n                }, {\n                  default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\"取消\", -1)]))]),\n                  _: 1\n                })]),\n                _: 1\n              })]),\n              _: 1\n            }, 8, [\"model\"])) : (_openBlock(), _createBlock(_component_el_descriptions, {\n              key: 1,\n              column: 2,\n              border: \"\",\n              class: \"profile-info\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_descriptions_item, {\n                label: \"用户名\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(userInfo.value.username), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"姓名\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(userInfo.value.full_name || '未填写'), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"邮箱\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(userInfo.value.email || '未填写'), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"单位\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(userInfo.value.organization || '未填写'), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"研究方向\",\n                span: 2\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(userInfo.value.research_interests || '未填写'), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"个人简介\",\n                span: 2\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(userInfo.value.bio || '未填写'), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"注册时间\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(formatDate(userInfo.value.created_at)), 1)]),\n                _: 1\n              }), _createVNode(_component_el_descriptions_item, {\n                label: \"最后登录\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(formatDate(userInfo.value.last_login)), 1)]),\n                _: 1\n              })]),\n              _: 1\n            }))]),\n            _: 1\n          }), _createVNode(_component_el_tab_pane, {\n            label: \"修改密码\",\n            name: \"password\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_form, {\n              model: passwordForm,\n              rules: passwordRules,\n              ref_key: \"passwordFormRef\",\n              ref: passwordFormRef,\n              \"label-width\": \"120px\",\n              class: \"password-form\",\n              style: {\n                \"max-width\": \"600px\"\n              }\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_form_item, {\n                label: \"当前密码\",\n                prop: \"old_password\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: passwordForm.old_password,\n                  \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => passwordForm.old_password = $event),\n                  type: \"password\",\n                  placeholder: \"请输入当前密码\",\n                  \"show-password\": \"\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"新密码\",\n                prop: \"new_password\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: passwordForm.new_password,\n                  \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => passwordForm.new_password = $event),\n                  type: \"password\",\n                  placeholder: \"请输入新密码（至少6位）\",\n                  \"show-password\": \"\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, {\n                label: \"确认密码\",\n                prop: \"confirm_password\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_input, {\n                  modelValue: passwordForm.confirm_password,\n                  \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => passwordForm.confirm_password = $event),\n                  type: \"password\",\n                  placeholder: \"请再次输入新密码\",\n                  \"show-password\": \"\"\n                }, null, 8, [\"modelValue\"])]),\n                _: 1\n              }), _createVNode(_component_el_form_item, null, {\n                default: _withCtx(() => [_createVNode(_component_el_button, {\n                  type: \"primary\",\n                  onClick: changePassword,\n                  loading: changingPassword.value\n                }, {\n                  default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createTextVNode(\" 修改密码 \", -1)]))]),\n                  _: 1\n                }, 8, [\"loading\"]), _createVNode(_component_el_button, {\n                  onClick: resetPasswordForm\n                }, {\n                  default: _withCtx(() => [...(_cache[15] || (_cache[15] = [_createTextVNode(\"重置\", -1)]))]),\n                  _: 1\n                })]),\n                _: 1\n              })]),\n              _: 1\n            }, 8, [\"model\"])]),\n            _: 1\n          }), _createVNode(_component_el_tab_pane, {\n            label: \"统计信息\",\n            name: \"stats\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_row, {\n              gutter: 20,\n              class: \"stats-row\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_el_col, {\n                span: 8\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_card, {\n                  class: \"stat-card\"\n                }, {\n                  default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_icon, {\n                    class: \"stat-icon\",\n                    color: \"#409eff\",\n                    size: 40\n                  }, {\n                    default: _withCtx(() => [_createVNode(_unref(Document))]),\n                    _: 1\n                  }), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(stats.value.total_papers), 1), _cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n                    class: \"stat-label\"\n                  }, \"上传论文\", -1))])])]),\n                  _: 1\n                })]),\n                _: 1\n              }), _createVNode(_component_el_col, {\n                span: 8\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_card, {\n                  class: \"stat-card\"\n                }, {\n                  default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_icon, {\n                    class: \"stat-icon\",\n                    color: \"#67c23a\",\n                    size: 40\n                  }, {\n                    default: _withCtx(() => [_createVNode(_unref(DataAnalysis))]),\n                    _: 1\n                  }), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, _toDisplayString(stats.value.total_analyses), 1), _cache[17] || (_cache[17] = _createElementVNode(\"div\", {\n                    class: \"stat-label\"\n                  }, \"分析次数\", -1))])])]),\n                  _: 1\n                })]),\n                _: 1\n              }), _createVNode(_component_el_col, {\n                span: 8\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_card, {\n                  class: \"stat-card\"\n                }, {\n                  default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_icon, {\n                    class: \"stat-icon\",\n                    color: \"#e6a23c\",\n                    size: 40\n                  }, {\n                    default: _withCtx(() => [_createVNode(_unref(Star))]),\n                    _: 1\n                  }), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, _toDisplayString(stats.value.total_gaps), 1), _cache[18] || (_cache[18] = _createElementVNode(\"div\", {\n                    class: \"stat-label\"\n                  }, \"发现空白\", -1))])])]),\n                  _: 1\n                })]),\n                _: 1\n              })]),\n              _: 1\n            }), _createVNode(_component_el_card, {\n              class: \"recent-activity\",\n              style: {\n                \"margin-top\": \"20px\"\n              }\n            }, {\n              header: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createElementVNode(\"h3\", null, \"最近活动\", -1)]))]),\n              default: _withCtx(() => [_createVNode(_component_el_timeline, null, {\n                default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(recentActivities.value, (activity, index) => {\n                  return _openBlock(), _createBlock(_component_el_timeline_item, {\n                    key: index,\n                    timestamp: activity.timestamp,\n                    color: activity.color\n                  }, {\n                    default: _withCtx(() => [_createTextVNode(_toDisplayString(activity.description), 1)]),\n                    _: 2\n                  }, 1032, [\"timestamp\", \"color\"]);\n                }), 128)), recentActivities.value.length === 0 ? (_openBlock(), _createBlock(_component_el_timeline_item, {\n                  key: 0,\n                  timestamp: \"暂无数据\"\n                }, {\n                  default: _withCtx(() => [...(_cache[20] || (_cache[20] = [_createTextVNode(\" 暂无活动记录 \", -1)]))]),\n                  _: 1\n                })) : _createCommentVNode(\"\", true)]),\n                _: 1\n              })]),\n              _: 1\n            })]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"modelValue\"])]),\n        _: 1\n      })]);\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","useStore","api","ElMessage","Document","DataAnalysis","Star","store","activeTab","editMode","saving","changingPassword","userInfo","state","user","editFormRef","editForm","username","full_name","email","organization","research_interests","bio","rules","required","message","trigger","type","passwordFormRef","passwordForm","old_password","new_password","confirm_password","validateConfirmPassword","rule","value","callback","Error","passwordRules","min","validator","stats","total_papers","total_analyses","total_gaps","recentActivities","formatDate","dateString","date","Date","toLocaleString","year","month","day","hour","minute","loadUserProfile","response","getCurrentUser","success","Object","assign","data","commit","error","console","saveProfile","validate","updateUser","cancelEdit","changePassword","resetPasswordForm","setTimeout","dispatch","resetFields","loadStatistics","getStatistics","user_stats","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","class","header","_withCtx","_createElementVNode","_hoisted_2","_component_el_button","onClick","_cache","$event","_component_el_tabs","_component_el_tab_pane","label","name","_createBlock","_component_el_form","model","_component_el_form_item","prop","_component_el_input","disabled","placeholder","rows","loading","_component_el_descriptions","column","border","_component_el_descriptions_item","span","created_at","last_login","style","_component_el_row","gutter","_component_el_col","_hoisted_3","_component_el_icon","color","size","_unref","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_timeline","_Fragment","_renderList","activity","index","_component_el_timeline_item","key","timestamp","description","length"],"sources":["/Users/liucunyu/Documents/all_code/NUC_graduation_project/frontend/src/views/Profile.vue"],"sourcesContent":["<template>\n  <div class=\"profile\">\n    <el-card class=\"profile-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <h2>个人信息</h2>\n          <el-button type=\"primary\" @click=\"editMode = !editMode\">\n            {{ editMode ? '取消编辑' : '编辑资料' }}\n          </el-button>\n        </div>\n      </template>\n\n      <el-tabs v-model=\"activeTab\">\n        <!-- 基本信息 -->\n        <el-tab-pane label=\"基本信息\" name=\"basic\">\n          <el-form\n            v-if=\"editMode\"\n            :model=\"editForm\"\n            :rules=\"rules\"\n            ref=\"editFormRef\"\n            label-width=\"120px\"\n            class=\"profile-form\"\n          >\n            <el-form-item label=\"用户名\" prop=\"username\">\n              <el-input v-model=\"editForm.username\" disabled />\n            </el-form-item>\n\n            <el-form-item label=\"姓名\" prop=\"full_name\">\n              <el-input v-model=\"editForm.full_name\" placeholder=\"请输入真实姓名\" />\n            </el-form-item>\n\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"editForm.email\" type=\"email\" placeholder=\"请输入邮箱地址\" />\n            </el-form-item>\n\n            <el-form-item label=\"单位\" prop=\"organization\">\n              <el-input v-model=\"editForm.organization\" placeholder=\"请输入所在单位\" />\n            </el-form-item>\n\n            <el-form-item label=\"研究方向\" prop=\"research_interests\">\n              <el-input\n                v-model=\"editForm.research_interests\"\n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"请输入您的研究方向和兴趣\"\n              />\n            </el-form-item>\n\n            <el-form-item label=\"个人简介\" prop=\"bio\">\n              <el-input\n                v-model=\"editForm.bio\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"请输入个人简介\"\n              />\n            </el-form-item>\n\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"saveProfile\" :loading=\"saving\">\n                保存\n              </el-button>\n              <el-button @click=\"cancelEdit\">取消</el-button>\n            </el-form-item>\n          </el-form>\n\n          <el-descriptions v-else :column=\"2\" border class=\"profile-info\">\n            <el-descriptions-item label=\"用户名\">\n              {{ userInfo.username }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"姓名\">\n              {{ userInfo.full_name || '未填写' }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"邮箱\">\n              {{ userInfo.email || '未填写' }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"单位\">\n              {{ userInfo.organization || '未填写' }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"研究方向\" :span=\"2\">\n              {{ userInfo.research_interests || '未填写' }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"个人简介\" :span=\"2\">\n              {{ userInfo.bio || '未填写' }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"注册时间\">\n              {{ formatDate(userInfo.created_at) }}\n            </el-descriptions-item>\n            <el-descriptions-item label=\"最后登录\">\n              {{ formatDate(userInfo.last_login) }}\n            </el-descriptions-item>\n          </el-descriptions>\n        </el-tab-pane>\n\n        <!-- 修改密码 -->\n        <el-tab-pane label=\"修改密码\" name=\"password\">\n          <el-form\n            :model=\"passwordForm\"\n            :rules=\"passwordRules\"\n            ref=\"passwordFormRef\"\n            label-width=\"120px\"\n            class=\"password-form\"\n            style=\"max-width: 600px\"\n          >\n            <el-form-item label=\"当前密码\" prop=\"old_password\">\n              <el-input\n                v-model=\"passwordForm.old_password\"\n                type=\"password\"\n                placeholder=\"请输入当前密码\"\n                show-password\n              />\n            </el-form-item>\n\n            <el-form-item label=\"新密码\" prop=\"new_password\">\n              <el-input\n                v-model=\"passwordForm.new_password\"\n                type=\"password\"\n                placeholder=\"请输入新密码（至少6位）\"\n                show-password\n              />\n            </el-form-item>\n\n            <el-form-item label=\"确认密码\" prop=\"confirm_password\">\n              <el-input\n                v-model=\"passwordForm.confirm_password\"\n                type=\"password\"\n                placeholder=\"请再次输入新密码\"\n                show-password\n              />\n            </el-form-item>\n\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"changePassword\" :loading=\"changingPassword\">\n                修改密码\n              </el-button>\n              <el-button @click=\"resetPasswordForm\">重置</el-button>\n            </el-form-item>\n          </el-form>\n        </el-tab-pane>\n\n        <!-- 统计信息 -->\n        <el-tab-pane label=\"统计信息\" name=\"stats\">\n          <el-row :gutter=\"20\" class=\"stats-row\">\n            <el-col :span=\"8\">\n              <el-card class=\"stat-card\">\n                <div class=\"stat-content\">\n                  <el-icon class=\"stat-icon\" color=\"#409eff\" :size=\"40\"><Document /></el-icon>\n                  <div class=\"stat-details\">\n                    <div class=\"stat-number\">{{ stats.total_papers }}</div>\n                    <div class=\"stat-label\">上传论文</div>\n                  </div>\n                </div>\n              </el-card>\n            </el-col>\n\n            <el-col :span=\"8\">\n              <el-card class=\"stat-card\">\n                <div class=\"stat-content\">\n                  <el-icon class=\"stat-icon\" color=\"#67c23a\" :size=\"40\"><DataAnalysis /></el-icon>\n                  <div class=\"stat-details\">\n                    <div class=\"stat-number\">{{ stats.total_analyses }}</div>\n                    <div class=\"stat-label\">分析次数</div>\n                  </div>\n                </div>\n              </el-card>\n            </el-col>\n\n            <el-col :span=\"8\">\n              <el-card class=\"stat-card\">\n                <div class=\"stat-content\">\n                  <el-icon class=\"stat-icon\" color=\"#e6a23c\" :size=\"40\"><Star /></el-icon>\n                  <div class=\"stat-details\">\n                    <div class=\"stat-number\">{{ stats.total_gaps }}</div>\n                    <div class=\"stat-label\">发现空白</div>\n                  </div>\n                </div>\n              </el-card>\n            </el-col>\n          </el-row>\n\n          <el-card class=\"recent-activity\" style=\"margin-top: 20px\">\n            <template #header>\n              <h3>最近活动</h3>\n            </template>\n            <el-timeline>\n              <el-timeline-item\n                v-for=\"(activity, index) in recentActivities\"\n                :key=\"index\"\n                :timestamp=\"activity.timestamp\"\n                :color=\"activity.color\"\n              >\n                {{ activity.description }}\n              </el-timeline-item>\n              <el-timeline-item v-if=\"recentActivities.length === 0\" timestamp=\"暂无数据\">\n                暂无活动记录\n              </el-timeline-item>\n            </el-timeline>\n          </el-card>\n        </el-tab-pane>\n      </el-tabs>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport api from '@/api'\nimport { ElMessage } from 'element-plus'\nimport { Document, DataAnalysis, Star } from '@element-plus/icons-vue'\n\nconst store = useStore()\nconst activeTab = ref('basic')\nconst editMode = ref(false)\nconst saving = ref(false)\nconst changingPassword = ref(false)\n\n// 用户信息\nconst userInfo = computed(() => store.state.user || {})\n\n// 编辑表单\nconst editFormRef = ref(null)\nconst editForm = reactive({\n  username: '',\n  full_name: '',\n  email: '',\n  organization: '',\n  research_interests: '',\n  bio: ''\n})\n\nconst rules = {\n  full_name: [\n    { required: true, message: '请输入姓名', trigger: 'blur' }\n  ],\n  email: [\n    { required: true, message: '请输入邮箱', trigger: 'blur' },\n    { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n  ]\n}\n\n// 密码表单\nconst passwordFormRef = ref(null)\nconst passwordForm = reactive({\n  old_password: '',\n  new_password: '',\n  confirm_password: ''\n})\n\nconst validateConfirmPassword = (rule, value, callback) => {\n  if (value !== passwordForm.new_password) {\n    callback(new Error('两次输入的密码不一致'))\n  } else {\n    callback()\n  }\n}\n\nconst passwordRules = {\n  old_password: [\n    { required: true, message: '请输入当前密码', trigger: 'blur' }\n  ],\n  new_password: [\n    { required: true, message: '请输入新密码', trigger: 'blur' },\n    { min: 6, message: '密码长度至少为6位', trigger: 'blur' }\n  ],\n  confirm_password: [\n    { required: true, message: '请再次输入新密码', trigger: 'blur' },\n    { validator: validateConfirmPassword, trigger: 'blur' }\n  ]\n}\n\n// 统计信息\nconst stats = ref({\n  total_papers: 0,\n  total_analyses: 0,\n  total_gaps: 0\n})\n\nconst recentActivities = ref([])\n\n// 方法\nconst formatDate = (dateString) => {\n  if (!dateString) return '未知'\n  const date = new Date(dateString)\n  return date.toLocaleString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst loadUserProfile = async () => {\n  try {\n    const response = await api.getCurrentUser()\n    if (response.success) {\n      Object.assign(editForm, response.data)\n      store.commit('SET_USER', response.data)\n    }\n  } catch (error) {\n    console.error('加载用户信息失败:', error)\n    ElMessage.error('加载用户信息失败')\n  }\n}\n\nconst saveProfile = async () => {\n  try {\n    await editFormRef.value.validate()\n    saving.value = true\n\n    const response = await api.updateUser(editForm)\n\n    if (response.success) {\n      ElMessage.success('个人信息更新成功')\n      editMode.value = false\n      store.commit('SET_USER', response.data)\n    } else {\n      ElMessage.error(response.error || '更新失败')\n    }\n  } catch (error) {\n    if (error !== false) { // 表单验证错误时会返回false\n      console.error('保存失败:', error)\n      ElMessage.error('保存失败: ' + (error.message || '未知错误'))\n    }\n  } finally {\n    saving.value = false\n  }\n}\n\nconst cancelEdit = () => {\n  editMode.value = false\n  // 重置表单为当前用户信息\n  Object.assign(editForm, userInfo.value)\n}\n\nconst changePassword = async () => {\n  try {\n    await passwordFormRef.value.validate()\n    changingPassword.value = true\n\n    const response = await api.changePassword({\n      old_password: passwordForm.old_password,\n      new_password: passwordForm.new_password\n    })\n\n    if (response.success) {\n      ElMessage.success('密码修改成功，请重新登录')\n      resetPasswordForm()\n      // 延迟退出登录，让用户看到成功提示\n      setTimeout(() => {\n        store.dispatch('logout')\n      }, 1500)\n    } else {\n      ElMessage.error(response.error || '密码修改失败')\n    }\n  } catch (error) {\n    if (error !== false) {\n      console.error('修改密码失败:', error)\n      ElMessage.error('修改密码失败: ' + (error.message || '未知错误'))\n    }\n  } finally {\n    changingPassword.value = false\n  }\n}\n\nconst resetPasswordForm = () => {\n  passwordFormRef.value?.resetFields()\n}\n\nconst loadStatistics = async () => {\n  try {\n    const response = await api.getStatistics()\n    if (response.success) {\n      stats.value = response.data.user_stats || {\n        total_papers: 0,\n        total_analyses: 0,\n        total_gaps: 0\n      }\n    }\n  } catch (error) {\n    console.error('加载统计信息失败:', error)\n  }\n}\n\n// 生命周期\nonMounted(() => {\n  // 初始化编辑表单\n  Object.assign(editForm, userInfo.value)\n  loadUserProfile()\n  loadStatistics()\n})\n</script>\n\n<style scoped>\n.profile {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.profile-card {\n  min-height: 600px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.card-header h2 {\n  margin: 0;\n  color: #303133;\n}\n\n.profile-form,\n.password-form {\n  padding: 20px;\n  max-width: 800px;\n}\n\n.profile-info {\n  padding: 20px;\n}\n\n.stats-row {\n  margin-bottom: 20px;\n}\n\n.stat-card {\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.stat-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n.stat-content {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  padding: 20px;\n}\n\n.stat-icon {\n  flex-shrink: 0;\n}\n\n.stat-details {\n  flex: 1;\n}\n\n.stat-number {\n  font-size: 32px;\n  font-weight: bold;\n  color: #303133;\n  margin-bottom: 8px;\n}\n\n.stat-label {\n  font-size: 14px;\n  color: #909399;\n}\n\n.recent-activity h3 {\n  margin: 0;\n  color: #303133;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}