{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"files\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-stats\"\n};\nconst _hoisted_4 = {\n  class: \"batch-actions\"\n};\nconst _hoisted_5 = {\n  class: \"batch-info\"\n};\nconst _hoisted_6 = {\n  class: \"batch-buttons\"\n};\nconst _hoisted_7 = {\n  class: \"table-toolbar\"\n};\nconst _hoisted_8 = {\n  class: \"toolbar-left\"\n};\nconst _hoisted_9 = {\n  class: \"toolbar-right\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  key: 1\n};\nconst _hoisted_12 = {\n  class: \"table-cell-text\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_button_group = _resolveComponent(\"el-button-group\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", null, \"论文管理\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_tag, null, {\n    default: _withCtx(() => [_createTextVNode(\"总计: \" + _toDisplayString($setup.files.length) + \" 篇\", 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }), $setup.selectedFiles.length > 0 ? (_openBlock(), _createBlock(_component_el_tag, {\n    key: 0,\n    type: \"success\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" 已选: \" + _toDisplayString($setup.selectedFiles.length) + \" 篇 \", 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 批量操作栏 \"), $setup.selectedFiles.length > 0 ? (_openBlock(), _createBlock(_component_el_card, {\n    key: 0,\n    class: \"batch-actions-card\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_icon, {\n      class: \"batch-icon\"\n    }, {\n      default: _withCtx(() => [_createVNode($setup[\"Check\"])]),\n      _: 1 /* STABLE */\n    }), _createElementVNode(\"span\", null, [_cache[11] || (_cache[11] = _createTextVNode(\"已选择 \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($setup.selectedFiles.length), 1 /* TEXT */), _cache[12] || (_cache[12] = _createTextVNode(\" 篇论文\", -1 /* CACHED */))])]), _createVNode(_component_el_divider, {\n      direction: \"vertical\"\n    }), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.batchAnalyze,\n      disabled: $setup.selectedFiles.length === 0,\n      icon: \"VideoPlay\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" 批量分析 (\" + _toDisplayString($setup.selectedFiles.length) + \") \", 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"]), _createVNode(_component_el_button, {\n      type: \"success\",\n      onClick: $setup.batchCluster,\n      disabled: $setup.selectedFiles.length < 2,\n      icon: \"DataAnalysis\"\n    }, {\n      default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\" 聚类分析 \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"]), _createVNode(_component_el_button, {\n      onClick: $setup.batchExport,\n      disabled: $setup.selectedFiles.length === 0,\n      icon: \"Download\"\n    }, {\n      default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createTextVNode(\" 批量导出 \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"]), _createVNode(_component_el_button, {\n      type: \"danger\",\n      onClick: $setup.batchDelete,\n      disabled: $setup.selectedFiles.length === 0,\n      icon: \"Delete\"\n    }, {\n      default: _withCtx(() => [...(_cache[15] || (_cache[15] = [_createTextVNode(\" 批量删除 \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"]), _createVNode(_component_el_button, {\n      onClick: $setup.clearSelection,\n      icon: \"Close\"\n    }, {\n      default: _withCtx(() => [...(_cache[16] || (_cache[16] = [_createTextVNode(\" 取消选择 \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })])])]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 论文列表 \"), _createVNode(_component_el_card, {\n    class: \"table-card\"\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 工具栏 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_el_button, {\n      onClick: $setup.toggleSelectAll,\n      icon: \"List\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.allSelected ? '取消全选' : '全选'), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      onClick: $setup.refreshFiles,\n      icon: \"Refresh\"\n    }, {\n      default: _withCtx(() => [...(_cache[17] || (_cache[17] = [_createTextVNode(\"刷新\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_input, {\n      modelValue: $setup.searchText,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchText = $event),\n      placeholder: \"搜索论文标题、作者、期刊...\",\n      clearable: \"\",\n      style: {\n        \"width\": \"300px\"\n      },\n      onInput: $setup.handleSearch\n    }, {\n      prefix: _withCtx(() => [_createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [_createVNode($setup[\"Search\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])])]), _createVNode(_component_el_table, {\n      ref: \"tableRef\",\n      data: $setup.filteredFiles,\n      style: {\n        \"width\": \"100%\"\n      },\n      \"row-style\": {\n        height: '60px'\n      },\n      onSelectionChange: $setup.handleSelectionChange,\n      \"row-key\": $setup.getRowKey\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        type: \"selection\",\n        width: \"55\",\n        \"reserve-selection\": true\n      }), _createVNode(_component_el_table_column, {\n        prop: \"title\",\n        label: \"论文标题\",\n        \"min-width\": \"300\",\n        \"show-overflow-tooltip\": \"\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tooltip, {\n          content: row.title || '无标题',\n          placement: \"top\",\n          effect: \"dark\"\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", {\n            class: \"table-cell-text\",\n            onClick: $event => $setup.viewFileDetail(row)\n          }, _toDisplayString(row.title || '无标题'), 9 /* TEXT, PROPS */, _hoisted_10)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"content\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"year\",\n        label: \"年份\",\n        width: \"100\",\n        sortable: \"\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [row.year ? (_openBlock(), _createBlock(_component_el_tag, {\n          key: 0,\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(row.year), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_11, \"-\"))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"venue\",\n        label: \"发表期刊/会议\",\n        \"min-width\": \"250\",\n        \"show-overflow-tooltip\": \"\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tooltip, {\n          content: row.venue || '未知',\n          placement: \"top\",\n          effect: \"dark\"\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_12, _toDisplayString(row.venue || '未知'), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"content\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"created_at\",\n        label: \"上传时间\",\n        formatter: $setup.formatTime,\n        width: \"180\",\n        sortable: \"\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"状态\",\n        width: \"120\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [row.analyzed ? (_openBlock(), _createBlock(_component_el_tag, {\n          key: 0,\n          type: \"success\",\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\"已分析\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        })) : (_openBlock(), _createBlock(_component_el_tag, {\n          key: 1,\n          type: \"info\",\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createTextVNode(\"未分析\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"250\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button_group, null, {\n          default: _withCtx(() => [_createVNode(_component_el_button, {\n            size: \"small\",\n            onClick: $event => $setup.analyzeFile(scope.row),\n            icon: \"VideoPlay\"\n          }, {\n            default: _withCtx(() => [...(_cache[20] || (_cache[20] = [_createTextVNode(\" 分析 \", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"small\",\n            onClick: $event => $setup.editFile(scope.row),\n            icon: \"Edit\"\n          }, {\n            default: _withCtx(() => [...(_cache[21] || (_cache[21] = [_createTextVNode(\" 编辑 \", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"danger\",\n            onClick: $event => $setup.deleteFile(scope.row),\n            icon: \"Delete\"\n          }, {\n            default: _withCtx(() => [...(_cache[22] || (_cache[22] = [_createTextVNode(\" 删除 \", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"]), $setup.filteredFiles.length === 0 ? (_openBlock(), _createBlock(_component_el_empty, {\n      key: 0,\n      description: \"暂无论文，请先上传PDF文件\"\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 论文详情对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.detailDialogVisible,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.detailDialogVisible = $event),\n    title: $setup.currentFile?.title || '论文详情',\n    width: \"800px\"\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[1] || (_cache[1] = $event => $setup.detailDialogVisible = false)\n    }, {\n      default: _withCtx(() => [...(_cache[23] || (_cache[23] = [_createTextVNode(\"关闭\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[2] || (_cache[2] = $event => $setup.analyzeFile($setup.currentFile))\n    }, {\n      default: _withCtx(() => [...(_cache[24] || (_cache[24] = [_createTextVNode(\"分析此论文\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })]),\n    default: _withCtx(() => [$setup.currentFile ? (_openBlock(), _createBlock(_component_el_descriptions, {\n      key: 0,\n      column: 2,\n      border: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_descriptions_item, {\n        label: \"论文ID\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.currentFile.id), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"年份\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.currentFile.year || '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"期刊/会议\",\n        span: 2\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.currentFile.venue || '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"作者\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.currentFile.authors?.join(', ') || '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"上传时间\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.formatTime(null, null, $setup.currentFile.created_at)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"文件路径\",\n        span: 2\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.currentFile.pdf_path || '-'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_descriptions_item, {\n        label: \"分析状态\",\n        span: 2\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_tag, {\n          type: $setup.currentFile.analyzed ? 'success' : 'info'\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.currentFile.analyzed ? '已分析' : '未分析'), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"title\"]), _createCommentVNode(\" 编辑对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.editDialogVisible,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.editDialogVisible = $event),\n    title: \"编辑论文信息\",\n    width: \"600px\"\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[8] || (_cache[8] = $event => $setup.editDialogVisible = false)\n    }, {\n      default: _withCtx(() => [...(_cache[25] || (_cache[25] = [_createTextVNode(\"取消\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.saveEdit,\n      loading: $setup.saving\n    }, {\n      default: _withCtx(() => [...(_cache[26] || (_cache[26] = [_createTextVNode(\"保存\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\"])]),\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $setup.editForm,\n      \"label-width\": \"100px\",\n      ref: \"editFormRef\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"论文标题\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.editForm.title,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.editForm.title = $event),\n          placeholder: \"请输入论文标题\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"年份\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input_number, {\n          modelValue: $setup.editForm.year,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.editForm.year = $event),\n          min: 1900,\n          max: 2100\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"期刊/会议\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.editForm.venue,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.editForm.venue = $event),\n          placeholder: \"请输入期刊或会议名称\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"作者\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.editForm.authorsStr,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.editForm.authorsStr = $event),\n          type: \"textarea\",\n          rows: 3,\n          placeholder: \"多个作者用逗号分隔\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_tag","_toDisplayString","$setup","files","length","selectedFiles","_createBlock","type","_createCommentVNode","_component_el_card","_hoisted_4","_hoisted_5","_component_el_icon","_component_el_divider","direction","_hoisted_6","_component_el_button","onClick","batchAnalyze","disabled","icon","batchCluster","_cache","batchExport","batchDelete","clearSelection","_hoisted_7","_hoisted_8","toggleSelectAll","allSelected","refreshFiles","_hoisted_9","_component_el_input","searchText","$event","placeholder","clearable","style","onInput","handleSearch","prefix","_withCtx","_component_el_table","ref","data","filteredFiles","height","onSelectionChange","handleSelectionChange","getRowKey","_component_el_table_column","width","prop","label","default","row","_component_el_tooltip","content","title","placement","effect","viewFileDetail","_hoisted_10","sortable","year","size","_hoisted_11","venue","_hoisted_12","formatter","formatTime","analyzed","fixed","scope","_component_el_button_group","analyzeFile","editFile","deleteFile","_component_el_empty","description","_component_el_dialog","detailDialogVisible","currentFile","footer","_component_el_descriptions","column","border","_component_el_descriptions_item","id","span","authors","join","created_at","pdf_path","editDialogVisible","saveEdit","loading","saving","_component_el_form","model","editForm","_component_el_form_item","_component_el_input_number","min","max","authorsStr","rows"],"sources":["/Users/liucunyu/Documents/all_code/NUC_graduation_project/frontend/src/views/Files.vue"],"sourcesContent":["<template>\n  <div class=\"files\">\n    <div class=\"page-header\">\n      <h2>论文管理</h2>\n      <div class=\"header-stats\">\n        <el-tag>总计: {{ files.length }} 篇</el-tag>\n        <el-tag type=\"success\" v-if=\"selectedFiles.length > 0\">\n          已选: {{ selectedFiles.length }} 篇\n        </el-tag>\n      </div>\n    </div>\n\n    <!-- 批量操作栏 -->\n    <el-card class=\"batch-actions-card\" v-if=\"selectedFiles.length > 0\">\n      <div class=\"batch-actions\">\n        <div class=\"batch-info\">\n          <el-icon class=\"batch-icon\"><Check /></el-icon>\n          <span>已选择 <strong>{{ selectedFiles.length }}</strong> 篇论文</span>\n        </div>\n\n        <el-divider direction=\"vertical\" />\n\n        <div class=\"batch-buttons\">\n          <el-button\n            type=\"primary\"\n            @click=\"batchAnalyze\"\n            :disabled=\"selectedFiles.length === 0\"\n            icon=\"VideoPlay\"\n          >\n            批量分析 ({{ selectedFiles.length }})\n          </el-button>\n\n          <el-button\n            type=\"success\"\n            @click=\"batchCluster\"\n            :disabled=\"selectedFiles.length < 2\"\n            icon=\"DataAnalysis\"\n          >\n            聚类分析\n          </el-button>\n\n          <el-button\n            @click=\"batchExport\"\n            :disabled=\"selectedFiles.length === 0\"\n            icon=\"Download\"\n          >\n            批量导出\n          </el-button>\n\n          <el-button\n            type=\"danger\"\n            @click=\"batchDelete\"\n            :disabled=\"selectedFiles.length === 0\"\n            icon=\"Delete\"\n          >\n            批量删除\n          </el-button>\n\n          <el-button @click=\"clearSelection\" icon=\"Close\">\n            取消选择\n          </el-button>\n        </div>\n      </div>\n    </el-card>\n\n    <!-- 论文列表 -->\n    <el-card class=\"table-card\">\n      <!-- 工具栏 -->\n      <div class=\"table-toolbar\">\n        <div class=\"toolbar-left\">\n          <el-button @click=\"toggleSelectAll\" icon=\"List\">\n            {{ allSelected ? '取消全选' : '全选' }}\n          </el-button>\n          <el-button @click=\"refreshFiles\" icon=\"Refresh\">刷新</el-button>\n        </div>\n\n        <div class=\"toolbar-right\">\n          <el-input\n            v-model=\"searchText\"\n            placeholder=\"搜索论文标题、作者、期刊...\"\n            clearable\n            style=\"width: 300px\"\n            @input=\"handleSearch\"\n          >\n            <template #prefix>\n              <el-icon><Search /></el-icon>\n            </template>\n          </el-input>\n        </div>\n      </div>\n\n      <el-table\n        ref=\"tableRef\"\n        :data=\"filteredFiles\"\n        style=\"width: 100%\"\n        :row-style=\"{ height: '60px' }\"\n        @selection-change=\"handleSelectionChange\"\n        :row-key=\"getRowKey\"\n      >\n        <el-table-column type=\"selection\" width=\"55\" :reserve-selection=\"true\" />\n\n        <el-table-column prop=\"title\" label=\"论文标题\" min-width=\"300\" show-overflow-tooltip>\n          <template #default=\"{ row }\">\n            <el-tooltip :content=\"row.title || '无标题'\" placement=\"top\" effect=\"dark\">\n              <div class=\"table-cell-text\" @click=\"viewFileDetail(row)\">\n                {{ row.title || '无标题' }}\n              </div>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n\n        <el-table-column prop=\"year\" label=\"年份\" width=\"100\" sortable>\n          <template #default=\"{ row }\">\n            <el-tag v-if=\"row.year\" size=\"small\">{{ row.year }}</el-tag>\n            <span v-else>-</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column prop=\"venue\" label=\"发表期刊/会议\" min-width=\"250\" show-overflow-tooltip>\n          <template #default=\"{ row }\">\n            <el-tooltip :content=\"row.venue || '未知'\" placement=\"top\" effect=\"dark\">\n              <div class=\"table-cell-text\">{{ row.venue || '未知' }}</div>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n\n        <el-table-column prop=\"created_at\" label=\"上传时间\" :formatter=\"formatTime\" width=\"180\" sortable />\n\n        <el-table-column label=\"状态\" width=\"120\">\n          <template #default=\"{ row }\">\n            <el-tag v-if=\"row.analyzed\" type=\"success\" size=\"small\">已分析</el-tag>\n            <el-tag v-else type=\"info\" size=\"small\">未分析</el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"操作\" width=\"250\" fixed=\"right\">\n          <template #default=\"scope\">\n            <el-button-group>\n              <el-button size=\"small\" @click=\"analyzeFile(scope.row)\" icon=\"VideoPlay\">\n                分析\n              </el-button>\n              <el-button size=\"small\" @click=\"editFile(scope.row)\" icon=\"Edit\">\n                编辑\n              </el-button>\n              <el-button\n                size=\"small\"\n                type=\"danger\"\n                @click=\"deleteFile(scope.row)\"\n                icon=\"Delete\"\n              >\n                删除\n              </el-button>\n            </el-button-group>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-empty v-if=\"filteredFiles.length === 0\" description=\"暂无论文，请先上传PDF文件\" />\n    </el-card>\n\n    <!-- 论文详情对话框 -->\n    <el-dialog\n      v-model=\"detailDialogVisible\"\n      :title=\"currentFile?.title || '论文详情'\"\n      width=\"800px\"\n    >\n      <el-descriptions :column=\"2\" border v-if=\"currentFile\">\n        <el-descriptions-item label=\"论文ID\">{{ currentFile.id }}</el-descriptions-item>\n        <el-descriptions-item label=\"年份\">{{ currentFile.year || '-' }}</el-descriptions-item>\n        <el-descriptions-item label=\"期刊/会议\" :span=\"2\">\n          {{ currentFile.venue || '-' }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"作者\">\n          {{ currentFile.authors?.join(', ') || '-' }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"上传时间\">\n          {{ formatTime(null, null, currentFile.created_at) }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"文件路径\" :span=\"2\">\n          {{ currentFile.pdf_path || '-' }}\n        </el-descriptions-item>\n        <el-descriptions-item label=\"分析状态\" :span=\"2\">\n          <el-tag :type=\"currentFile.analyzed ? 'success' : 'info'\">\n            {{ currentFile.analyzed ? '已分析' : '未分析' }}\n          </el-tag>\n        </el-descriptions-item>\n      </el-descriptions>\n\n      <template #footer>\n        <el-button @click=\"detailDialogVisible = false\">关闭</el-button>\n        <el-button type=\"primary\" @click=\"analyzeFile(currentFile)\">分析此论文</el-button>\n      </template>\n    </el-dialog>\n\n    <!-- 编辑对话框 -->\n    <el-dialog\n      v-model=\"editDialogVisible\"\n      title=\"编辑论文信息\"\n      width=\"600px\"\n    >\n      <el-form :model=\"editForm\" label-width=\"100px\" ref=\"editFormRef\">\n        <el-form-item label=\"论文标题\">\n          <el-input v-model=\"editForm.title\" placeholder=\"请输入论文标题\" />\n        </el-form-item>\n        <el-form-item label=\"年份\">\n          <el-input-number v-model=\"editForm.year\" :min=\"1900\" :max=\"2100\" />\n        </el-form-item>\n        <el-form-item label=\"期刊/会议\">\n          <el-input v-model=\"editForm.venue\" placeholder=\"请输入期刊或会议名称\" />\n        </el-form-item>\n        <el-form-item label=\"作者\">\n          <el-input\n            v-model=\"editForm.authorsStr\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"多个作者用逗号分隔\"\n          />\n        </el-form-item>\n      </el-form>\n\n      <template #footer>\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveEdit\" :loading=\"saving\">保存</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Check, Search, VideoPlay, DataAnalysis, Download, Delete, Edit, Refresh, List, Close } from '@element-plus/icons-vue'\nimport api from '@/api'\n\nconst store = useStore()\nconst router = useRouter()\n\n// 响应式数据\nconst tableRef = ref(null)\nconst selectedFiles = ref([])\nconst searchText = ref('')\nconst detailDialogVisible = ref(false)\nconst editDialogVisible = ref(false)\nconst currentFile = ref(null)\nconst saving = ref(false)\n\nconst editForm = ref({\n  id: null,\n  title: '',\n  year: null,\n  venue: '',\n  authorsStr: ''\n})\n\n// 计算属性\nconst files = computed(() => store.state.files || [])\n\nconst filteredFiles = computed(() => {\n  if (!searchText.value) return files.value\n\n  const search = searchText.value.toLowerCase()\n  return files.value.filter(file => {\n    return (\n      (file.title?.toLowerCase().includes(search)) ||\n      (file.venue?.toLowerCase().includes(search)) ||\n      (file.authors?.some(a => a.toLowerCase().includes(search))) ||\n      (file.year?.toString().includes(search))\n    )\n  })\n})\n\nconst allSelected = computed(() => {\n  return selectedFiles.value.length === filteredFiles.value.length && filteredFiles.value.length > 0\n})\n\n// 方法\nconst getRowKey = (row) => row.id\n\nconst formatTime = (row, column, time) => {\n  if (!time) return '-'\n  return new Date(time).toLocaleString('zh-CN')\n}\n\nconst handleSelectionChange = (selection) => {\n  selectedFiles.value = selection\n}\n\nconst toggleSelectAll = () => {\n  if (allSelected.value) {\n    tableRef.value?.clearSelection()\n  } else {\n    filteredFiles.value.forEach(row => {\n      tableRef.value?.toggleRowSelection(row, true)\n    })\n  }\n}\n\nconst clearSelection = () => {\n  tableRef.value?.clearSelection()\n}\n\nconst handleSearch = () => {\n  // 搜索时清空选择\n  clearSelection()\n}\n\nconst refreshFiles = () => {\n  store.dispatch('fetchFiles')\n  ElMessage.success('刷新成功')\n}\n\nconst viewFileDetail = (file) => {\n  currentFile.value = file\n  detailDialogVisible.value = true\n}\n\nconst analyzeFile = (paper) => {\n  if (paper) {\n    router.push({ path: '/analyze', query: { paperId: paper.id } })\n\n    // 添加路由守卫，从分析页面返回时刷新列表\n    const unwatch = router.afterEach((to, from) => {\n      if (from.path === '/analyze' && to.path === '/files') {\n        // 延迟刷新，确保数据库已更新\n        setTimeout(() => {\n          store.dispatch('fetchFiles')\n        }, 500)\n        unwatch()\n      }\n    })\n  }\n}\n\nconst editFile = (file) => {\n  currentFile.value = file\n  editForm.value = {\n    id: file.id,\n    title: file.title || '',\n    year: file.year || null,\n    venue: file.venue || '',\n    authorsStr: file.authors?.join(', ') || ''\n  }\n  editDialogVisible.value = true\n}\n\nconst saveEdit = async () => {\n  try {\n    saving.value = true\n\n    const authors = editForm.value.authorsStr\n      .split(',')\n      .map(a => a.trim())\n      .filter(a => a)\n\n    const response = await api.updatePaper(editForm.value.id, {\n      title: editForm.value.title,\n      year: editForm.value.year,\n      venue: editForm.value.venue,\n      authors: authors\n    })\n\n    if (response.success) {\n      ElMessage.success('保存成功')\n      editDialogVisible.value = false\n      await store.dispatch('fetchFiles')\n    } else {\n      ElMessage.error(response.error || '保存失败')\n    }\n  } catch (error) {\n    console.error('保存失败:', error)\n    ElMessage.error('保存失败: ' + (error.message || '未知错误'))\n  } finally {\n    saving.value = false\n  }\n}\n\nconst deleteFile = async (paper) => {\n  try {\n    await ElMessageBox.confirm(\n      `确定要删除论文 \"${paper.title || '未命名'}\" 吗？此操作不可恢复！`,\n      '确认删除',\n      {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }\n    )\n\n    const success = await store.dispatch('deleteFile', paper.id)\n    if (success) {\n      ElMessage.success('删除成功')\n      // 清空选择\n      if (selectedFiles.value.find(f => f.id === paper.id)) {\n        clearSelection()\n      }\n    } else {\n      ElMessage.error('删除失败')\n    }\n  } catch {\n    // 用户取消\n  }\n}\n\n// 批量操作\nconst batchAnalyze = () => {\n  if (selectedFiles.value.length === 0) {\n    ElMessage.warning('请先选择要分析的论文')\n    return\n  }\n\n  ElMessageBox.confirm(\n    `将对 ${selectedFiles.value.length} 篇论文依次进行分析，是否继续？`,\n    '批量分析确认',\n    {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'info'\n    }\n  ).then(() => {\n    // 跳转到分析页面，传递第一篇论文ID\n    const firstPaper = selectedFiles.value[0]\n    router.push({\n      path: '/analyze',\n      query: {\n        paperId: firstPaper.id,\n        batch: 'true',\n        count: selectedFiles.value.length\n      }\n    })\n    ElMessage.info('将从第一篇论文开始分析，完成后请继续分析其他论文')\n  }).catch(() => {\n    // 用户取消\n  })\n}\n\nconst batchCluster = () => {\n  if (selectedFiles.value.length < 2) {\n    ElMessage.warning('请至少选择2篇论文进行聚类分析')\n    return\n  }\n\n  // 跳转到聚类页面\n  router.push({\n    path: '/cluster',\n    state: {\n      selectedPapers: selectedFiles.value.map(f => f.id)\n    }\n  })\n  ElMessage.success(`已选择 ${selectedFiles.value.length} 篇论文，正在跳转到聚类页面`)\n}\n\nconst batchExport = async () => {\n  if (selectedFiles.value.length === 0) {\n    ElMessage.warning('请先选择要导出的论文')\n    return\n  }\n\n  try {\n    // 生成CSV格式\n    const headers = ['ID', '标题', '年份', '期刊/会议', '作者', '上传时间']\n    const rows = selectedFiles.value.map(file => [\n      file.id,\n      file.title || '',\n      file.year || '',\n      file.venue || '',\n      file.authors?.join('; ') || '',\n      formatTime(null, null, file.created_at)\n    ])\n\n    const csv = [headers.join(','), ...rows.map(row => row.map(cell => `\"${cell}\"`).join(','))].join('\\n')\n\n    // 下载文件\n    const blob = new Blob(['\\ufeff' + csv], { type: 'text/csv;charset=utf-8' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `papers_export_${new Date().getTime()}.csv`\n    a.click()\n    URL.revokeObjectURL(url)\n\n    ElMessage.success(`成功导出 ${selectedFiles.value.length} 篇论文信息`)\n  } catch (error) {\n    console.error('导出失败:', error)\n    ElMessage.error('导出失败: ' + error.message)\n  }\n}\n\nconst batchDelete = async () => {\n  if (selectedFiles.value.length === 0) {\n    ElMessage.warning('请先选择要删除的论文')\n    return\n  }\n\n  try {\n    await ElMessageBox.confirm(\n      `确定要删除选中的 ${selectedFiles.value.length} 篇论文吗？此操作不可恢复！`,\n      '批量删除确认',\n      {\n        confirmButtonText: '确定删除',\n        cancelButtonText: '取消',\n        type: 'warning',\n        dangerouslyUseHTMLString: true\n      }\n    )\n\n    // 调用批量删除API\n    const paperIds = selectedFiles.value.map(f => f.id)\n    const response = await api.batchDeletePapers(paperIds)\n\n    if (response.success) {\n      ElMessage.success(`成功删除 ${response.data.deleted_count || paperIds.length} 篇论文`)\n      clearSelection()\n      await store.dispatch('fetchFiles')\n    } else {\n      ElMessage.error(response.error || '批量删除失败')\n    }\n  } catch (error) {\n    if (error !== 'cancel') {\n      console.error('批量删除失败:', error)\n      ElMessage.error('批量删除失败: ' + (error.message || '未知错误'))\n    }\n  }\n}\n\n// 生命周期\nonMounted(() => {\n  store.dispatch('fetchFiles')\n})\n</script>\n\n<style scoped>\n.files {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.page-header h2 {\n  margin: 0;\n  color: #303133;\n}\n\n.header-stats {\n  display: flex;\n  gap: 10px;\n}\n\n.batch-actions-card {\n  margin-bottom: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n}\n\n.batch-actions-card :deep(.el-card__body) {\n  padding: 15px 20px;\n}\n\n.batch-actions {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  color: white;\n}\n\n.batch-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 16px;\n}\n\n.batch-icon {\n  font-size: 24px;\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.batch-buttons {\n  display: flex;\n  gap: 10px;\n  flex: 1;\n}\n\n.batch-buttons .el-button {\n  background: rgba(255, 255, 255, 0.2);\n  border-color: rgba(255, 255, 255, 0.3);\n  color: white;\n}\n\n.batch-buttons .el-button:hover {\n  background: rgba(255, 255, 255, 0.3);\n  border-color: rgba(255, 255, 255, 0.5);\n}\n\n.batch-buttons .el-button.is-disabled {\n  background: rgba(0, 0, 0, 0.2);\n  border-color: rgba(0, 0, 0, 0.2);\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.table-card {\n  margin-bottom: 20px;\n}\n\n.table-toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f5f7fa;\n  border-radius: 4px;\n}\n\n.toolbar-left,\n.toolbar-right {\n  display: flex;\n  gap: 10px;\n}\n\n.table-cell-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: pointer;\n  color: #303133;\n}\n\n.table-cell-text:hover {\n  color: #409EFF;\n}\n\n:deep(.el-button-group) {\n  display: flex;\n}\n\n:deep(.el-divider--vertical) {\n  height: 40px;\n  border-color: rgba(255, 255, 255, 0.3);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}