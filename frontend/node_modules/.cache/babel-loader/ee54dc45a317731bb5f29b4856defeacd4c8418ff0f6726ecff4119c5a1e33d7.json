{"ast":null,"code":"import { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nimport { isBoolean } from '../../../utils/types.mjs';\nconst ROOT_TREE_INJECTION_KEY = Symbol();\nconst EMPTY_NODE = {\n  key: -1,\n  level: -1,\n  data: {}\n};\nvar TreeOptionsEnum = /* @__PURE__ */(TreeOptionsEnum2 => {\n  TreeOptionsEnum2[\"KEY\"] = \"id\";\n  TreeOptionsEnum2[\"LABEL\"] = \"label\";\n  TreeOptionsEnum2[\"CHILDREN\"] = \"children\";\n  TreeOptionsEnum2[\"DISABLED\"] = \"disabled\";\n  TreeOptionsEnum2[\"CLASS\"] = \"\";\n  return TreeOptionsEnum2;\n})(TreeOptionsEnum || {});\nvar SetOperationEnum = /* @__PURE__ */(SetOperationEnum2 => {\n  SetOperationEnum2[\"ADD\"] = \"add\";\n  SetOperationEnum2[\"DELETE\"] = \"delete\";\n  return SetOperationEnum2;\n})(SetOperationEnum || {});\nconst itemSize = {\n  type: Number,\n  default: 26\n};\nconst treeProps = buildProps({\n  data: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  emptyText: {\n    type: String\n  },\n  height: {\n    type: Number,\n    default: 200\n  },\n  props: {\n    type: definePropType(Object),\n    default: () => mutable({\n      children: \"children\" /* CHILDREN */,\n      label: \"label\" /* LABEL */,\n      disabled: \"disabled\" /* DISABLED */,\n      value: \"id\" /* KEY */,\n      class: \"\" /* CLASS */\n    })\n  },\n  highlightCurrent: Boolean,\n  showCheckbox: Boolean,\n  defaultCheckedKeys: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  checkStrictly: Boolean,\n  defaultExpandedKeys: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  itemSize,\n  icon: {\n    type: iconPropType\n  },\n  expandOnClickNode: {\n    type: Boolean,\n    default: true\n  },\n  checkOnClickNode: Boolean,\n  checkOnClickLeaf: {\n    type: Boolean,\n    default: true\n  },\n  currentNodeKey: {\n    type: definePropType([String, Number])\n  },\n  accordion: Boolean,\n  filterMethod: {\n    type: definePropType(Function)\n  },\n  perfMode: {\n    type: Boolean,\n    default: true\n  },\n  scrollbarAlwaysOn: Boolean\n});\nconst treeNodeProps = buildProps({\n  node: {\n    type: definePropType(Object),\n    default: () => mutable(EMPTY_NODE)\n  },\n  expanded: Boolean,\n  checked: Boolean,\n  indeterminate: Boolean,\n  showCheckbox: Boolean,\n  disabled: Boolean,\n  current: Boolean,\n  hiddenExpandIcon: Boolean,\n  itemSize\n});\nconst treeNodeContentProps = buildProps({\n  node: {\n    type: definePropType(Object),\n    required: true\n  }\n});\nconst NODE_CLICK = \"node-click\";\nconst NODE_DROP = \"node-drop\";\nconst NODE_EXPAND = \"node-expand\";\nconst NODE_COLLAPSE = \"node-collapse\";\nconst CURRENT_CHANGE = \"current-change\";\nconst NODE_CHECK = \"check\";\nconst NODE_CHECK_CHANGE = \"check-change\";\nconst NODE_CONTEXTMENU = \"node-contextmenu\";\nconst treeEmits = {\n  [NODE_CLICK]: (data, node, e) => data && node && e,\n  [NODE_DROP]: (data, node, e) => data && node && e,\n  [NODE_EXPAND]: (data, node) => data && node,\n  [NODE_COLLAPSE]: (data, node) => data && node,\n  [CURRENT_CHANGE]: (data, node) => data && node,\n  [NODE_CHECK]: (data, checkedInfo) => data && checkedInfo,\n  [NODE_CHECK_CHANGE]: (data, checked) => data && isBoolean(checked),\n  [NODE_CONTEXTMENU]: (evt, data, node) => evt && data && node\n};\nconst treeNodeEmits = {\n  click: (node, e) => !!(node && e),\n  drop: (node, e) => !!(node && e),\n  toggle: node => !!node,\n  check: (node, checked) => node && isBoolean(checked)\n};\nexport { CURRENT_CHANGE, NODE_CHECK, NODE_CHECK_CHANGE, NODE_CLICK, NODE_COLLAPSE, NODE_CONTEXTMENU, NODE_DROP, NODE_EXPAND, ROOT_TREE_INJECTION_KEY, SetOperationEnum, TreeOptionsEnum, treeEmits, treeNodeContentProps, treeNodeEmits, treeNodeProps, treeProps };","map":{"version":3,"names":["ROOT_TREE_INJECTION_KEY","Symbol","EMPTY_NODE","key","level","data","TreeOptionsEnum","TreeOptionsEnum2","SetOperationEnum","SetOperationEnum2","itemSize","type","Number","default","treeProps","buildProps","definePropType","Array","mutable","emptyText","String","height","props","Object","children","label","disabled","value","class","highlightCurrent","Boolean","showCheckbox","defaultCheckedKeys","checkStrictly","defaultExpandedKeys","indent","icon","iconPropType","expandOnClickNode","checkOnClickNode","checkOnClickLeaf","currentNodeKey","accordion","filterMethod","Function","perfMode","scrollbarAlwaysOn","treeNodeProps","node","expanded","checked","indeterminate","current","hiddenExpandIcon","treeNodeContentProps","required","NODE_CLICK","NODE_DROP","NODE_EXPAND","NODE_COLLAPSE","CURRENT_CHANGE","NODE_CHECK","NODE_CHECK_CHANGE","NODE_CONTEXTMENU","treeEmits","e","checkedInfo","isBoolean","evt","treeNodeEmits","click","drop","toggle","check"],"sources":["../../../../../../packages/components/tree-v2/src/virtual-tree.ts"],"sourcesContent":["import {\n  buildProps,\n  definePropType,\n  iconPropType,\n  isBoolean,\n  mutable,\n} from '@element-plus/utils'\n\nimport type { CheckboxValueType } from '@element-plus/components/checkbox'\nimport type { InjectionKey } from 'vue'\nimport type { TreeNodeData } from '@element-plus/components/tree/src/tree.type'\nimport type {\n  CheckedInfo,\n  FilterMethod,\n  TreeContext,\n  TreeData,\n  TreeKey,\n  TreeNode,\n  TreeOptionProps,\n} from './types'\n\n// constants\nexport const ROOT_TREE_INJECTION_KEY: InjectionKey<TreeContext> = Symbol()\nconst EMPTY_NODE = {\n  key: -1,\n  level: -1,\n  data: {},\n} as const\n\n// enums\nexport enum TreeOptionsEnum {\n  KEY = 'id',\n  LABEL = 'label',\n  CHILDREN = 'children',\n  DISABLED = 'disabled',\n  CLASS = '',\n}\n\nexport const enum SetOperationEnum {\n  ADD = 'add',\n  DELETE = 'delete',\n}\n\nconst itemSize = {\n  type: Number,\n  default: 26,\n}\n\n// props\nexport const treeProps = buildProps({\n  data: {\n    type: definePropType<TreeData>(Array),\n    default: () => mutable([] as const),\n  },\n  emptyText: {\n    type: String,\n  },\n  height: {\n    type: Number,\n    default: 200,\n  },\n  props: {\n    type: definePropType<TreeOptionProps>(Object),\n    default: () =>\n      mutable({\n        children: TreeOptionsEnum.CHILDREN,\n        label: TreeOptionsEnum.LABEL,\n        disabled: TreeOptionsEnum.DISABLED,\n        value: TreeOptionsEnum.KEY,\n        class: TreeOptionsEnum.CLASS,\n      } as const),\n  },\n  highlightCurrent: Boolean,\n  showCheckbox: Boolean,\n  defaultCheckedKeys: {\n    type: definePropType<TreeKey[]>(Array),\n    default: () => mutable([] as const),\n  },\n  // Whether checked state of a node not affects its father and\n  // child nodes when show-checkbox is true\n  checkStrictly: Boolean,\n  defaultExpandedKeys: {\n    type: definePropType<TreeKey[]>(Array),\n    default: () => mutable([] as const),\n  },\n  indent: {\n    type: Number,\n    default: 16,\n  },\n  itemSize,\n  icon: {\n    type: iconPropType,\n  },\n  expandOnClickNode: {\n    type: Boolean,\n    default: true,\n  },\n  checkOnClickNode: Boolean,\n  checkOnClickLeaf: {\n    type: Boolean,\n    default: true,\n  },\n  currentNodeKey: {\n    type: definePropType<TreeKey>([String, Number]),\n  },\n  // TODO need to optimization\n  accordion: Boolean,\n  filterMethod: {\n    type: definePropType<FilterMethod>(Function),\n  },\n  // Performance mode will increase memory usage, but scrolling will be smoother\n  perfMode: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description always show scrollbar\n   */\n  scrollbarAlwaysOn: Boolean,\n} as const)\n\nexport const treeNodeProps = buildProps({\n  node: {\n    type: definePropType<TreeNode>(Object),\n    default: () => mutable(EMPTY_NODE),\n  },\n  expanded: Boolean,\n  checked: Boolean,\n  indeterminate: Boolean,\n  showCheckbox: Boolean,\n  disabled: Boolean,\n  current: Boolean,\n  hiddenExpandIcon: Boolean,\n  itemSize,\n} as const)\n\nexport const treeNodeContentProps = buildProps({\n  node: {\n    type: definePropType<TreeNode>(Object),\n    required: true,\n  },\n} as const)\n\n// emits\nexport const NODE_CLICK = 'node-click'\nexport const NODE_DROP = 'node-drop'\nexport const NODE_EXPAND = 'node-expand'\nexport const NODE_COLLAPSE = 'node-collapse'\nexport const CURRENT_CHANGE = 'current-change'\nexport const NODE_CHECK = 'check'\nexport const NODE_CHECK_CHANGE = 'check-change'\nexport const NODE_CONTEXTMENU = 'node-contextmenu'\n\nexport const treeEmits = {\n  [NODE_CLICK]: (data: TreeNodeData, node: TreeNode, e: MouseEvent) =>\n    data && node && e,\n  [NODE_DROP]: (data: TreeNodeData, node: TreeNode, e: DragEvent) =>\n    data && node && e,\n  [NODE_EXPAND]: (data: TreeNodeData, node: TreeNode) => data && node,\n  [NODE_COLLAPSE]: (data: TreeNodeData, node: TreeNode) => data && node,\n  [CURRENT_CHANGE]: (data: TreeNodeData, node: TreeNode) => data && node,\n  [NODE_CHECK]: (data: TreeNodeData, checkedInfo: CheckedInfo) =>\n    data && checkedInfo,\n  [NODE_CHECK_CHANGE]: (data: TreeNodeData, checked: boolean) =>\n    data && isBoolean(checked),\n  [NODE_CONTEXTMENU]: (evt: Event, data: TreeNodeData, node: TreeNode) =>\n    evt && data && node,\n}\n\nexport const treeNodeEmits = {\n  click: (node: TreeNode, e: MouseEvent) => !!(node && e),\n  drop: (node: TreeNode, e: DragEvent) => !!(node && e),\n  toggle: (node: TreeNode) => !!node,\n  check: (node: TreeNode, checked: CheckboxValueType) =>\n    node && isBoolean(checked),\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}