{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from 'vue';\nimport { useCheckboxDisabled } from './use-checkbox-disabled.mjs';\nimport { useCheckboxEvent } from './use-checkbox-event.mjs';\nimport { useCheckboxModel } from './use-checkbox-model.mjs';\nimport { useCheckboxStatus } from './use-checkbox-status.mjs';\nimport { useFormItem, useFormItemInputId } from '../../../form/src/hooks/use-form-item.mjs';\nimport { useDeprecated } from '../../../../hooks/use-deprecated/index.mjs';\nimport { isPropAbsent } from '../../../../utils/types.mjs';\nimport { isArray } from '@vue/shared';\nconst useCheckbox = (props, slots) => {\n  const {\n    formItem: elFormItem\n  } = useFormItem();\n  const {\n    model,\n    isGroup,\n    isLimitExceeded\n  } = useCheckboxModel(props);\n  const {\n    isFocused,\n    isChecked,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue\n  } = useCheckboxStatus(props, slots, {\n    model\n  });\n  const {\n    isDisabled\n  } = useCheckboxDisabled({\n    model,\n    isChecked\n  });\n  const {\n    inputId,\n    isLabeledByFormItem\n  } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup\n  });\n  const {\n    handleChange,\n    onClickRoot\n  } = useCheckboxEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem\n  });\n  const setStoreValue = () => {\n    function addToStore() {\n      var _a, _b;\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value);\n      } else {\n        model.value = (_b = (_a = props.trueValue) != null ? _a : props.trueLabel) != null ? _b : true;\n      }\n    }\n    props.checked && addToStore();\n  };\n  setStoreValue();\n  useDeprecated({\n    from: \"label act as value\",\n    replacement: \"value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(() => isGroup.value && isPropAbsent(props.value)));\n  useDeprecated({\n    from: \"true-label\",\n    replacement: \"true-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(() => !!props.trueLabel));\n  useDeprecated({\n    from: \"false-label\",\n    replacement: \"false-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(() => !!props.falseLabel));\n  return {\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isFocused,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    actualValue,\n    handleChange,\n    onClickRoot\n  };\n};\nexport { useCheckbox };","map":{"version":3,"names":["useCheckbox","props","slots","formItem","elFormItem","useFormItem","model","isGroup","isLimitExceeded","useCheckboxModel","isFocused","isChecked","checkboxButtonSize","checkboxSize","hasOwnLabel","actualValue","useCheckboxStatus","isDisabled","useCheckboxDisabled","inputId","isLabeledByFormItem","useFormItemInputId","formItemContext","disableIdGeneration","disableIdManagement","handleChange","onClickRoot","useCheckboxEvent","setStoreValue","addToStore","_a","_b","isArray","value","includes","push","trueValue","trueLabel","checked","useDeprecated","from","replacement","version","scope","ref","computed","isPropAbsent","falseLabel"],"sources":["../../../../../../../packages/components/checkbox/src/composables/use-checkbox.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useFormItem, useFormItemInputId } from '@element-plus/components/form'\nimport { isArray, isPropAbsent } from '@element-plus/utils'\nimport { useDeprecated } from '@element-plus/hooks'\nimport { useCheckboxDisabled } from './use-checkbox-disabled'\nimport { useCheckboxEvent } from './use-checkbox-event'\nimport { useCheckboxModel } from './use-checkbox-model'\nimport { useCheckboxStatus } from './use-checkbox-status'\n\nimport type { ComponentInternalInstance } from 'vue'\nimport type { CheckboxProps } from '../checkbox'\n\nexport const useCheckbox = (\n  props: CheckboxProps,\n  slots: ComponentInternalInstance['slots']\n) => {\n  const { formItem: elFormItem } = useFormItem()\n  const { model, isGroup, isLimitExceeded } = useCheckboxModel(props)\n  const {\n    isFocused,\n    isChecked,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue,\n  } = useCheckboxStatus(props, slots, { model })\n  const { isDisabled } = useCheckboxDisabled({ model, isChecked })\n  const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup,\n  })\n  const { handleChange, onClickRoot } = useCheckboxEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem,\n  })\n\n  const setStoreValue = () => {\n    function addToStore() {\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value)\n      } else {\n        model.value = props.trueValue ?? props.trueLabel ?? true\n      }\n    }\n    props.checked && addToStore()\n  }\n\n  setStoreValue()\n\n  useDeprecated(\n    {\n      from: 'label act as value',\n      replacement: 'value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => isGroup.value && isPropAbsent(props.value))\n  )\n\n  useDeprecated(\n    {\n      from: 'true-label',\n      replacement: 'true-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.trueLabel)\n  )\n\n  useDeprecated(\n    {\n      from: 'false-label',\n      replacement: 'false-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.falseLabel)\n  )\n\n  return {\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isFocused,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    actualValue,\n    handleChange,\n    onClickRoot,\n  }\n}\n"],"mappings":";;;;;;;;;;AAYa,MAAAA,WAAA,GAAcA,CACzBC,KAAA,EACAC,KACG;EACH,MAAM;IAAEC,QAAA,EAAUC;EAAW,IAAIC,WAAY;EAC7C,MAAM;IAAEC,KAAO;IAAAC,OAAA;IAASC;EAAgB,IAAIC,gBAAA,CAAiBR,KAAK;EAC5D;IACJS,SAAA;IACAC,SAAA;IACAC,kBAAA;IACAC,YAAA;IACAC,WAAA;IACAC;EAAA,IACEC,iBAAkB,CAAAf,KAAA,EAAOC,KAAO;IAAEI;EAAA,CAAO;EAC7C,MAAM;IAAEW;EAAW,IAAIC,mBAAA,CAAoB;IAAEZ,KAAA;IAAOK;EAAA,CAAW;EAC/D,MAAM;IAAEQ,OAAA;IAASC;EAAoB,IAAIC,kBAAA,CAAmBpB,KAAO;IACjEqB,eAAiB,EAAAlB,UAAA;IACjBmB,mBAAqB,EAAAT,WAAA;IACrBU,mBAAqB,EAAAjB;EAAA,CACtB;EACD,MAAM;IAAEkB,YAAA;IAAcC;EAAY,IAAIC,gBAAA,CAAiB1B,KAAO;IAC5DK,KAAA;IACAE,eAAA;IACAM,WAAA;IACAG,UAAA;IACAG;EAAA,CACD;EAED,MAAMQ,aAAA,GAAgBA,CAAA,KAAM;IAC1B,SAASC,UAAaA,CAAA;MAzC1B,IAAAC,EAAA,EAAAC,EAAA;MA0CU,IAAAC,OAAA,CAAQ1B,KAAM,CAAA2B,KAAK,CAAK,KAAC3B,KAAA,CAAM2B,KAAM,CAAAC,QAAA,CAASnB,WAAY,CAAAkB,KAAK,CAAG;QAC9D3B,KAAA,CAAA2B,KAAA,CAAME,IAAK,CAAApB,WAAA,CAAYkB,KAAK;MAAA,CAC7B;QACL3B,KAAA,CAAM2B,KAAA,IAAQF,EAAM,IAAAD,EAAA,GAAA7B,KAAA,CAAAmC,SAAA,KAAN,IAAmB,GAAAN,EAAA,GAAA7B,KAAA,CAAMoC,SAAA,KAAzB,IAAsC,GAAAN,EAAA;MAAA;IACtD;IAEF9B,KAAA,CAAMqC,OAAA,IAAWT,UAAW;EAAA,CAC9B;EAEcD,aAAA;EAEdW,aAAA,CACE;IACEC,IAAM;IACNC,WAAa;IACbC,OAAS;IACTC,KAAO;IACPC,GAAK;EAAA,CACP,EACAC,QAAA,CAAS,MAAMtC,OAAA,CAAQ0B,KAAA,IAASa,YAAa,CAAA7C,KAAA,CAAMgC,KAAK,CAAC,EAC3D;EAEAM,aAAA,CACE;IACEC,IAAM;IACNC,WAAa;IACbC,OAAS;IACTC,KAAO;IACPC,GAAK;EAAA,CACP,EACAC,QAAS,OAAM,CAAC,CAAC5C,KAAA,CAAMoC,SAAS,EAClC;EAEAE,aAAA,CACE;IACEC,IAAM;IACNC,WAAa;IACbC,OAAS;IACTC,KAAO;IACPC,GAAK;EAAA,CACP,EACAC,QAAS,OAAM,CAAC,CAAC5C,KAAA,CAAM8C,UAAU,EACnC;EAEO;IACL5B,OAAA;IACAC,mBAAA;IACAT,SAAA;IACAM,UAAA;IACAP,SAAA;IACAE,kBAAA;IACAC,YAAA;IACAC,WAAA;IACAR,KAAA;IACAS,WAAA;IACAU,YAAA;IACAC;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}