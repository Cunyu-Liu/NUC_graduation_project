{"ast":null,"code":"import { computed, ref, watchEffect } from 'vue';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { isArray } from '@vue/shared';\nimport { isNumber } from '../../../utils/types.mjs';\nconst SIZE_MAP = {\n  small: 8,\n  default: 12,\n  large: 16\n};\nfunction useSpace(props) {\n  const ns = useNamespace(\"space\");\n  const classes = computed(() => [ns.b(), ns.m(props.direction), props.class]);\n  const horizontalSize = ref(0);\n  const verticalSize = ref(0);\n  const containerStyle = computed(() => {\n    const wrapKls = props.wrap || props.fill ? {\n      flexWrap: \"wrap\"\n    } : {};\n    const alignment = {\n      alignItems: props.alignment\n    };\n    const gap = {\n      rowGap: `${verticalSize.value}px`,\n      columnGap: `${horizontalSize.value}px`\n    };\n    return [wrapKls, alignment, gap, props.style];\n  });\n  const itemStyle = computed(() => {\n    return props.fill ? {\n      flexGrow: 1,\n      minWidth: `${props.fillRatio}%`\n    } : {};\n  });\n  watchEffect(() => {\n    const {\n      size = \"small\",\n      wrap,\n      direction: dir,\n      fill\n    } = props;\n    if (isArray(size)) {\n      const [h = 0, v = 0] = size;\n      horizontalSize.value = h;\n      verticalSize.value = v;\n    } else {\n      let val;\n      if (isNumber(size)) {\n        val = size;\n      } else {\n        val = SIZE_MAP[size || \"small\"] || SIZE_MAP.small;\n      }\n      if ((wrap || fill) && dir === \"horizontal\") {\n        horizontalSize.value = verticalSize.value = val;\n      } else {\n        if (dir === \"horizontal\") {\n          horizontalSize.value = val;\n          verticalSize.value = 0;\n        } else {\n          verticalSize.value = val;\n          horizontalSize.value = 0;\n        }\n      }\n    }\n  });\n  return {\n    classes,\n    containerStyle,\n    itemStyle\n  };\n}\nexport { useSpace };","map":{"version":3,"names":["SIZE_MAP","small","default","large","useSpace","props","ns","useNamespace","classes","computed","b","m","direction","class","horizontalSize","ref","verticalSize","containerStyle","wrapKls","wrap","fill","flexWrap","alignment","alignItems","gap","rowGap","value","columnGap","style","itemStyle","flexGrow","minWidth","fillRatio","watchEffect","size","dir","isArray","h","v","val","isNumber"],"sources":["../../../../../../packages/components/space/src/use-space.ts"],"sourcesContent":["import { computed, ref, watchEffect } from 'vue'\nimport { isArray, isNumber } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\n\nimport type { SpaceProps } from './space'\nimport type { CSSProperties, StyleValue } from 'vue'\n\nconst SIZE_MAP = {\n  small: 8,\n  default: 12,\n  large: 16,\n} as const\n\nexport function useSpace(props: SpaceProps) {\n  const ns = useNamespace('space')\n\n  const classes = computed(() => [ns.b(), ns.m(props.direction), props.class])\n\n  const horizontalSize = ref(0)\n  const verticalSize = ref(0)\n\n  const containerStyle = computed<StyleValue>(() => {\n    const wrapKls: CSSProperties =\n      props.wrap || props.fill ? { flexWrap: 'wrap' } : {}\n    const alignment: CSSProperties = {\n      alignItems: props.alignment,\n    }\n    const gap: CSSProperties = {\n      rowGap: `${verticalSize.value}px`,\n      columnGap: `${horizontalSize.value}px`,\n    }\n    return [wrapKls, alignment, gap, props.style]\n  })\n\n  const itemStyle = computed<StyleValue>(() => {\n    return props.fill ? { flexGrow: 1, minWidth: `${props.fillRatio}%` } : {}\n  })\n\n  watchEffect(() => {\n    const { size = 'small', wrap, direction: dir, fill } = props\n\n    // when the specified size have been given\n    if (isArray(size)) {\n      const [h = 0, v = 0] = size\n      horizontalSize.value = h\n      verticalSize.value = v\n    } else {\n      let val: number\n      if (isNumber(size)) {\n        val = size\n      } else {\n        val = SIZE_MAP[size || 'small'] || SIZE_MAP.small\n      }\n\n      if ((wrap || fill) && dir === 'horizontal') {\n        horizontalSize.value = verticalSize.value = val\n      } else {\n        if (dir === 'horizontal') {\n          horizontalSize.value = val\n          verticalSize.value = 0\n        } else {\n          verticalSize.value = val\n          horizontalSize.value = 0\n        }\n      }\n    }\n  })\n\n  return {\n    classes,\n    containerStyle,\n    itemStyle,\n  }\n}\n"],"mappings":";;;;AAOA,MAAMA,QAAW;EACfC,KAAO;EACPC,OAAS;EACTC,KAAO;AACT;AAEO,SAASC,SAASC,KAAmB;EACpC,MAAAC,EAAA,GAAKC,YAAA,CAAa,OAAO;EAE/B,MAAMC,OAAU,GAAAC,QAAA,CAAS,MAAM,CAACH,EAAA,CAAGI,CAAE,IAAGJ,EAAG,CAAAK,CAAA,CAAEN,KAAM,CAAAO,SAAS,CAAG,EAAAP,KAAA,CAAMQ,KAAK,CAAC;EAErE,MAAAC,cAAA,GAAiBC,GAAA,CAAI,CAAC;EACtB,MAAAC,YAAA,GAAeD,GAAA,CAAI,CAAC;EAEpB,MAAAE,cAAA,GAAiBR,QAAA,CAAqB,MAAM;IAC1C,MAAAS,OAAA,GACJb,KAAA,CAAMc,IAAQ,IAAAd,KAAA,CAAMe,IAAA,GAAO;MAAEC,QAAA,EAAU;IAAO,IAAI,EAAC;IACrD,MAAMC,SAA2B;MAC/BC,UAAA,EAAYlB,KAAM,CAAAiB;IAAA,CACpB;IACA,MAAME,GAAqB;MACzBC,MAAA,EAAQ,GAAGT,YAAa,CAAAU,KAAA;MACxBC,SAAA,EAAW,GAAGb,cAAe,CAAAY,KAAA;IAAA,CAC/B;IACA,OAAO,CAACR,OAAA,EAASI,SAAW,EAAAE,GAAA,EAAKnB,KAAA,CAAMuB,KAAK;EAAA,CAC7C;EAEK,MAAAC,SAAA,GAAYpB,QAAA,CAAqB,MAAM;IACpC,OAAAJ,KAAA,CAAMe,IAAO;MAAEU,QAAU;MAAGC,QAAA,EAAU,GAAG1B,KAAA,CAAM2B,SAAa;IAAA,IAAI,EAAC;EAAA,CACzE;EAEDC,WAAA,CAAY,MAAM;IAChB,MAAM;MAAEC,IAAO;MAASf,IAAA;MAAMP,SAAW,EAAAuB,GAAA;MAAKf;IAAA,CAAS,GAAAf,KAAA;IAGnD,IAAA+B,OAAA,CAAQF,IAAI,CAAG;MACjB,MAAM,CAACG,CAAA,GAAI,CAAG,EAAAC,CAAA,GAAI,CAAC,CAAI,GAAAJ,IAAA;MACvBpB,cAAA,CAAeY,KAAQ,GAAAW,CAAA;MACvBrB,YAAA,CAAaU,KAAQ,GAAAY,CAAA;IAAA,CAChB;MACD,IAAAC,GAAA;MACA,IAAAC,QAAA,CAASN,IAAI,CAAG;QACZK,GAAA,GAAAL,IAAA;MAAA,CACD;QACCK,GAAA,GAAAvC,QAAA,CAASkC,IAAQ,gBAAYlC,QAAS,CAAAC,KAAA;MAAA;MAGzC,KAAAkB,IAAA,IAAQC,IAAS,KAAAe,GAAA,KAAQ,YAAc;QAC3BrB,cAAA,CAAAY,KAAA,GAAQV,YAAA,CAAaU,KAAQ,GAAAa,GAAA;MAAA,CACvC;QACL,IAAIJ,GAAA,KAAQ,YAAc;UACxBrB,cAAA,CAAeY,KAAQ,GAAAa,GAAA;UACvBvB,YAAA,CAAaU,KAAQ;QAAA,CAChB;UACLV,YAAA,CAAaU,KAAQ,GAAAa,GAAA;UACrBzB,cAAA,CAAeY,KAAQ;QAAA;MACzB;IACF;EACF,CACD;EAEM;IACLlB,OAAA;IACAS,cAAA;IACAY;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}