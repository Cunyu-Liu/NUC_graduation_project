{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { inject } from 'vue';\nimport { getFixedColumnOffset, ensurePosition, getFixedColumnsClass } from '../util.mjs';\nimport { TABLE_INJECTION_KEY } from '../tokens.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { isFunction, isString } from '@vue/shared';\nfunction useStyle(props) {\n  const parent = inject(TABLE_INJECTION_KEY);\n  const ns = useNamespace(\"table\");\n  const getHeaderRowStyle = rowIndex => {\n    const headerRowStyle = parent == null ? void 0 : parent.props.headerRowStyle;\n    if (isFunction(headerRowStyle)) {\n      return headerRowStyle.call(null, {\n        rowIndex\n      });\n    }\n    return headerRowStyle;\n  };\n  const getHeaderRowClass = rowIndex => {\n    const classes = [];\n    const headerRowClassName = parent == null ? void 0 : parent.props.headerRowClassName;\n    if (isString(headerRowClassName)) {\n      classes.push(headerRowClassName);\n    } else if (isFunction(headerRowClassName)) {\n      classes.push(headerRowClassName.call(null, {\n        rowIndex\n      }));\n    }\n    return classes.join(\" \");\n  };\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    var _a;\n    let headerCellStyles = (_a = parent == null ? void 0 : parent.props.headerCellStyle) != null ? _a : {};\n    if (isFunction(headerCellStyles)) {\n      headerCellStyles = headerCellStyles.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    const fixedStyle = getFixedColumnOffset(columnIndex, column.fixed, props.store, row);\n    ensurePosition(fixedStyle, \"left\");\n    ensurePosition(fixedStyle, \"right\");\n    return Object.assign({}, headerCellStyles, fixedStyle);\n  };\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const fixedClasses = getFixedColumnsClass(ns.b(), columnIndex, column.fixed, props.store, row);\n    const classes = [column.id, column.order, column.headerAlign, column.className, column.labelClassName, ...fixedClasses];\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n    const headerCellClassName = parent == null ? void 0 : parent.props.headerCellClassName;\n    if (isString(headerCellClassName)) {\n      classes.push(headerCellClassName);\n    } else if (isFunction(headerCellClassName)) {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    classes.push(ns.e(\"cell\"));\n    return classes.filter(className => Boolean(className)).join(\" \");\n  };\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\nexport { useStyle as default };","map":{"version":3,"names":["useStyle","props","parent","inject","TABLE_INJECTION_KEY","ns","useNamespace","getHeaderRowStyle","rowIndex","headerRowStyle","isFunction","call","getHeaderRowClass","classes","headerRowClassName","isString","push","join","getHeaderCellStyle","columnIndex","row","column","_a","headerCellStyles","headerCellStyle","fixedStyle","getFixedColumnOffset","fixed","store","ensurePosition","Object","assign","getHeaderCellClass","fixedClasses","getFixedColumnsClass","b","id","order","headerAlign","className","labelClassName","children","sortable","headerCellClassName","e","filter","Boolean"],"sources":["../../../../../../../packages/components/table/src/table-header/style.helper.ts"],"sourcesContent":["import { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isFunction, isString } from '@element-plus/utils'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\n\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { DefaultRow } from '../table/defaults'\nimport type { TableHeaderProps } from '.'\n\nfunction useStyle<T extends DefaultRow>(props: TableHeaderProps<T>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getHeaderRowStyle = (rowIndex: number) => {\n    const headerRowStyle = parent?.props.headerRowStyle\n    if (isFunction(headerRowStyle)) {\n      return headerRowStyle.call(null, { rowIndex })\n    }\n    return headerRowStyle\n  }\n\n  const getHeaderRowClass = (rowIndex: number): string => {\n    const classes: string[] = []\n    const headerRowClassName = parent?.props.headerRowClassName\n    if (isString(headerRowClassName)) {\n      classes.push(headerRowClassName)\n    } else if (isFunction(headerRowClassName)) {\n      classes.push(headerRowClassName.call(null, { rowIndex }))\n    }\n\n    return classes.join(' ')\n  }\n\n  const getHeaderCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    let headerCellStyles = parent?.props.headerCellStyle ?? {}\n    if (isFunction(headerCellStyles)) {\n      headerCellStyles = headerCellStyles.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = getFixedColumnOffset<T>(\n      columnIndex,\n      column.fixed,\n      props.store,\n      row as unknown as TableColumnCtx<T>[]\n    )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, headerCellStyles, fixedStyle)\n  }\n\n  const getHeaderCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const fixedClasses = getFixedColumnsClass<T>(\n      ns.b(),\n      columnIndex,\n      column.fixed,\n      props.store,\n      row as unknown as TableColumnCtx<T>[]\n    )\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName,\n      ...fixedClasses,\n    ]\n\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n\n    if (column.sortable) {\n      classes.push('is-sortable')\n    }\n\n    const headerCellClassName = parent?.props.headerCellClassName\n    if (isString(headerCellClassName)) {\n      classes.push(headerCellClassName)\n    } else if (isFunction(headerCellClassName)) {\n      classes.push(\n        headerCellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n\n    classes.push(ns.e('cell'))\n\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass,\n  }\n}\n\nexport default useStyle\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}