{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { defineComponent, provide, reactive, toRef, createVNode, createTextVNode, isVNode, cloneVNode } from 'vue';\nimport { ElTooltip } from '../../tooltip/index.mjs';\nimport Avatar from './avatar2.mjs';\nimport { avatarGroupContextKey } from './constants.mjs';\nimport { avatarGroupProps } from './avatar-group-props.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { flattedChildren } from '../../../utils/vue/vnode.mjs';\nvar AvatarGroup = defineComponent({\n  name: \"ElAvatarGroup\",\n  props: avatarGroupProps,\n  setup(props, {\n    slots\n  }) {\n    const ns = useNamespace(\"avatar-group\");\n    provide(avatarGroupContextKey, reactive({\n      size: toRef(props, \"size\"),\n      shape: toRef(props, \"shape\")\n    }));\n    return () => {\n      var _a, _b;\n      const avatars = flattedChildren((_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : []);\n      let visibleAvatars = avatars;\n      const showCollapseAvatar = props.collapseAvatars && avatars.length > props.maxCollapseAvatars;\n      if (showCollapseAvatar) {\n        visibleAvatars = avatars.slice(0, props.maxCollapseAvatars);\n        const hiddenAvatars = avatars.slice(props.maxCollapseAvatars);\n        visibleAvatars.push(createVNode(ElTooltip, {\n          \"popperClass\": props.popperClass,\n          \"popperStyle\": props.popperStyle,\n          \"placement\": props.placement,\n          \"effect\": props.effect,\n          \"disabled\": !props.collapseAvatarsTooltip\n        }, {\n          default: () => createVNode(Avatar, {\n            \"size\": props.size,\n            \"shape\": props.shape,\n            \"class\": props.collapseClass,\n            \"style\": props.collapseStyle\n          }, {\n            default: () => [createTextVNode(\"+ \"), hiddenAvatars.length]\n          }),\n          content: () => createVNode(\"div\", {\n            \"class\": ns.e(\"collapse-avatars\")\n          }, [hiddenAvatars.map((node, idx) => {\n            var _a2;\n            return isVNode(node) ? cloneVNode(node, {\n              key: (_a2 = node.key) != null ? _a2 : idx\n            }) : node;\n          })])\n        }));\n      }\n      return createVNode(\"div\", {\n        \"class\": ns.b()\n      }, [visibleAvatars]);\n    };\n  }\n});\nexport { AvatarGroup as default };","map":{"version":3,"names":["AvatarGroup","defineComponent","name","props","avatarGroupProps","setup","slots","ns","useNamespace","provide","avatarGroupContextKey","reactive","size","toRef","shape","_a","_b","avatars","flattedChildren","default","call","visibleAvatars","showCollapseAvatar","collapseAvatars","length","maxCollapseAvatars","slice","hiddenAvatars","push","createVNode","ElTooltip","popperClass","popperStyle","placement","effect","collapseAvatarsTooltip","Avatar","collapseClass","collapseStyle","createTextVNode","content","e","map","node","idx","_a2","isVNode","cloneVNode","key","b"],"sources":["../../../../../../packages/components/avatar/src/avatar-group.tsx"],"sourcesContent":["import {\n  cloneVNode,\n  defineComponent,\n  isVNode,\n  provide,\n  reactive,\n  toRef,\n} from 'vue'\nimport { flattedChildren } from '@element-plus/utils'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { useNamespace } from '@element-plus/hooks'\nimport ElAvatar from './avatar.vue'\nimport { avatarGroupContextKey } from './constants'\nimport { avatarGroupProps } from './avatar-group-props'\n\nexport default defineComponent({\n  name: 'ElAvatarGroup',\n  props: avatarGroupProps,\n  setup(props, { slots }) {\n    const ns = useNamespace('avatar-group')\n\n    provide(\n      avatarGroupContextKey,\n      reactive({\n        size: toRef(props, 'size'),\n        shape: toRef(props, 'shape'),\n      })\n    )\n\n    return () => {\n      const avatars = flattedChildren(slots.default?.() ?? [])\n      let visibleAvatars = avatars\n\n      const showCollapseAvatar =\n        props.collapseAvatars && avatars.length > props.maxCollapseAvatars\n\n      if (showCollapseAvatar) {\n        visibleAvatars = avatars.slice(0, props.maxCollapseAvatars)\n        const hiddenAvatars = avatars.slice(props.maxCollapseAvatars)\n\n        visibleAvatars.push(\n          <ElTooltip\n            popperClass={props.popperClass}\n            popperStyle={props.popperStyle}\n            placement={props.placement}\n            effect={props.effect}\n            disabled={!props.collapseAvatarsTooltip}\n          >\n            {{\n              default: () => (\n                <ElAvatar\n                  size={props.size}\n                  shape={props.shape}\n                  class={props.collapseClass}\n                  style={props.collapseStyle}\n                >\n                  + {hiddenAvatars.length}\n                </ElAvatar>\n              ),\n              content: () => (\n                <div class={ns.e('collapse-avatars')}>\n                  {hiddenAvatars.map((node, idx) =>\n                    isVNode(node)\n                      ? cloneVNode(node, { key: node.key ?? idx })\n                      : node\n                  )}\n                </div>\n              ),\n            }}\n          </ElTooltip>\n        )\n      }\n\n      return <div class={ns.b()}>{visibleAvatars}</div>\n    }\n  },\n})\n"],"mappings":";;;;;;;;;;AAeA,IAAAA,WAAA,GAAeC,eAAgB;EAC7BC,IAAM;EACNC,KAAO,EAAAC,gBAAA;EACPC,MAAMF,KAAO;IAAEG;EAAA,CAAS;IAChB,MAAAC,EAAA,GAAKC,YAAA,CAAa,cAAc;IAEtCC,OAAA,CACEC,qBAAA,EACAC,QAAS;MACPC,IAAA,EAAMC,KAAM,CAAAV,KAAA,EAAO,MAAM;MACzBW,KAAA,EAAOD,KAAM,CAAAV,KAAA,EAAO,OAAO;IAAA,CAC5B,CACH;IAEA,OAAO,MAAM;MA7BjB,IAAAY,EAAA,EAAAC,EAAA;MA8BM,MAAMC,OAAA,GAAUC,eAAgB,EAAAF,EAAA,IAAAD,EAAA,GAAAT,KAAA,CAAMa,OAAN,qBAAAJ,EAAA,CAAAK,IAAA,CAAAd,KAAA,aAAAU,EAAA,GAAqB,EAAE;MACvD,IAAIK,cAAiB,GAAAJ,OAAA;MAErB,MAAMK,kBACJ,GAAAnB,KAAA,CAAMoB,eAAmB,IAAAN,OAAA,CAAQO,MAAA,GAASrB,KAAM,CAAAsB,kBAAA;MAElD,IAAIH,kBAAoB;QACtBD,cAAA,GAAiBJ,OAAQ,CAAAS,KAAA,CAAM,CAAG,EAAAvB,KAAA,CAAMsB,kBAAkB;QAC1D,MAAME,aAAgB,GAAAV,OAAA,CAAQS,KAAM,CAAAvB,KAAA,CAAMsB,kBAAkB;QAE7CJ,cAAA,CAAAO,IAAA,CAAIC,WAAA,CAAAC,SAAA;UAAA,eAEF3B,KAAM,CAAA4B,WAAA;UAAW,eACjB5B,KAAM,CAAA6B,WAAA;UAAW,aACnB7B,KAAM,CAAA8B,SAAA;UAAS,UAClB9B,KAAM,CAAA+B,MAAA;UAAM,YACV,CAAC/B,KAAM,CAAAgC;QAAA,CAAsB;UAGrChB,OAAA,EAASA,CAAA,KAAAU,WAAA,CAAAO,MAAA;YAAA,QAECjC,KAAM,CAAAS,IAAA;YAAI,SACTT,KAAM,CAAAW,KAAA;YAAK,SACXX,KAAM,CAAAkC,aAAA;YAAa,SACnBlC,KAAM,CAAAmC;UAAA,CAAa;YAAAnB,OAAA,EAAAA,CAAA,MAAAoB,eAAA,CAEvB,OAAAZ,aAAA,CAAcH,MAAM;UAAA,CAE1B;UACDgB,OAAA,EAASA,CAAA,KAAAX,WAAA;YAAA,SACKtB,EAAG,CAAAkC,CAAA,CAAE,kBAAkB;UAAA,GAAC,CACjCd,aAAA,CAAce,GAAI,EAACC,IAAA,EAAMC,GACxB;YA9DpB,IAAAC,GAAA;YA8D4B,OAAAC,OAAA,CAAAH,IAAI,CACR,GAAAI,UAAA,CAAWJ,IAAM;cAAEK,GAAK,GAAAH,GAAA,GAAAF,IAAK,CAAAK,GAAA,KAAL,OAAAH,GAAY,GAAAD;YAAA,CAAK,CACzC,GAAAD,IAAA;UAAA,CACN,CAAC;QAAA,CAEJ,CAGP;MAAA;MAGF,OAAAd,WAAA;QAAA,SAAmBtB,EAAA,CAAG0C,CAAE;MAAA,CAAC,GAAG5B,cAAc;IAAA,CAC5C;EAAA;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}