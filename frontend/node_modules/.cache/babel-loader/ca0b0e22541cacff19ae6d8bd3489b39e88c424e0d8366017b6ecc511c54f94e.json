{"ast":null,"code":"import { defineComponent, ref, watch, toRef, computed, inject, openBlock, createElementBlock, normalizeStyle, unref, normalizeClass, createVNode, withCtx, renderSlot, createCommentVNode } from 'vue';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\nimport { tourContentProps, tourContentEmits } from './content.mjs';\nimport { useFloating, tourKey } from './helper.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nconst _hoisted_1 = [\"data-side\"];\nconst _sfc_main = defineComponent({\n  ...{\n    name: \"ElTourContent\"\n  },\n  __name: \"content\",\n  props: tourContentProps,\n  emits: tourContentEmits,\n  setup(__props, {\n    emit: __emit\n  }) {\n    const props = __props;\n    const emit = __emit;\n    const placement = ref(props.placement);\n    const strategy = ref(props.strategy);\n    const contentRef = ref(null);\n    const arrowRef = ref(null);\n    watch(() => props.placement, () => {\n      placement.value = props.placement;\n    });\n    const {\n      contentStyle,\n      arrowStyle\n    } = useFloating(toRef(props, \"reference\"), contentRef, arrowRef, placement, strategy, toRef(props, \"offset\"), toRef(props, \"zIndex\"), toRef(props, \"showArrow\"));\n    const side = computed(() => {\n      return placement.value.split(\"-\")[0];\n    });\n    const {\n      ns\n    } = inject(tourKey);\n    const onCloseRequested = () => {\n      emit(\"close\");\n    };\n    const onFocusoutPrevented = event => {\n      if (event.detail.focusReason === \"pointer\") {\n        event.preventDefault();\n      }\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"contentRef\",\n        ref: contentRef,\n        style: normalizeStyle(unref(contentStyle)),\n        class: normalizeClass(unref(ns).e(\"content\")),\n        \"data-side\": side.value,\n        tabindex: \"-1\"\n      }, [createVNode(unref(ElFocusTrap), {\n        loop: \"\",\n        trapped: \"\",\n        \"focus-start-el\": \"container\",\n        \"focus-trap-el\": contentRef.value || void 0,\n        onReleaseRequested: onCloseRequested,\n        onFocusoutPrevented\n      }, {\n        default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n        _: 3\n      }, 8, [\"focus-trap-el\"]), _ctx.showArrow ? (openBlock(), createElementBlock(\"span\", {\n        key: 0,\n        ref_key: \"arrowRef\",\n        ref: arrowRef,\n        style: normalizeStyle(unref(arrowStyle)),\n        class: normalizeClass(unref(ns).e(\"arrow\"))\n      }, null, 6)) : createCommentVNode(\"v-if\", true)], 14, _hoisted_1);\n    };\n  }\n});\nvar ElTourContent = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/tour/src/content.vue\"]]);\nexport { ElTourContent as default };","map":{"version":3,"names":["props","__props","emit","__emit","placement","ref","strategy","contentRef","arrowRef","watch","value","contentStyle","arrowStyle","useFloating","toRef","side","computed","split","ns","inject","tourKey","onCloseRequested","onFocusoutPrevented","event","detail","focusReason","preventDefault","createElementBlock","ref_key","style","normalizeStyle","unref","class","normalizeClass","e","tabindex","createVNode","ElFocusTrap","loop","trapped","onReleaseRequested","default","withCtx","renderSlot","_ctx","$slots","_","showArrow","openBlock","key"],"sources":["../../../../../../packages/components/tour/src/content.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"contentRef\"\n    :style=\"contentStyle\"\n    :class=\"ns.e('content')\"\n    :data-side=\"side\"\n    tabindex=\"-1\"\n  >\n    <el-focus-trap\n      loop\n      trapped\n      focus-start-el=\"container\"\n      :focus-trap-el=\"contentRef || undefined\"\n      @release-requested=\"onCloseRequested\"\n      @focusout-prevented=\"onFocusoutPrevented\"\n    >\n      <slot />\n    </el-focus-trap>\n    <span\n      v-if=\"showArrow\"\n      ref=\"arrowRef\"\n      :style=\"arrowStyle\"\n      :class=\"ns.e('arrow')\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, ref, toRef, watch } from 'vue'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport { tourContentEmits, tourContentProps } from './content'\nimport { tourKey, useFloating } from './helper'\n\ndefineOptions({\n  name: 'ElTourContent',\n})\n\nconst props = defineProps(tourContentProps)\nconst emit = defineEmits(tourContentEmits)\n\nconst placement = ref(props.placement)\nconst strategy = ref(props.strategy)\nconst contentRef = ref<HTMLElement | null>(null)\nconst arrowRef = ref<HTMLElement | null>(null)\n\nwatch(\n  () => props.placement,\n  () => {\n    placement.value = props.placement\n  }\n)\n\nconst { contentStyle, arrowStyle } = useFloating(\n  toRef(props, 'reference'),\n  contentRef,\n  arrowRef,\n  placement,\n  strategy,\n  toRef(props, 'offset'),\n  toRef(props, 'zIndex'),\n  toRef(props, 'showArrow')\n)\n\nconst side = computed(() => {\n  return placement.value.split('-')[0]\n})\n\nconst { ns } = inject(tourKey)!\n\nconst onCloseRequested = () => {\n  emit('close')\n}\n\nconst onFocusoutPrevented = (event: CustomEvent) => {\n  if (event.detail.focusReason === 'pointer') {\n    event.preventDefault()\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;IAqCA,MAAMA,KAAQ,GAAAC,OAAA;IACd,MAAMC,IAAO,GAAAC,MAAA;IAEP,MAAAC,SAAA,GAAYC,GAAI,CAAAL,KAAA,CAAMI,SAAS;IAC/B,MAAAE,QAAA,GAAWD,GAAI,CAAAL,KAAA,CAAMM,QAAQ;IAC7B,MAAAC,UAAA,GAAaF,GAAA,CAAwB,IAAI;IACzC,MAAAG,QAAA,GAAWH,GAAA,CAAwB,IAAI;IAE7CI,KAAA,CACE,MAAMT,KAAM,CAAAI,SAAA,EACZ,MAAM;MACJA,SAAA,CAAUM,KAAA,GAAQV,KAAM,CAAAI,SAAA;IAAA,CAC1B,CACF;IAEM;MAAEO,YAAc;MAAAC;IAAA,CAAe,GAAAC,WAAA,CACnCC,KAAA,CAAMd,KAAA,EAAO,WAAW,GACxBO,UAAA,EACAC,QAAA,EACAJ,SAAA,EACAE,QAAA,EACAQ,KAAA,CAAMd,KAAA,EAAO,QAAQ,GACrBc,KAAA,CAAMd,KAAA,EAAO,QAAQ,GACrBc,KAAA,CAAMd,KAAA,EAAO,WAAW,EAC1B;IAEM,MAAAe,IAAA,GAAOC,QAAA,CAAS,MAAM;MAC1B,OAAOZ,SAAU,CAAAM,KAAA,CAAMO,KAAM,IAAG,CAAE;IAAA,CACnC;IAED,MAAM;MAAEC;IAAA,CAAO,GAAAC,MAAA,CAAOC,OAAO;IAE7B,MAAMC,gBAAA,GAAmBA,CAAA,KAAM;MAC7BnB,IAAA,CAAK,OAAO;IAAA,CACd;IAEM,MAAAoB,mBAAA,GAAuBC,KAAuB;MAC9C,IAAAA,KAAA,CAAMC,MAAO,CAAAC,WAAA,KAAgB,SAAW;QAC1CF,KAAA,CAAMG,cAAe;MAAA;IACvB,CACF;;wBA5EE,EAAAC,kBAAA,CAuBM;QAtBAC,OAAA;QAAJvB,GAAI,EAAAE,UAAA;QACHsB,KAAK,EAAAC,cAAA,CAAEC,KAAY,CAAApB,YAAA;QACnBqB,KAAA,EAAKC,cAAE,CAAAF,KAAA,CAAAb,EAAA,CAAG,CAAAgB,CAAA,CAAC;QACX,aAAWnB,IAAA,CAAAL,KAAA;QACZyB,QAAS;MAAA,IAETC,WAAA,CASgBL,KAAA,CAAAM,WAAA;QARdC,IAAA;QACAC,OAAA;QACA,gBAAe;QACd,iBAAehC,UAAA,CAAcG,KAAA;QAC7B8B,kBAAmB,EAAAnB,gBAAA;QACnBC;MAAA;QAAAmB,OAAA,EAAAC,OAAA,CAED,MAAQ,CAARC,UAAA,CAAQC,IAAA,CAAAC,MAAA;QAAAC,CAAA;gCAGFF,IAAA,CADRG,SAAA,IAAAC,SAAA,IAAArB,kBAAA,CAKE;QAAAsB,GAAA;QAHIrB,OAAA;QAAJvB,GAAI,EAAAG,QAAA;QACHqB,KAAK,EAAAC,cAAA,CAAEC,KAAU,CAAAnB,UAAA;QACjBoB,KAAA,EAAKC,cAAE,CAAAF,KAAA,CAAAb,EAAA,CAAG,CAAAgB,CAAA,CAAC;MAAA,S","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}