{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { isVNode, render, createVNode } from 'vue';\nimport MessageConstructor from './message2.mjs';\nimport { messageTypes, MESSAGE_DEFAULT_PLACEMENT, messageDefaults, messagePlacement } from './message.mjs';\nimport { getOrCreatePlacementInstances, placementInstances } from './instance.mjs';\nimport { messageConfig } from '../../config-provider/src/config-provider.mjs';\nimport { isClient } from '@vueuse/core';\nimport { isNumber, isBoolean, isElement } from '../../../utils/types.mjs';\nimport { hasOwn, isString, isFunction } from '@vue/shared';\nimport { debugWarn } from '../../../utils/error.mjs';\nlet seed = 1;\nconst normalizeAppendTo = normalized => {\n  const appendTo = normalized.appendTo;\n  if (!appendTo) {\n    normalized.appendTo = document.body;\n  } else if (isString(normalized.appendTo)) {\n    let appendTo2 = document.querySelector(normalized.appendTo);\n    if (!isElement(appendTo2)) {\n      debugWarn(\"ElMessage\", \"the appendTo option is not an HTMLElement. Falling back to document.body.\");\n      appendTo2 = document.body;\n    }\n    normalized.appendTo = appendTo2;\n  }\n};\nconst normalizePlacement = normalized => {\n  if (!normalized.placement && isString(messageConfig.placement) && messageConfig.placement) {\n    normalized.placement = messageConfig.placement;\n  }\n  if (!normalized.placement) {\n    normalized.placement = MESSAGE_DEFAULT_PLACEMENT;\n  }\n  if (!messagePlacement.includes(normalized.placement)) {\n    debugWarn(\"ElMessage\", `Invalid placement: ${normalized.placement}. Falling back to '${MESSAGE_DEFAULT_PLACEMENT}'.`);\n    normalized.placement = MESSAGE_DEFAULT_PLACEMENT;\n  }\n};\nconst normalizeOptions = params => {\n  const options = !params || isString(params) || isVNode(params) || isFunction(params) ? {\n    message: params\n  } : params;\n  const normalized = {\n    ...messageDefaults,\n    ...options\n  };\n  normalizeAppendTo(normalized);\n  normalizePlacement(normalized);\n  if (isBoolean(messageConfig.grouping) && !normalized.grouping) {\n    normalized.grouping = messageConfig.grouping;\n  }\n  if (isNumber(messageConfig.duration) && normalized.duration === 3e3) {\n    normalized.duration = messageConfig.duration;\n  }\n  if (isNumber(messageConfig.offset) && normalized.offset === 16) {\n    normalized.offset = messageConfig.offset;\n  }\n  if (isBoolean(messageConfig.showClose) && !normalized.showClose) {\n    normalized.showClose = messageConfig.showClose;\n  }\n  if (isBoolean(messageConfig.plain) && !normalized.plain) {\n    normalized.plain = messageConfig.plain;\n  }\n  return normalized;\n};\nconst closeMessage = instance => {\n  const placement = instance.props.placement || MESSAGE_DEFAULT_PLACEMENT;\n  const instances = placementInstances[placement];\n  const idx = instances.indexOf(instance);\n  if (idx === -1) return;\n  instances.splice(idx, 1);\n  const {\n    handler\n  } = instance;\n  handler.close();\n};\nconst createMessage = ({\n  appendTo,\n  ...options\n}, context) => {\n  const id = `message_${seed++}`;\n  const userOnClose = options.onClose;\n  const container = document.createElement(\"div\");\n  const props = {\n    ...options,\n    id,\n    onClose: () => {\n      userOnClose == null ? void 0 : userOnClose();\n      closeMessage(instance);\n    },\n    onDestroy: () => {\n      render(null, container);\n    }\n  };\n  const vnode = createVNode(MessageConstructor, props, isFunction(props.message) || isVNode(props.message) ? {\n    default: isFunction(props.message) ? props.message : () => props.message\n  } : null);\n  vnode.appContext = context || message._context;\n  render(vnode, container);\n  appendTo.appendChild(container.firstElementChild);\n  const vm = vnode.component;\n  const handler = {\n    close: () => {\n      vm.exposed.close();\n    }\n  };\n  const instance = {\n    id,\n    vnode,\n    vm,\n    handler,\n    props: vnode.component.props\n  };\n  return instance;\n};\nconst message = (options = {}, context) => {\n  if (!isClient) return {\n    close: () => void 0\n  };\n  const normalized = normalizeOptions(options);\n  const instances = getOrCreatePlacementInstances(normalized.placement || MESSAGE_DEFAULT_PLACEMENT);\n  if (normalized.grouping && instances.length) {\n    const instance2 = instances.find(({\n      vnode: vm\n    }) => {\n      var _a;\n      return ((_a = vm.props) == null ? void 0 : _a.message) === normalized.message;\n    });\n    if (instance2) {\n      instance2.props.repeatNum += 1;\n      instance2.props.type = normalized.type;\n      return instance2.handler;\n    }\n  }\n  if (isNumber(messageConfig.max) && instances.length >= messageConfig.max) {\n    return {\n      close: () => void 0\n    };\n  }\n  const instance = createMessage(normalized, context);\n  instances.push(instance);\n  return instance.handler;\n};\nmessageTypes.forEach(type => {\n  message[type] = (options = {}, appContext) => {\n    const normalized = normalizeOptions(options);\n    return message({\n      ...normalized,\n      type\n    }, appContext);\n  };\n});\nfunction closeAll(type) {\n  for (const placement in placementInstances) {\n    if (hasOwn(placementInstances, placement)) {\n      const instances = [...placementInstances[placement]];\n      for (const instance of instances) {\n        if (!type || type === instance.props.type) {\n          instance.handler.close();\n        }\n      }\n    }\n  }\n}\nfunction closeAllByPlacement(placement) {\n  if (!placementInstances[placement]) return;\n  const instances = [...placementInstances[placement]];\n  instances.forEach(instance => instance.handler.close());\n}\nmessage.closeAll = closeAll;\nmessage.closeAllByPlacement = closeAllByPlacement;\nmessage._context = null;\nexport { closeAll, closeAllByPlacement, message as default };","map":{"version":3,"names":["seed","normalizeAppendTo","normalized","appendTo","document","body","isString","appendTo2","querySelector","isElement","debugWarn","normalizePlacement","placement","messageConfig","MESSAGE_DEFAULT_PLACEMENT","messagePlacement","includes","normalizeOptions","params","options","isVNode","isFunction","message","messageDefaults","isBoolean","grouping","isNumber","duration","offset","showClose","plain","closeMessage","instance","props","instances","placementInstances","idx","indexOf","splice","handler","close","createMessage","context","id","userOnClose","onClose","container","createElement","onDestroy","render","vnode","createVNode","MessageConstructor","default","appContext","_context","appendChild","firstElementChild","vm","component","exposed","isClient","getOrCreatePlacementInstances","length","instance2","find","_a","repeatNum","type","max","push","messageTypes","forEach","closeAll","hasOwn","closeAllByPlacement"],"sources":["../../../../../../packages/components/message/src/method.ts"],"sourcesContent":["import { createVNode, isVNode, render } from 'vue'\nimport {\n  debugWarn,\n  hasOwn,\n  isBoolean,\n  isClient,\n  isElement,\n  isFunction,\n  isNumber,\n  isString,\n} from '@element-plus/utils'\nimport { messageConfig } from '@element-plus/components/config-provider'\nimport MessageConstructor from './message.vue'\nimport {\n  MESSAGE_DEFAULT_PLACEMENT,\n  messageDefaults,\n  messagePlacement,\n  messageTypes,\n} from './message'\nimport { getOrCreatePlacementInstances, placementInstances } from './instance'\n\nimport type { MessageContext } from './instance'\nimport type { AppContext } from 'vue'\nimport type {\n  Message,\n  MessageFn,\n  MessageHandler,\n  MessageOptions,\n  MessageParams,\n  MessageParamsNormalized,\n  MessagePlacement,\n  MessageType,\n} from './message'\n\nlet seed = 1\n\n// TODO: Since Notify.ts is basically the same like this file. So we could do some encapsulation against them to reduce code duplication.\n\nconst normalizeAppendTo = (normalized: MessageOptions) => {\n  const appendTo = normalized.appendTo\n  if (!appendTo) {\n    normalized.appendTo = document.body\n  } else if (isString(normalized.appendTo)) {\n    let appendTo = document.querySelector<HTMLElement>(normalized.appendTo)\n\n    // should fallback to default value with a warning\n    if (!isElement(appendTo)) {\n      debugWarn(\n        'ElMessage',\n        'the appendTo option is not an HTMLElement. Falling back to document.body.'\n      )\n      appendTo = document.body\n    }\n    normalized.appendTo = appendTo\n  }\n}\n\nconst normalizePlacement = (normalized: MessageOptions) => {\n  // if placement is not passed and global has config, use global config\n  if (\n    !normalized.placement &&\n    isString(messageConfig.placement) &&\n    messageConfig.placement\n  ) {\n    normalized.placement = messageConfig.placement as\n      | MessagePlacement\n      | undefined\n  }\n  // if placement is not passed and global has no config, use default config\n  if (!normalized.placement) {\n    normalized.placement = MESSAGE_DEFAULT_PLACEMENT\n  }\n  // if placement is not valid, use default config\n  if (!messagePlacement.includes(normalized.placement!)) {\n    debugWarn(\n      'ElMessage',\n      `Invalid placement: ${normalized.placement}. Falling back to '${MESSAGE_DEFAULT_PLACEMENT}'.`\n    )\n    normalized.placement = MESSAGE_DEFAULT_PLACEMENT\n  }\n}\n\nconst normalizeOptions = (params?: MessageParams) => {\n  const options: MessageOptions =\n    !params || isString(params) || isVNode(params) || isFunction(params)\n      ? { message: params }\n      : params\n\n  const normalized: MessageOptions = {\n    ...messageDefaults,\n    ...options,\n  }\n\n  normalizeAppendTo(normalized)\n  normalizePlacement(normalized)\n\n  // When grouping is configured globally,\n  // if grouping is manually set when calling message individually and it is not equal to the default value,\n  // the global configuration cannot override the current setting. default => false\n  if (isBoolean(messageConfig.grouping) && !normalized.grouping) {\n    normalized.grouping = messageConfig.grouping\n  }\n  if (isNumber(messageConfig.duration) && normalized.duration === 3000) {\n    normalized.duration = messageConfig.duration\n  }\n  if (isNumber(messageConfig.offset) && normalized.offset === 16) {\n    normalized.offset = messageConfig.offset\n  }\n  if (isBoolean(messageConfig.showClose) && !normalized.showClose) {\n    normalized.showClose = messageConfig.showClose\n  }\n  if (isBoolean(messageConfig.plain) && !normalized.plain) {\n    normalized.plain = messageConfig.plain\n  }\n\n  return normalized as MessageParamsNormalized\n}\n\nconst closeMessage = (instance: MessageContext) => {\n  const placement = instance.props.placement || MESSAGE_DEFAULT_PLACEMENT\n  const instances = placementInstances[placement]\n\n  const idx = instances.indexOf(instance)\n  if (idx === -1) return\n  instances.splice(idx, 1)\n  const { handler } = instance\n  handler.close()\n}\n\nconst createMessage = (\n  { appendTo, ...options }: MessageParamsNormalized,\n  context?: AppContext | null\n): MessageContext => {\n  const id = `message_${seed++}`\n  const userOnClose = options.onClose\n\n  const container = document.createElement('div')\n\n  const props = {\n    ...options,\n    // now the zIndex will be used inside the message.vue component instead of here.\n    // zIndex: nextIndex() + options.zIndex\n    id,\n    onClose: () => {\n      userOnClose?.()\n      closeMessage(instance)\n    },\n\n    // clean message element preventing mem leak\n    onDestroy: () => {\n      // since the element is destroy, then the VNode should be collected by GC as well\n      // we do not want cause any mem leak because we have returned vm as a reference to users\n      // so that we manually set it to false.\n      render(null, container)\n    },\n  }\n  const vnode = createVNode(\n    MessageConstructor,\n    props,\n    isFunction(props.message) || isVNode(props.message)\n      ? {\n          default: isFunction(props.message)\n            ? props.message\n            : () => props.message,\n        }\n      : null\n  )\n  vnode.appContext = context || message._context\n\n  render(vnode, container)\n  // instances will remove this item when close function gets called. So we do not need to worry about it.\n  appendTo.appendChild(container.firstElementChild!)\n\n  const vm = vnode.component!\n\n  const handler: MessageHandler = {\n    // instead of calling the onClose function directly, setting this value so that we can have the full lifecycle\n    // for out component, so that all closing steps will not be skipped.\n    close: () => {\n      vm.exposed!.close()\n    },\n  }\n\n  const instance: MessageContext = {\n    id,\n    vnode,\n    vm,\n    handler,\n    props: (vnode.component as any).props,\n  }\n\n  return instance\n}\n\nconst message: MessageFn &\n  Partial<Message> & { _context: AppContext | null } = (\n  options = {},\n  context\n) => {\n  if (!isClient) return { close: () => undefined }\n\n  const normalized = normalizeOptions(options)\n  const instances = getOrCreatePlacementInstances(\n    normalized.placement || MESSAGE_DEFAULT_PLACEMENT\n  )\n\n  if (normalized.grouping && instances.length) {\n    const instance = instances.find(\n      ({ vnode: vm }) => vm.props?.message === normalized.message\n    )\n    if (instance) {\n      instance.props.repeatNum += 1\n      instance.props.type = normalized.type\n      return instance.handler\n    }\n  }\n\n  if (isNumber(messageConfig.max) && instances.length >= messageConfig.max) {\n    return { close: () => undefined }\n  }\n\n  const instance = createMessage(normalized, context)\n\n  instances.push(instance)\n  return instance.handler\n}\n\nmessageTypes.forEach((type) => {\n  message[type] = (options = {}, appContext) => {\n    const normalized = normalizeOptions(options)\n    return message({ ...normalized, type }, appContext)\n  }\n})\n\nexport function closeAll(type?: MessageType): void {\n  for (const placement in placementInstances) {\n    if (hasOwn(placementInstances, placement)) {\n      // Create a copy of instances to avoid modification during iteration\n      const instances: MessageContext[] = [...placementInstances[placement]]\n      for (const instance of instances) {\n        if (!type || type === instance.props.type) {\n          instance.handler.close()\n        }\n      }\n    }\n  }\n}\n\nexport function closeAllByPlacement(placement: MessagePlacement) {\n  if (!placementInstances[placement]) return\n  // Create a copy of instances to avoid modification during iteration\n  const instances = [...placementInstances[placement]]\n  instances.forEach((instance) => instance.handler.close())\n}\n\nmessage.closeAll = closeAll\nmessage.closeAllByPlacement = closeAllByPlacement\nmessage._context = null\n\nexport default message as Message\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}