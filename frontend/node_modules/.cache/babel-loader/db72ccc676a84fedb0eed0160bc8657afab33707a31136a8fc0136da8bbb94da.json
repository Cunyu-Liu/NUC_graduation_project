{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { inject, computed, h } from 'vue';\nimport { merge } from 'lodash-unified';\nimport { getRowIdentity } from '../util.mjs';\nimport { TABLE_INJECTION_KEY } from '../tokens.mjs';\nimport useEvents from './events-helper.mjs';\nimport useStyles from './styles-helper.mjs';\nimport TdWrapper from './td-wrapper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { isBoolean, isPropAbsent } from '../../../../utils/types.mjs';\nfunction useRender(props) {\n  const parent = inject(TABLE_INJECTION_KEY);\n  const ns = useNamespace(\"table\");\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props);\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props);\n  let displayIndex = -1;\n  const firstDefaultColumnIndex = computed(() => {\n    var _a;\n    return (_a = props.store) == null ? void 0 : _a.states.columns.value.findIndex(({\n      type\n    }) => type === \"default\");\n  });\n  const getKeyOfRow = (row, index) => {\n    var _a;\n    const rowKey = (_a = parent == null ? void 0 : parent.props) == null ? void 0 : _a.rowKey;\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n    return index;\n  };\n  const rowRender = (row, $index, treeRowData, expanded = false) => {\n    const {\n      tooltipEffect,\n      tooltipOptions,\n      store\n    } = props;\n    const {\n      indent,\n      columns\n    } = store.states;\n    const rowClasses = [];\n    let display = true;\n    if (treeRowData) {\n      rowClasses.push(ns.em(\"row\", `level-${treeRowData.level}`));\n      display = !!treeRowData.display;\n    }\n    if ($index === 0) {\n      displayIndex = -1;\n    }\n    if (props.stripe && display) {\n      displayIndex++;\n    }\n    rowClasses.push(...getRowClass(row, $index, displayIndex));\n    const displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: $event => handleDoubleClick($event, row),\n      onClick: $event => handleClick($event, row),\n      onContextmenu: $event => handleContextMenu($event, row),\n      onMouseenter: () => handleMouseEnter($index),\n      onMouseleave: handleMouseLeave\n    }, columns.value.map((column, cellIndex) => {\n      const {\n        rowspan,\n        colspan\n      } = getSpan(row, column, $index, cellIndex);\n      if (!rowspan || !colspan) {\n        return null;\n      }\n      const columnData = Object.assign({}, column);\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      const data = {\n        store,\n        _self: props.context || parent,\n        column: columnData,\n        row,\n        $index,\n        cellIndex,\n        expanded\n      };\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level && treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n        if (isBoolean(treeRowData.expanded)) {\n          data.treeNode.expanded = treeRowData.expanded;\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n      const baseKey = `${getKeyOfRow(row, $index)},${cellIndex}`;\n      const patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      const mergedTooltipOptions = column.showOverflowTooltip && merge({\n        effect: tooltipEffect\n      }, tooltipOptions, column.showOverflowTooltip);\n      return h(TdWrapper, {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column, colspan - 1),\n        key: `${patchKey}${baseKey}`,\n        rowspan,\n        colspan,\n        onMouseenter: $event => handleCellMouseEnter($event, row, mergedTooltipOptions),\n        onMouseleave: handleCellMouseLeave\n      }, {\n        default: () => cellChildren(cellIndex, column, data)\n      });\n    }));\n  };\n  const cellChildren = (_cellIndex, column, data) => {\n    return column.renderCell(data);\n  };\n  const wrappedRowRender = (row, $index) => {\n    const store = props.store;\n    const {\n      isRowExpanded,\n      assertRowKey\n    } = store;\n    const {\n      treeData,\n      lazyTreeNodeMap,\n      childrenColumnName,\n      rowKey\n    } = store.states;\n    const columns = store.states.columns.value;\n    const hasExpandColumn = columns.some(({\n      type\n    }) => type === \"expand\");\n    if (hasExpandColumn) {\n      const expanded = isRowExpanded(row);\n      const tr = rowRender(row, $index, void 0, expanded);\n      const renderExpanded = parent == null ? void 0 : parent.renderExpanded;\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n      const rows = [[tr]];\n      if (parent.props.preserveExpandedContent || expanded) {\n        rows[0].push(h(\"tr\", {\n          key: `expanded-row__${tr.key}`,\n          style: {\n            display: expanded ? \"\" : \"none\"\n          }\n        }, [h(\"td\", {\n          colspan: columns.length,\n          class: `${ns.e(\"cell\")} ${ns.e(\"expanded-cell\")}`\n        }, [renderExpanded({\n          row,\n          $index,\n          store,\n          expanded\n        })])]));\n      }\n      return rows;\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      const key = getRowIdentity(row, rowKey.value);\n      let cur = treeData.value[key];\n      let treeRowData = null;\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true,\n          noLazyChildren: void 0,\n          loading: void 0\n        };\n        if (isBoolean(cur.lazy)) {\n          if (treeRowData && isBoolean(cur.loaded) && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n          treeRowData.loading = cur.loading;\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData != null ? treeRowData : void 0)];\n      if (cur) {\n        let i = 0;\n        const traverse = (children, parent2) => {\n          if (!(children && children.length && parent2)) return;\n          children.forEach(node => {\n            const innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            const childKey = getRowIdentity(node, rowKey.value);\n            if (isPropAbsent(childKey)) {\n              throw new Error(\"For nested data item, row-key is required.\");\n            }\n            cur = {\n              ...treeData.value[childKey]\n            };\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n              if (isBoolean(cur.lazy)) {\n                if (isBoolean(cur.loaded) && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n            if (cur) {\n              const nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n        cur.display = true;\n        const nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\nexport { useRender as default };","map":{"version":3,"names":["useRender","props","parent","inject","TABLE_INJECTION_KEY","ns","useNamespace","handleDoubleClick","handleClick","handleContextMenu","handleMouseEnter","handleMouseLeave","handleCellMouseEnter","handleCellMouseLeave","tooltipContent","tooltipTrigger","useEvents","getRowStyle","getRowClass","getCellStyle","getCellClass","getSpan","getColspanRealWidth","useStyles","displayIndex","firstDefaultColumnIndex","computed","_a","store","states","columns","value","findIndex","type","getKeyOfRow","row","index","rowKey","getRowIdentity","rowRender","$index","treeRowData","expanded","tooltipEffect","tooltipOptions","indent","rowClasses","display","push","em","level","stripe","displayStyle","h","style","class","key","onDblclick","$event","onClick","onContextmenu","onMouseenter","onMouseleave","map","column","cellIndex","rowspan","colspan","columnData","Object","assign","realWidth","data","_self","context","treeNode","isBoolean","loading","noLazyChildren","baseKey","patchKey","columnKey","rawColumnKey","mergedTooltipOptions","showOverflowTooltip","merge","effect","TdWrapper","default","cellChildren","_cellIndex","renderCell","wrappedRowRender","isRowExpanded","assertRowKey","treeData","lazyTreeNodeMap","childrenColumnName","hasExpandColumn","some","tr","renderExpanded","console","error","rows","preserveExpandedContent","length","e","keys","cur","lazy","loaded","children","tmp","i","traverse","parent2","forEach","node","innerTreeRowData","childKey","isPropAbsent","Error","nodes2","nodes"],"sources":["../../../../../../../packages/components/table/src/table-body/render-helper.ts"],"sourcesContent":["import { computed, h, inject } from 'vue'\nimport { merge } from 'lodash-unified'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isBoolean, isPropAbsent } from '@element-plus/utils'\nimport { getRowIdentity } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useEvents from './events-helper'\nimport useStyles from './styles-helper'\nimport TdWrapper from './td-wrapper.vue'\n\nimport type { TableBodyProps } from './defaults'\nimport type {\n  DefaultRow,\n  RenderRowData,\n  Table,\n  TableColumnCtx,\n  TableProps,\n  TreeNode,\n} from '../table/defaults'\nimport type { TreeData } from '../store/tree'\nimport type { TableOverflowTooltipOptions } from '../util'\n\nfunction useRender<T extends DefaultRow>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY) as Table<T>\n  const ns = useNamespace('table')\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger,\n  } = useEvents(props)\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n  } = useStyles(props)\n\n  let displayIndex = -1\n\n  const firstDefaultColumnIndex = computed(() => {\n    return props.store?.states.columns.value.findIndex(\n      ({ type }) => type === 'default'\n    )\n  })\n  const getKeyOfRow = (row: T, index: number) => {\n    const rowKey = (parent?.props as Partial<TableProps<T>>)?.rowKey\n    if (rowKey) {\n      return getRowIdentity(row, rowKey)\n    }\n    return index\n  }\n  const rowRender = (\n    row: T,\n    $index: number,\n    treeRowData?: TreeNode,\n    expanded = false\n  ) => {\n    const { tooltipEffect, tooltipOptions, store } = props\n    const { indent, columns } = store!.states\n    const rowClasses = []\n    let display = true\n    if (treeRowData) {\n      rowClasses.push(ns.em('row', `level-${treeRowData.level}`))\n      display = !!treeRowData.display\n    }\n    if ($index === 0) {\n      displayIndex = -1\n    }\n    if (props.stripe && display) {\n      displayIndex++\n    }\n    rowClasses.push(...getRowClass(row, $index, displayIndex))\n    const displayStyle = display ? null : { display: 'none' }\n    return h(\n      'tr',\n      {\n        style: [displayStyle, getRowStyle(row, $index)],\n        class: rowClasses,\n        key: getKeyOfRow(row, $index),\n        onDblclick: ($event: Event) => handleDoubleClick($event, row),\n        onClick: ($event: Event) => handleClick($event, row),\n        onContextmenu: ($event: Event) => handleContextMenu($event, row),\n        onMouseenter: () => handleMouseEnter($index),\n        onMouseleave: handleMouseLeave,\n      },\n      columns.value.map((column, cellIndex) => {\n        const { rowspan, colspan } = getSpan(row, column, $index, cellIndex)\n        if (!rowspan || !colspan) {\n          return null\n        }\n        const columnData = Object.assign({}, column)\n        columnData.realWidth = getColspanRealWidth(\n          columns.value,\n          colspan,\n          cellIndex\n        )\n        const data: RenderRowData<T> = {\n          store: store!,\n          _self: props.context || parent!,\n          column: columnData,\n          row,\n          $index,\n          cellIndex,\n          expanded,\n        }\n        if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n          data.treeNode = {\n            indent: treeRowData.level && treeRowData.level * indent.value,\n            level: treeRowData.level,\n          }\n          if (isBoolean(treeRowData.expanded)) {\n            data.treeNode.expanded = treeRowData.expanded\n            // 表明是懒加载\n            if ('loading' in treeRowData) {\n              data.treeNode.loading = treeRowData.loading\n            }\n            if ('noLazyChildren' in treeRowData) {\n              data.treeNode.noLazyChildren = treeRowData.noLazyChildren\n            }\n          }\n        }\n        const baseKey = `${getKeyOfRow(row, $index)},${cellIndex}`\n        const patchKey = columnData.columnKey || columnData.rawColumnKey || ''\n        const mergedTooltipOptions =\n          column.showOverflowTooltip &&\n          merge(\n            {\n              effect: tooltipEffect,\n            },\n            tooltipOptions,\n            column.showOverflowTooltip\n          )\n        return h(\n          TdWrapper,\n          {\n            style: getCellStyle($index, cellIndex, row, column),\n            class: getCellClass($index, cellIndex, row, column, colspan - 1),\n            key: `${patchKey}${baseKey}`,\n            rowspan,\n            colspan,\n            onMouseenter: ($event: MouseEvent) =>\n              handleCellMouseEnter(\n                $event,\n                row,\n                mergedTooltipOptions as TableOverflowTooltipOptions\n              ),\n            onMouseleave: handleCellMouseLeave,\n          },\n          {\n            default: () => cellChildren(cellIndex, column, data),\n          }\n        )\n      })\n    )\n  }\n  const cellChildren = <T extends DefaultRow>(\n    _cellIndex: number,\n    column: TableColumnCtx<T>,\n    data: RenderRowData<T>\n  ) => {\n    return column.renderCell(data)\n  }\n\n  const wrappedRowRender = (row: T, $index: number) => {\n    const store = props.store!\n    const { isRowExpanded, assertRowKey } = store\n    const { treeData, lazyTreeNodeMap, childrenColumnName, rowKey } =\n      store.states\n    const columns = store.states.columns.value\n    const hasExpandColumn = columns.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      const expanded = isRowExpanded(row)\n      const tr = rowRender(row, $index, undefined, expanded)\n      const renderExpanded = parent?.renderExpanded\n      if (!renderExpanded) {\n        console.error('[Element Error]renderExpanded is required.')\n        return tr\n      }\n\n      // 在没设置时候避免 h 执行\n      // 非保留模式且未展开时，直接返回\n      // 使用二维数组包装，避免修改 $index\n      const rows = [[tr]]\n\n      // 仅在需要时创建展开行（保留模式或展开状态）\n      if (parent.props.preserveExpandedContent || expanded) {\n        rows[0].push(\n          h(\n            'tr',\n            {\n              key: `expanded-row__${tr.key as string}`,\n              style: { display: expanded ? '' : 'none' },\n            },\n            [\n              h(\n                'td',\n                {\n                  colspan: columns.length,\n                  class: `${ns.e('cell')} ${ns.e('expanded-cell')}`,\n                },\n                [renderExpanded({ row, $index, store, expanded })]\n              ),\n            ]\n          )\n        )\n      }\n\n      return rows\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey()\n      // TreeTable 时，rowKey 必须由用户设定，不使用 getKeyOfRow 计算\n      // 在调用 rowRender 函数时，仍然会计算 rowKey，不太好的操作\n      const key = getRowIdentity(row, rowKey.value)\n      let cur = treeData.value[key]\n      let treeRowData = null\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true,\n          noLazyChildren: undefined as boolean | undefined,\n          loading: undefined as boolean | undefined,\n        }\n        if (isBoolean(cur.lazy)) {\n          if (treeRowData && isBoolean(cur.loaded) && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length)\n          }\n          treeRowData.loading = cur.loading\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData ?? undefined)]\n      // 渲染嵌套数据\n      if (cur) {\n        // currentRow 记录的是 index，所以还需主动增加 TreeTable 的 index\n        let i = 0\n        const traverse = (children: T[], parent: TreeData) => {\n          if (!(children && children.length && parent)) return\n          children.forEach((node) => {\n            // 父节点的 display 状态影响子节点的显示状态\n            const innerTreeRowData: Partial<Record<string, any>> = {\n              display: parent.display && parent.expanded,\n              level: parent.level! + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false,\n            }\n            const childKey = getRowIdentity(node, rowKey.value)\n            if (isPropAbsent(childKey)) {\n              throw new Error('For nested data item, row-key is required.')\n            }\n            cur = { ...treeData.value[childKey] }\n            // 对于当前节点，分成有无子节点两种情况。\n            // 如果包含子节点的，设置 expanded 属性。\n            // 对于它子节点的 display 属性由它本身的 expanded 与 display 共同决定。\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded\n              // 懒加载的某些节点，level 未知\n              cur.level = cur.level || innerTreeRowData.level\n              cur.display = !!(cur.expanded && innerTreeRowData.display)\n              if (isBoolean(cur.lazy)) {\n                if (isBoolean(cur.loaded) && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(\n                    cur.children && cur.children.length\n                  )\n                }\n                innerTreeRowData.loading = cur.loading\n              }\n            }\n            i++\n            tmp.push(rowRender(node, $index + i, innerTreeRowData))\n            if (cur) {\n              const nodes =\n                lazyTreeNodeMap.value[childKey] ||\n                node[childrenColumnName.value]\n              traverse(nodes, cur)\n            }\n          })\n        }\n        // 对于 root 节点，display 一定为 true\n        cur.display = true\n        const nodes =\n          lazyTreeNodeMap.value[key] || row[childrenColumnName.value]\n        traverse(nodes, cur)\n      }\n      return tmp\n    } else {\n      return rowRender(row, $index, undefined)\n    }\n  }\n\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger,\n  }\n}\n\nexport default useRender\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}