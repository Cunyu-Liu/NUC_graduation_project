{"ast":null,"code":"import { getCurrentInstance, inject, ref, computed, unref } from 'vue';\nconst defaultNamespace = \"el\";\nconst statePrefix = \"is-\";\nconst _bem = (namespace, block, blockSuffix, element, modifier) => {\n  let cls = `${namespace}-${block}`;\n  if (blockSuffix) {\n    cls += `-${blockSuffix}`;\n  }\n  if (element) {\n    cls += `__${element}`;\n  }\n  if (modifier) {\n    cls += `--${modifier}`;\n  }\n  return cls;\n};\nconst namespaceContextKey = Symbol(\"namespaceContextKey\");\nconst useGetDerivedNamespace = namespaceOverrides => {\n  const derivedNamespace = namespaceOverrides || (getCurrentInstance() ? inject(namespaceContextKey, ref(defaultNamespace)) : ref(defaultNamespace));\n  const namespace = computed(() => {\n    return unref(derivedNamespace) || defaultNamespace;\n  });\n  return namespace;\n};\nconst useNamespace = (block, namespaceOverrides) => {\n  const namespace = useGetDerivedNamespace(namespaceOverrides);\n  const b = (blockSuffix = \"\") => _bem(namespace.value, block, blockSuffix, \"\", \"\");\n  const e = element => element ? _bem(namespace.value, block, \"\", element, \"\") : \"\";\n  const m = modifier => modifier ? _bem(namespace.value, block, \"\", \"\", modifier) : \"\";\n  const be = (blockSuffix, element) => blockSuffix && element ? _bem(namespace.value, block, blockSuffix, element, \"\") : \"\";\n  const em = (element, modifier) => element && modifier ? _bem(namespace.value, block, \"\", element, modifier) : \"\";\n  const bm = (blockSuffix, modifier) => blockSuffix && modifier ? _bem(namespace.value, block, blockSuffix, \"\", modifier) : \"\";\n  const bem = (blockSuffix, element, modifier) => blockSuffix && element && modifier ? _bem(namespace.value, block, blockSuffix, element, modifier) : \"\";\n  const is = (name, ...args) => {\n    const state = args.length >= 1 ? args[0] : true;\n    return name && state ? `${statePrefix}${name}` : \"\";\n  };\n  const cssVar = object => {\n    const styles = {};\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${key}`] = object[key];\n      }\n    }\n    return styles;\n  };\n  const cssVarBlock = object => {\n    const styles = {};\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${block}-${key}`] = object[key];\n      }\n    }\n    return styles;\n  };\n  const cssVarName = name => `--${namespace.value}-${name}`;\n  const cssVarBlockName = name => `--${namespace.value}-${block}-${name}`;\n  return {\n    namespace,\n    b,\n    e,\n    m,\n    be,\n    em,\n    bm,\n    bem,\n    is,\n    cssVar,\n    cssVarName,\n    cssVarBlock,\n    cssVarBlockName\n  };\n};\nexport { defaultNamespace, namespaceContextKey, useGetDerivedNamespace, useNamespace };","map":{"version":3,"names":["defaultNamespace","statePrefix","_bem","namespace","block","blockSuffix","element","modifier","cls","namespaceContextKey","Symbol","useGetDerivedNamespace","namespaceOverrides","derivedNamespace","getCurrentInstance","inject","ref","computed","unref","useNamespace","b","value","e","m","be","em","bm","bem","is","name","args","state","length","cssVar","object","styles","key","cssVarBlock","cssVarName","cssVarBlockName"],"sources":["../../../../../packages/hooks/use-namespace/index.ts"],"sourcesContent":["import { computed, getCurrentInstance, inject, ref, unref } from 'vue'\n\nimport type { InjectionKey, Ref } from 'vue'\n\nexport const defaultNamespace = 'el'\nconst statePrefix = 'is-'\n\nconst _bem = (\n  namespace: string,\n  block: string,\n  blockSuffix: string,\n  element: string,\n  modifier: string\n) => {\n  let cls = `${namespace}-${block}`\n  if (blockSuffix) {\n    cls += `-${blockSuffix}`\n  }\n  if (element) {\n    cls += `__${element}`\n  }\n  if (modifier) {\n    cls += `--${modifier}`\n  }\n  return cls\n}\n\nexport const namespaceContextKey: InjectionKey<Ref<string | undefined>> =\n  Symbol('namespaceContextKey')\n\nexport const useGetDerivedNamespace = (\n  namespaceOverrides?: Ref<string | undefined>\n) => {\n  const derivedNamespace =\n    namespaceOverrides ||\n    (getCurrentInstance()\n      ? inject(namespaceContextKey, ref(defaultNamespace))\n      : ref(defaultNamespace))\n  const namespace = computed(() => {\n    return unref(derivedNamespace) || defaultNamespace\n  })\n  return namespace\n}\n\nexport const useNamespace = (\n  block: string,\n  namespaceOverrides?: Ref<string | undefined>\n) => {\n  const namespace = useGetDerivedNamespace(namespaceOverrides)\n  const b = (blockSuffix = '') =>\n    _bem(namespace.value, block, blockSuffix, '', '')\n  const e = (element?: string) =>\n    element ? _bem(namespace.value, block, '', element, '') : ''\n  const m = (modifier?: string) =>\n    modifier ? _bem(namespace.value, block, '', '', modifier) : ''\n  const be = (blockSuffix?: string, element?: string) =>\n    blockSuffix && element\n      ? _bem(namespace.value, block, blockSuffix, element, '')\n      : ''\n  const em = (element?: string, modifier?: string) =>\n    element && modifier\n      ? _bem(namespace.value, block, '', element, modifier)\n      : ''\n  const bm = (blockSuffix?: string, modifier?: string) =>\n    blockSuffix && modifier\n      ? _bem(namespace.value, block, blockSuffix, '', modifier)\n      : ''\n  const bem = (blockSuffix?: string, element?: string, modifier?: string) =>\n    blockSuffix && element && modifier\n      ? _bem(namespace.value, block, blockSuffix, element, modifier)\n      : ''\n  const is: {\n    (name: string, state: boolean | undefined): string\n    (name: string): string\n  } = (name: string, ...args: [boolean | undefined] | []) => {\n    const state = args.length >= 1 ? args[0]! : true\n    return name && state ? `${statePrefix}${name}` : ''\n  }\n\n  // for css var\n  // --el-xxx: value;\n  const cssVar = (object: Record<string, string>) => {\n    const styles: Record<string, string> = {}\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${key}`] = object[key]\n      }\n    }\n    return styles\n  }\n  // with block\n  const cssVarBlock = (object: Record<string, string>) => {\n    const styles: Record<string, string> = {}\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${block}-${key}`] = object[key]\n      }\n    }\n    return styles\n  }\n\n  const cssVarName = (name: string) => `--${namespace.value}-${name}`\n  const cssVarBlockName = (name: string) =>\n    `--${namespace.value}-${block}-${name}`\n\n  return {\n    namespace,\n    b,\n    e,\n    m,\n    be,\n    em,\n    bm,\n    bem,\n    is,\n    // css\n    cssVar,\n    cssVarName,\n    cssVarBlock,\n    cssVarBlockName,\n  }\n}\n\nexport type UseNamespaceReturn = ReturnType<typeof useNamespace>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}