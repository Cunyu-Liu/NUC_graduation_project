{"ast":null,"code":"import { defineComponent, computed, ref, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createBlock, resolveDynamicComponent, createCommentVNode, createElementVNode } from 'vue';\nimport { ArrowLeft, ArrowUp, ArrowRight, ArrowDown } from '@element-plus/icons-vue';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _sfc_main = defineComponent({\n  ...{\n    name: \"ElSplitterBar\"\n  },\n  __name: \"split-bar\",\n  props: {\n    index: {\n      type: Number,\n      required: true\n    },\n    layout: {\n      type: String,\n      values: [\"horizontal\", \"vertical\"],\n      default: \"horizontal\"\n    },\n    resizable: {\n      type: Boolean,\n      default: true\n    },\n    lazy: Boolean,\n    startCollapsible: Boolean,\n    endCollapsible: Boolean\n  },\n  emits: [\"moveStart\", \"moving\", \"moveEnd\", \"collapse\"],\n  setup(__props, {\n    emit: __emit\n  }) {\n    const ns = useNamespace(\"splitter-bar\");\n    const props = __props;\n    const emit = __emit;\n    const isHorizontal = computed(() => props.layout === \"horizontal\");\n    const barWrapStyles = computed(() => {\n      if (isHorizontal.value) {\n        return {\n          width: 0\n        };\n      }\n      return {\n        height: 0\n      };\n    });\n    const draggerStyles = computed(() => {\n      return {\n        width: isHorizontal.value ? \"16px\" : \"100%\",\n        height: isHorizontal.value ? \"100%\" : \"16px\",\n        cursor: !props.resizable ? \"auto\" : isHorizontal.value ? \"ew-resize\" : \"ns-resize\",\n        touchAction: \"none\"\n      };\n    });\n    const draggerPseudoClass = computed(() => {\n      const prefix = ns.e(\"dragger\");\n      return {\n        [`${prefix}-horizontal`]: isHorizontal.value,\n        [`${prefix}-vertical`]: !isHorizontal.value,\n        [`${prefix}-active`]: !!startPos.value\n      };\n    });\n    const startPos = ref(null);\n    const onMousedown = e => {\n      if (!props.resizable) return;\n      startPos.value = [e.pageX, e.pageY];\n      emit(\"moveStart\", props.index);\n      window.addEventListener(\"mouseup\", onMouseUp);\n      window.addEventListener(\"mousemove\", onMouseMove);\n    };\n    const onTouchStart = e => {\n      if (props.resizable && e.touches.length === 1) {\n        e.preventDefault();\n        const touch = e.touches[0];\n        startPos.value = [touch.pageX, touch.pageY];\n        emit(\"moveStart\", props.index);\n        window.addEventListener(\"touchend\", onTouchEnd);\n        window.addEventListener(\"touchmove\", onTouchMove);\n      }\n    };\n    const onMouseMove = e => {\n      const {\n        pageX,\n        pageY\n      } = e;\n      const offsetX = pageX - startPos.value[0];\n      const offsetY = pageY - startPos.value[1];\n      const offset = isHorizontal.value ? offsetX : offsetY;\n      emit(\"moving\", props.index, offset);\n    };\n    const onTouchMove = e => {\n      if (e.touches.length === 1) {\n        e.preventDefault();\n        const touch = e.touches[0];\n        const offsetX = touch.pageX - startPos.value[0];\n        const offsetY = touch.pageY - startPos.value[1];\n        const offset = isHorizontal.value ? offsetX : offsetY;\n        emit(\"moving\", props.index, offset);\n      }\n    };\n    const onMouseUp = () => {\n      startPos.value = null;\n      window.removeEventListener(\"mouseup\", onMouseUp);\n      window.removeEventListener(\"mousemove\", onMouseMove);\n      emit(\"moveEnd\", props.index);\n    };\n    const onTouchEnd = () => {\n      startPos.value = null;\n      window.removeEventListener(\"touchend\", onTouchEnd);\n      window.removeEventListener(\"touchmove\", onTouchMove);\n      emit(\"moveEnd\", props.index);\n    };\n    const StartIcon = computed(() => isHorizontal.value ? ArrowLeft : ArrowUp);\n    const EndIcon = computed(() => isHorizontal.value ? ArrowRight : ArrowDown);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b()]),\n        style: normalizeStyle(barWrapStyles.value)\n      }, [__props.startCollapsible ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([unref(ns).e(\"collapse-icon\"), unref(ns).e(`${__props.layout}-collapse-icon-start`)]),\n        onClick: _cache[0] || (_cache[0] = $event => emit(\"collapse\", __props.index, \"start\"))\n      }, [renderSlot(_ctx.$slots, \"start-collapsible\", {}, () => [(openBlock(), createBlock(resolveDynamicComponent(StartIcon.value), {\n        style: {\n          \"width\": \"12px\",\n          \"height\": \"12px\"\n        }\n      }))])], 2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n        class: normalizeClass([unref(ns).e(\"dragger\"), draggerPseudoClass.value, unref(ns).is(\"disabled\", !__props.resizable), unref(ns).is(\"lazy\", __props.resizable && __props.lazy)]),\n        style: normalizeStyle(draggerStyles.value),\n        onMousedown,\n        onTouchstart: onTouchStart\n      }, null, 38), __props.endCollapsible ? (openBlock(), createElementBlock(\"div\", {\n        key: 1,\n        class: normalizeClass([unref(ns).e(\"collapse-icon\"), unref(ns).e(`${__props.layout}-collapse-icon-end`)]),\n        onClick: _cache[1] || (_cache[1] = $event => emit(\"collapse\", __props.index, \"end\"))\n      }, [renderSlot(_ctx.$slots, \"end-collapsible\", {}, () => [(openBlock(), createBlock(resolveDynamicComponent(EndIcon.value), {\n        style: {\n          \"width\": \"12px\",\n          \"height\": \"12px\"\n        }\n      }))])], 2)) : createCommentVNode(\"v-if\", true)], 6);\n    };\n  }\n});\nvar SplitBar = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/splitter/src/split-bar.vue\"]]);\nexport { SplitBar as default };","map":{"version":3,"names":["ns","useNamespace","props","__props","emit","__emit","isHorizontal","computed","layout","barWrapStyles","value","width","height","draggerStyles","cursor","resizable","touchAction","draggerPseudoClass","prefix","e","startPos","ref","onMousedown","pageX","pageY","index","window","addEventListener","onMouseUp","onMouseMove","onTouchStart","touches","length","preventDefault","touch","onTouchEnd","onTouchMove","offsetX","offsetY","offset","removeEventListener","StartIcon","ArrowLeft","ArrowUp","EndIcon","ArrowRight","ArrowDown","openBlock","createElementBlock","class","normalizeClass","unref","b","style","normalizeStyle","startCollapsible","key","onClick","_cache","$event","renderSlot","_ctx","$slots","createBlock","resolveDynamicComponent","createElementVNode","is","lazy","onTouchstart","endCollapsible"],"sources":["../../../../../../packages/components/splitter/src/split-bar.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport {\n  ArrowDown,\n  ArrowLeft,\n  ArrowRight,\n  ArrowUp,\n} from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nconst ns = useNamespace('splitter-bar')\n\ndefineOptions({\n  name: 'ElSplitterBar',\n})\n\nconst props = defineProps({\n  index: {\n    type: Number,\n    required: true,\n  },\n  layout: {\n    type: String,\n    values: ['horizontal', 'vertical'] as const,\n    default: 'horizontal',\n  },\n  resizable: {\n    type: Boolean,\n    default: true,\n  },\n  lazy: Boolean,\n  startCollapsible: Boolean,\n  endCollapsible: Boolean,\n})\n\nconst emit = defineEmits(['moveStart', 'moving', 'moveEnd', 'collapse'])\n\nconst isHorizontal = computed(() => props.layout === 'horizontal')\n\nconst barWrapStyles = computed(() => {\n  if (isHorizontal.value) {\n    return { width: 0 }\n  }\n  return { height: 0 }\n})\n\nconst draggerStyles = computed(() => {\n  return {\n    width: isHorizontal.value ? '16px' : '100%',\n    height: isHorizontal.value ? '100%' : '16px',\n    cursor: !props.resizable\n      ? 'auto'\n      : isHorizontal.value\n        ? 'ew-resize'\n        : 'ns-resize',\n    touchAction: 'none',\n  }\n})\n\nconst draggerPseudoClass = computed(() => {\n  const prefix = ns.e('dragger')\n  return {\n    [`${prefix}-horizontal`]: isHorizontal.value,\n    [`${prefix}-vertical`]: !isHorizontal.value,\n    [`${prefix}-active`]: !!startPos.value,\n  }\n})\n\nconst startPos = ref<[x: number, y: number] | null>(null)\n\n// Start dragging\nconst onMousedown = (e: MouseEvent) => {\n  if (!props.resizable) return\n  startPos.value = [e.pageX, e.pageY]\n  emit('moveStart', props.index)\n  window.addEventListener('mouseup', onMouseUp)\n  window.addEventListener('mousemove', onMouseMove)\n}\n\nconst onTouchStart = (e: TouchEvent) => {\n  if (props.resizable && e.touches.length === 1) {\n    e.preventDefault()\n    const touch = e.touches[0]\n    startPos.value = [touch.pageX, touch.pageY]\n    emit('moveStart', props.index)\n    window.addEventListener('touchend', onTouchEnd)\n    window.addEventListener('touchmove', onTouchMove)\n  }\n}\n\n// During dragging\nconst onMouseMove = (e: MouseEvent) => {\n  const { pageX, pageY } = e\n  const offsetX = pageX - startPos.value![0]\n  const offsetY = pageY - startPos.value![1]\n  const offset = isHorizontal.value ? offsetX : offsetY\n  emit('moving', props.index, offset)\n}\n\nconst onTouchMove = (e: TouchEvent) => {\n  if (e.touches.length === 1) {\n    e.preventDefault()\n    const touch = e.touches[0]\n    const offsetX = touch.pageX - startPos.value![0]\n    const offsetY = touch.pageY - startPos.value![1]\n    const offset = isHorizontal.value ? offsetX : offsetY\n    emit('moving', props.index, offset)\n  }\n}\n\n// End dragging\nconst onMouseUp = () => {\n  startPos.value = null\n  window.removeEventListener('mouseup', onMouseUp)\n  window.removeEventListener('mousemove', onMouseMove)\n  emit('moveEnd', props.index)\n}\n\nconst onTouchEnd = () => {\n  startPos.value = null\n  window.removeEventListener('touchend', onTouchEnd)\n  window.removeEventListener('touchmove', onTouchMove)\n  emit('moveEnd', props.index)\n}\n\nconst StartIcon = computed(() => (isHorizontal.value ? ArrowLeft : ArrowUp))\nconst EndIcon = computed(() => (isHorizontal.value ? ArrowRight : ArrowDown))\n</script>\n\n<template>\n  <div :class=\"[ns.b()]\" :style=\"barWrapStyles\">\n    <div\n      v-if=\"startCollapsible\"\n      :class=\"[ns.e('collapse-icon'), ns.e(`${layout}-collapse-icon-start`)]\"\n      @click=\"emit('collapse', index, 'start')\"\n    >\n      <slot name=\"start-collapsible\">\n        <component :is=\"StartIcon\" style=\"width: 12px; height: 12px\" />\n      </slot>\n    </div>\n\n    <div\n      :class=\"[\n        ns.e('dragger'),\n        draggerPseudoClass,\n        ns.is('disabled', !resizable),\n        ns.is('lazy', resizable && lazy),\n      ]\"\n      :style=\"draggerStyles\"\n      @mousedown=\"onMousedown\"\n      @touchstart=\"onTouchStart\"\n    />\n    <div\n      v-if=\"endCollapsible\"\n      :class=\"[ns.e('collapse-icon'), ns.e(`${layout}-collapse-icon-end`)]\"\n      @click=\"emit('collapse', index, 'end')\"\n    >\n      <slot name=\"end-collapsible\">\n        <component :is=\"EndIcon\" style=\"width: 12px; height: 12px\" />\n      </slot>\n    </div>\n  </div>\n</template>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}