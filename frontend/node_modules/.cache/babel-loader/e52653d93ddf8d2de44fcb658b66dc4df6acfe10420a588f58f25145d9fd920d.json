{"ast":null,"code":"import { ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport KnowledgeGraph from '@/components/KnowledgeGraph.vue';\nimport axios from 'axios';\nexport default {\n  name: 'KnowledgeGraphView',\n  components: {\n    KnowledgeGraph\n  },\n  setup() {\n    const graphComponent = ref(null);\n    const building = ref(false);\n    const buildGraph = async () => {\n      try {\n        building.value = true;\n        const response = await axios.post('/api/knowledge-graph/build', {\n          paper_ids: []\n        });\n        if (response.data.success) {\n          ElMessage.success('知识图谱构建成功');\n          if (graphComponent.value) {\n            graphComponent.value.refreshGraph();\n          }\n        }\n      } catch (error) {\n        console.error('构建知识图谱失败:', error);\n        ElMessage.error('构建知识图谱失败: ' + (error.response?.data?.error || error.message));\n      } finally {\n        building.value = false;\n      }\n    };\n    const exportGraph = () => {\n      ElMessage.info('导出功能开发中');\n    };\n    return {\n      graphComponent,\n      building,\n      buildGraph,\n      exportGraph\n    };\n  }\n};","map":{"version":3,"names":["ref","ElMessage","KnowledgeGraph","axios","name","components","setup","graphComponent","building","buildGraph","value","response","post","paper_ids","data","success","refreshGraph","error","console","message","exportGraph","info"],"sources":["/Users/liucunyu/Documents/all_code/NUC_graduation_project/frontend/src/views/KnowledgeGraph.vue"],"sourcesContent":["<template>\n  <div class=\"knowledge-graph-page\">\n    <el-card class=\"page-header\">\n      <div class=\"header-content\">\n        <div class=\"header-left\">\n          <h2>\n            <i class=\"el-icon-share\"></i>\n            知识图谱\n          </h2>\n          <p>可视化展示论文之间的引用和关联关系</p>\n        </div>\n        <div class=\"header-right\">\n          <el-button type=\"primary\" @click=\"buildGraph\" :loading=\"building\">\n            <i class=\"el-icon-refresh\"></i>\n            重新构建\n          </el-button>\n          <el-button @click=\"exportGraph\">\n            <i class=\"el-icon-download\"></i>\n            导出\n          </el-button>\n        </div>\n      </div>\n    </el-card>\n\n    <KnowledgeGraph ref=\"graphComponent\" />\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport KnowledgeGraph from '@/components/KnowledgeGraph.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'KnowledgeGraphView',\n  components: {\n    KnowledgeGraph\n  },\n  setup() {\n    const graphComponent = ref(null)\n    const building = ref(false)\n\n    const buildGraph = async () => {\n      try {\n        building.value = true\n        const response = await axios.post('/api/knowledge-graph/build', {\n          paper_ids: []\n        })\n\n        if (response.data.success) {\n          ElMessage.success('知识图谱构建成功')\n          if (graphComponent.value) {\n            graphComponent.value.refreshGraph()\n          }\n        }\n      } catch (error) {\n        console.error('构建知识图谱失败:', error)\n        ElMessage.error('构建知识图谱失败: ' + (error.response?.data?.error || error.message))\n      } finally {\n        building.value = false\n      }\n    }\n\n    const exportGraph = () => {\n      ElMessage.info('导出功能开发中')\n    }\n\n    return {\n      graphComponent,\n      building,\n      buildGraph,\n      exportGraph\n    }\n  }\n}\n</script>\n\n<style scoped>\n.knowledge-graph-page {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.page-header {\n  margin-bottom: 20px;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-left h2 {\n  margin: 0 0 8px 0;\n  font-size: 24px;\n  color: #303133;\n  display: flex;\n  align-items: center;\n}\n\n.header-left h2 i {\n  margin-right: 10px;\n  color: #409eff;\n}\n\n.header-left p {\n  margin: 0;\n  font-size: 14px;\n  color: #909399;\n}\n\n.header-right {\n  display: flex;\n  gap: 10px;\n}\n</style>\n"],"mappings":"AA6BA,SAASA,GAAE,QAAS,KAAI;AACxB,SAASC,SAAQ,QAAS,cAAa;AACvC,OAAOC,cAAa,MAAO,iCAAgC;AAC3D,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,oBAAoB;EAC1BC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,KAAKA,CAAA,EAAG;IACN,MAAMC,cAAa,GAAIP,GAAG,CAAC,IAAI;IAC/B,MAAMQ,QAAO,GAAIR,GAAG,CAAC,KAAK;IAE1B,MAAMS,UAAS,GAAI,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACFD,QAAQ,CAACE,KAAI,GAAI,IAAG;QACpB,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,IAAI,CAAC,4BAA4B,EAAE;UAC9DC,SAAS,EAAE;QACb,CAAC;QAED,IAAIF,QAAQ,CAACG,IAAI,CAACC,OAAO,EAAE;UACzBd,SAAS,CAACc,OAAO,CAAC,UAAU;UAC5B,IAAIR,cAAc,CAACG,KAAK,EAAE;YACxBH,cAAc,CAACG,KAAK,CAACM,YAAY,CAAC;UACpC;QACF;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChChB,SAAS,CAACgB,KAAK,CAAC,YAAW,IAAKA,KAAK,CAACN,QAAQ,EAAEG,IAAI,EAAEG,KAAI,IAAKA,KAAK,CAACE,OAAO,CAAC;MAC/E,UAAU;QACRX,QAAQ,CAACE,KAAI,GAAI,KAAI;MACvB;IACF;IAEA,MAAMU,WAAU,GAAIA,CAAA,KAAM;MACxBnB,SAAS,CAACoB,IAAI,CAAC,SAAS;IAC1B;IAEA,OAAO;MACLd,cAAc;MACdC,QAAQ;MACRC,UAAU;MACVW;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}