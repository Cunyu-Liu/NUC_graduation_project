{"ast":null,"code":"import { NOOP } from '@vue/shared';\nconst withInstall = (main, extra) => {\n  main.install = app => {\n    for (const comp of [main, ...Object.values(extra != null ? extra : {})]) {\n      app.component(comp.name, comp);\n    }\n  };\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      main[key] = comp;\n    }\n  }\n  return main;\n};\nconst withInstallFunction = (fn, name) => {\n  fn.install = app => {\n    fn._context = app._context;\n    app.config.globalProperties[name] = fn;\n  };\n  return fn;\n};\nconst withInstallDirective = (directive, name) => {\n  directive.install = app => {\n    app.directive(name, directive);\n  };\n  return directive;\n};\nconst withNoopInstall = component => {\n  component.install = NOOP;\n  return component;\n};\nexport { withInstall, withInstallDirective, withInstallFunction, withNoopInstall };","map":{"version":3,"names":["withInstall","main","extra","install","app","comp","Object","values","component","name","key","entries","withInstallFunction","fn","_context","config","globalProperties","withInstallDirective","directive","withNoopInstall","NOOP"],"sources":["../../../../../packages/utils/vue/install.ts"],"sourcesContent":["import { NOOP } from '../functions'\n\nimport type { App, Directive } from 'vue'\nimport type { SFCInstallWithContext, SFCWithInstall } from './typescript'\n\nexport const withInstall = <T, E extends Record<string, any>>(\n  main: T,\n  extra?: E\n) => {\n  ;(main as SFCWithInstall<T>).install = (app): void => {\n    for (const comp of [main, ...Object.values(extra ?? {})]) {\n      app.component(comp.name, comp)\n    }\n  }\n\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      ;(main as any)[key] = comp\n    }\n  }\n  return main as SFCWithInstall<T> & E\n}\n\nexport const withInstallFunction = <T>(fn: T, name: string) => {\n  ;(fn as SFCWithInstall<T>).install = (app: App) => {\n    ;(fn as SFCInstallWithContext<T>)._context = app._context\n    app.config.globalProperties[name] = fn\n  }\n\n  return fn as SFCInstallWithContext<T>\n}\n\nexport const withInstallDirective = <T extends Directive>(\n  directive: T,\n  name: string\n) => {\n  ;(directive as SFCWithInstall<T>).install = (app: App): void => {\n    app.directive(name, directive)\n  }\n\n  return directive as SFCWithInstall<T>\n}\n\nexport const withNoopInstall = <T>(component: T) => {\n  ;(component as SFCWithInstall<T>).install = NOOP\n\n  return component as SFCWithInstall<T>\n}\n"],"mappings":";AAKa,MAAAA,WAAA,GAAcA,CACzBC,IAAA,EACAC,KACG;EACDD,IAAA,CAA2BE,OAAU,GAACC,GAAc;IACzC,WAAAC,IAAA,IAAQ,CAACJ,IAAA,EAAM,GAAGK,MAAA,CAAOC,MAAA,CAAOL,KAAS,WAAAA,KAAA,KAAE,CAAC,CAAG;MACpDE,GAAA,CAAAI,SAAA,CAAUH,IAAK,CAAAI,IAAA,EAAMJ,IAAI;IAAA;EAC/B,CACF;EAEA,IAAIH,KAAO;IACT,WAAW,CAACQ,GAAK,EAAAL,IAAI,KAAKC,MAAO,CAAAK,OAAA,CAAQT,KAAK,CAAG;MAC7CD,IAAA,CAAaS,GAAO,IAAAL,IAAA;IAAA;EACxB;EAEK,OAAAJ,IAAA;AACT;AAEa,MAAAW,mBAAA,GAAsBA,CAAIC,EAAA,EAAOJ,IAAiB;EAC3DI,EAAA,CAAyBV,OAAU,GAACC,GAAa;IAC/CS,EAAA,CAAgCC,QAAA,GAAWV,GAAI,CAAAU,QAAA;IAC7CV,GAAA,CAAAW,MAAA,CAAOC,gBAAA,CAAiBP,IAAQ,IAAAI,EAAA;EAAA,CACtC;EAEO,OAAAA,EAAA;AACT;AAEa,MAAAI,oBAAA,GAAuBA,CAClCC,SAAA,EACAT,IACG;EACDS,SAAA,CAAgCf,OAAU,GAACC,GAAmB;IAC1DA,GAAA,CAAAc,SAAA,CAAUT,IAAA,EAAMS,SAAS;EAAA,CAC/B;EAEO,OAAAA,SAAA;AACT;AAEa,MAAAC,eAAA,GAAsBX,SAAiB;EAChDA,SAAA,CAAgCL,OAAU,GAAAiB,IAAA;EAErC,OAAAZ,SAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}