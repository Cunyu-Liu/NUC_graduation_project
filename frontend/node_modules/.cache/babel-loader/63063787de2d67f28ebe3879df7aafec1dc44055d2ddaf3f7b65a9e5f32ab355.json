{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { ref, computed, onMounted } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport { Plus, VideoPlay, Refresh, ArrowUp, ArrowDown, Delete, CircleCheck, CircleClose, Loading, Timer, Bottom, ArrowRight, QuestionFilled, Document, Reading, Cpu, DataAnalysis, Download, Save } from '@element-plus/icons-vue';\nimport api from '@/api';\n\n// çŠ¶æ€\n\nexport default {\n  __name: 'ChainWorkflow',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const showAddNode = ref(false);\n    const showSaveWorkflow = ref(false);\n    const showGuide = ref(false);\n    const workflowName = ref('');\n    const workflowDescription = ref('');\n    const currentNode = ref(null);\n    const isExecuting = ref(false);\n    const executionProgress = ref(0);\n    const executionStatus = ref('');\n    const executionTime = ref(0);\n    const currentExecutingNode = ref(null);\n    const executionResults = ref([]);\n\n    // é“¾å¼èŠ‚ç‚¹\n    const chainNodes = ref([]);\n\n    // æ–°èŠ‚ç‚¹é…ç½®\n    const newNode = ref({\n      type: 'analysis',\n      name: '',\n      template: ''\n    });\n\n    // è¾“å…¥å†…å®¹\n    const workflowInput = ref('');\n\n    // å¯ç”¨æ¨¡æ¿\n    const availableTemplates = [{\n      label: 'ç”Ÿæˆæ‘˜è¦',\n      value: 'summary',\n      type: 'analysis'\n    }, {\n      label: 'æå–è¦ç‚¹',\n      value: 'keypoints',\n      type: 'analysis'\n    }, {\n      label: 'è¯†åˆ«ç ”ç©¶ç©ºç™½',\n      value: 'gaps',\n      type: 'analysis'\n    }, {\n      label: 'ä¸»é¢˜åˆ†æ',\n      value: 'topic',\n      type: 'analysis'\n    }, {\n      label: 'æ–¹æ³•åˆ†æ',\n      value: 'method_analysis',\n      type: 'analysis'\n    }, {\n      label: 'ç”Ÿæˆä»£ç ',\n      value: 'code',\n      type: 'generation'\n    }, {\n      label: 'ç”ŸæˆæŠ¥å‘Š',\n      value: 'report',\n      type: 'generation'\n    }, {\n      label: 'æ–‡çŒ®ç»¼è¿°',\n      value: 'review',\n      type: 'generation'\n    }, {\n      label: 'æ”¹è¿›å»ºè®®',\n      value: 'improvement',\n      type: 'generation'\n    }, {\n      label: 'è´¨é‡è¯„ä¼°',\n      value: 'quality',\n      type: 'evaluation'\n    }, {\n      label: 'åˆ›æ–°æ€§è¯„ä¼°',\n      value: 'innovation',\n      type: 'evaluation'\n    }, {\n      label: 'æ–¹æ³•è¯„ä¼°',\n      value: 'method',\n      type: 'evaluation'\n    }, {\n      label: 'å®éªŒè®¾è®¡è¯„ä¼°',\n      value: 'experiment',\n      type: 'evaluation'\n    }, {\n      label: 'æ•°æ®æ¸…æ´—',\n      value: 'clean',\n      type: 'transform'\n    }, {\n      label: 'æ ¼å¼è½¬æ¢',\n      value: 'format',\n      type: 'transform'\n    }];\n\n    // ç¤ºä¾‹æ–‡æœ¬\n    const examples = {\n      paper: `è®ºæ–‡æ ‡é¢˜ï¼šåŸºäºTransformerçš„è›‹ç™½è´¨ç»“æ„é¢„æµ‹æ–¹æ³•ç ”ç©¶\n\næ‘˜è¦ï¼šæœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºTransformeræ¶æ„çš„æ–°å‹è›‹ç™½è´¨ç»“æ„é¢„æµ‹æ–¹æ³•ã€‚è¯¥æ–¹æ³•åˆ©ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶æ•è·åºåˆ—ä¸­çš„é•¿ç¨‹ä¾èµ–å…³ç³»ï¼Œå¹¶é€šè¿‡å¤šå°ºåº¦ç‰¹å¾èåˆç­–ç•¥æ•´åˆä¸åŒå±‚æ¬¡çš„ç»“æ„ä¿¡æ¯ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œåœ¨CASP14æ•°æ®é›†ä¸Šï¼Œæˆ‘ä»¬çš„æ–¹æ³•ç›¸æ¯”ç°æœ‰æœ€ä¼˜æ–¹æ³•å°†GDT-TSåˆ†æ•°æé«˜äº†2.3ä¸ªç™¾åˆ†ç‚¹ã€‚`,\n      question: `å¦‚ä½•æé«˜æ·±åº¦å­¦ä¹ æ¨¡å‹åœ¨å°æ ·æœ¬åŒ»å­¦å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­çš„æ€§èƒ½ï¼Ÿ\n\nèƒŒæ™¯ï¼šç°æœ‰æ–¹æ³•åœ¨æ ·æœ¬å……è¶³æ—¶è¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨åŒ»å­¦é¢†åŸŸå¾€å¾€éš¾ä»¥è·å–å¤§é‡æ ‡æ³¨æ•°æ®ã€‚\nçº¦æŸæ¡ä»¶ï¼š\n- æ¯ç±»åªæœ‰10-50ä¸ªæ ·æœ¬\n- éœ€è¦é«˜å‡†ç¡®ç‡\n- æ¨¡å‹éœ€è¦å¯è§£é‡Š`,\n      code: `éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªåŸºäºPyTorchçš„Transformeræ¨¡å‹ï¼Œç”¨äºæ—¶é—´åºåˆ—é¢„æµ‹ä»»åŠ¡ã€‚\n\nè¦æ±‚ï¼š\n1. åŒ…å«ä½ç½®ç¼–ç \n2. å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶\n3. å‰é¦ˆç½‘ç»œ\n4. æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–\n5. æ”¯æŒå¯å˜é•¿åº¦è¾“å…¥`\n    };\n\n    // è®¡ç®—å±æ€§\n    const previousNodes = computed(() => {\n      if (!currentNode.value) return [];\n      const index = chainNodes.value.findIndex(n => n.id === currentNode.value.id);\n      return chainNodes.value.slice(0, index);\n    });\n    const availableVariables = computed(() => {\n      const vars = [{\n        name: '{{input}}',\n        description: 'å½“å‰èŠ‚ç‚¹çš„è¾“å…¥å†…å®¹'\n      }, {\n        name: '{{original}}',\n        description: 'åŸå§‹è¾“å…¥å†…å®¹'\n      }];\n      previousNodes.value.forEach((node, idx) => {\n        vars.push({\n          name: `{{step${idx + 1}}}`,\n          description: `${node.name} çš„è¾“å‡º`\n        });\n      });\n      return vars;\n    });\n\n    // æ–¹æ³•\n    const getNodeTypeLabel = type => {\n      const labels = {\n        analysis: 'åˆ†æ',\n        generation: 'ç”Ÿæˆ',\n        evaluation: 'è¯„ä¼°',\n        transform: 'è½¬æ¢'\n      };\n      return labels[type] || type;\n    };\n    const getNodeTypeTag = type => {\n      const tags = {\n        analysis: 'primary',\n        generation: 'success',\n        evaluation: 'warning',\n        transform: 'info'\n      };\n      return tags[type] || '';\n    };\n    const addNode = () => {\n      if (!newNode.value.name) {\n        ElMessage.warning('è¯·è¾“å…¥èŠ‚ç‚¹åç§°');\n        return;\n      }\n      const template = availableTemplates.find(t => t.value === newNode.value.template);\n      const node = {\n        id: Date.now(),\n        name: newNode.value.name,\n        type: newNode.value.type,\n        template: newNode.value.template,\n        prompt: getDefaultPrompt(newNode.value.template),\n        model: 'glm-4-plus',\n        temperature: 0.7,\n        maxTokens: 4000,\n        inputSource: chainNodes.value.length === 0 ? 'original' : chainNodes.value[chainNodes.value.length - 1].id,\n        outputFormat: 'text',\n        conditional: false,\n        condition: '',\n        status: 'pending'\n      };\n      chainNodes.value.push(node);\n      currentNode.value = node;\n      showAddNode.value = false;\n\n      // é‡ç½®æ–°èŠ‚ç‚¹è¡¨å•\n      newNode.value = {\n        type: 'analysis',\n        name: '',\n        template: ''\n      };\n      ElMessage.success('èŠ‚ç‚¹æ·»åŠ æˆåŠŸ');\n    };\n    const getDefaultPrompt = template => {\n      const prompts = {\n        summary: 'è¯·å¯¹ä»¥ä¸‹å†…å®¹ç”Ÿæˆä¸€ä»½ç®€æ´çš„æ‘˜è¦ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. çªå‡ºæ ¸å¿ƒè´¡çŒ®\\n2. ç®€æ˜æ‰¼è¦ï¼Œæ§åˆ¶åœ¨200å­—ä»¥å†…\\n3. ä½¿ç”¨å­¦æœ¯è¯­è¨€',\n        keypoints: 'è¯·ä»ä»¥ä¸‹å†…å®¹ä¸­æå–æ ¸å¿ƒè¦ç‚¹ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ—å‡º3-5ä¸ªå…³é”®è¦ç‚¹\\n2. æ¯ä¸ªè¦ç‚¹ä¸€å¥è¯æ¦‚æ‹¬\\n3. æŒ‰é‡è¦æ€§æ’åº',\n        gaps: 'è¯·åˆ†æä»¥ä¸‹å†…å®¹ï¼Œè¯†åˆ«ç ”ç©¶ç©ºç™½ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. æŒ‡å‡ºç°æœ‰ç ”ç©¶çš„ä¸è¶³\\n2. æå‡ºå¯èƒ½çš„ç ”ç©¶æ–¹å‘\\n3. è¯´æ˜æ¯ä¸ªæ–¹å‘çš„æ½œåœ¨ä»·å€¼',\n        topic: 'è¯·åˆ†æä»¥ä¸‹å†…å®¹çš„ä¸»é¢˜ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. è¯†åˆ«ä¸»è¦ç ”ç©¶é¢†åŸŸ\\n2. æå–æ ¸å¿ƒå…³é”®è¯ï¼ˆ5-10ä¸ªï¼‰\\n3. è¯´æ˜ä¸å…¶ä»–é¢†åŸŸçš„å…³è”',\n        method_analysis: 'è¯·åˆ†æä»¥ä¸‹å†…å®¹çš„ç ”ç©¶æ–¹æ³•ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. æè¿°ä½¿ç”¨çš„æ–¹æ³•å’ŒæŠ€æœ¯\\n2. åˆ†ææ–¹æ³•çš„ä¼˜åŠ¿å’Œå±€é™\\n3. ä¸å…¶ä»–æ–¹æ³•è¿›è¡Œå¯¹æ¯”',\n        code: 'è¯·æ ¹æ®ä»¥ä¸‹éœ€æ±‚ç”Ÿæˆä»£ç ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šå®Œæ•´\\n2. åŒ…å«å¿…è¦çš„é”™è¯¯å¤„ç†\\n3. æä¾›ä½¿ç”¨ç¤ºä¾‹',\n        report: 'è¯·æ ¹æ®ä»¥ä¸‹å†…å®¹ç”ŸæˆæŠ¥å‘Šï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ç»“æ„å®Œæ•´ï¼ŒåŒ…å«èƒŒæ™¯ã€æ–¹æ³•ã€ç»“æœã€ç»“è®º\\n2. é€»è¾‘æ¸…æ™°ï¼Œè®ºè¯å……åˆ†\\n3. ä½¿ç”¨å­¦æœ¯å†™ä½œè§„èŒƒ',\n        review: 'è¯·å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œç»¼è¿°ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ç³»ç»Ÿå›é¡¾ç›¸å…³ç ”ç©¶\\n2. æ¯”è¾ƒä¸åŒæ–¹æ³•çš„ä¼˜ç¼ºç‚¹\\n3. æŒ‡å‡ºæœªæ¥ç ”ç©¶æ–¹å‘',\n        improvement: 'è¯·é’ˆå¯¹ä»¥ä¸‹å†…å®¹æå‡ºæ”¹è¿›å»ºè®®ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. æŒ‡å‡ºå¯æ”¹è¿›çš„æ–¹é¢\\n2. æä¾›å…·ä½“çš„æ”¹è¿›æ–¹æ¡ˆ\\n3. åˆ†ææ”¹è¿›åçš„é¢„æœŸæ•ˆæœ',\n        quality: 'è¯·è¯„ä¼°ä»¥ä¸‹å†…å®¹çš„è´¨é‡ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. è¯„ä¼°æ–¹æ³•çš„ç§‘å­¦æ€§\\n2. åˆ†æå®éªŒè®¾è®¡çš„åˆç†æ€§\\n3. è¯„ä»·ç»“è®ºçš„å¯é æ€§\\n4. ç»™å‡ºç»¼åˆè¯„åˆ†å’Œæ”¹è¿›å»ºè®®',\n        innovation: 'è¯·è¯„ä¼°ä»¥ä¸‹å†…å®¹çš„åˆ›æ–°æ€§ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ†æåˆ›æ–°ç‚¹å’Œç‹¬ç‰¹ä¹‹å¤„\\n2. ä¸ç°æœ‰ç ”ç©¶å¯¹æ¯”\\n3. è¯„ä¼°åˆ›æ–°ç¨‹åº¦å’Œå­¦æœ¯ä»·å€¼',\n        method: 'è¯·è¯„ä¼°ä»¥ä¸‹æ–¹æ³•çš„åˆç†æ€§ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ†ææ–¹æ³•çš„ç§‘å­¦æ€§\\n2. è¯„ä¼°é€‚ç”¨æ€§å’Œå±€é™æ€§\\n3. æå‡ºä¼˜åŒ–å»ºè®®',\n        experiment: 'è¯·è¯„ä¼°ä»¥ä¸‹å®éªŒè®¾è®¡ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ†æå®éªŒè®¾è®¡çš„åˆç†æ€§\\n2. è¯„ä¼°å¯¹ç…§ç»„è®¾ç½®\\n3. æŒ‡å‡ºå¯èƒ½çš„æ··æ·†å› ç´ \\n4. æå‡ºæ”¹è¿›å»ºè®®',\n        clean: 'è¯·æ¸…æ´—ä»¥ä¸‹æ•°æ®ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. å»é™¤å™ªå£°å’Œå¼‚å¸¸å€¼\\n2. å¤„ç†ç¼ºå¤±å€¼\\n3. æ ‡å‡†åŒ–æ ¼å¼',\n        format: 'è¯·å°†ä»¥ä¸‹å†…å®¹è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ç»Ÿä¸€æ ¼å¼è§„èŒƒ\\n2. ä¿æŒå†…å®¹å®Œæ•´æ€§\\n3. æé«˜å¯è¯»æ€§'\n      };\n      return prompts[template] || 'è¯·å¤„ç†ä»¥ä¸‹å†…å®¹ï¼š\\n\\n{{input}}';\n    };\n    const removeNode = index => {\n      chainNodes.value.splice(index, 1);\n      if (currentNode.value && chainNodes.value.findIndex(n => n.id === currentNode.value.id) === -1) {\n        currentNode.value = chainNodes.value[0] || null;\n      }\n      ElMessage.success('èŠ‚ç‚¹å·²åˆ é™¤');\n    };\n    const moveNode = (index, direction) => {\n      const newIndex = index + direction;\n      if (newIndex >= 0 && newIndex < chainNodes.value.length) {\n        const temp = chainNodes.value[index];\n        chainNodes.value[index] = chainNodes.value[newIndex];\n        chainNodes.value[newIndex] = temp;\n      }\n    };\n    const selectNode = node => {\n      currentNode.value = node;\n    };\n    const applyTemplate = template => {\n      if (currentNode.value && template) {\n        currentNode.value.prompt = getDefaultPrompt(template);\n        ElMessage.success('æ¨¡æ¿å·²åº”ç”¨');\n      }\n    };\n    const useExample = type => {\n      workflowInput.value = examples[type];\n      ElMessage.success('ç¤ºä¾‹å·²åŠ è½½ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹');\n    };\n    const executeChain = async () => {\n      if (chainNodes.value.length === 0) {\n        ElMessage.warning('è¯·å…ˆæ·»åŠ å·¥ä½œæµèŠ‚ç‚¹');\n        return;\n      }\n\n      // å¦‚æœæ²¡æœ‰è¾“å…¥å†…å®¹ï¼Œæç¤ºç”¨æˆ·\n      if (!workflowInput.value.trim()) {\n        ElMessage.warning('è¯·è¾“å…¥å·¥ä½œæµå¤„ç†å†…å®¹');\n        return;\n      }\n      isExecuting.value = true;\n      executionProgress.value = 0;\n      executionStatus.value = '';\n      executionResults.value = [];\n      const startTime = Date.now();\n      try {\n        // é‡ç½®æ‰€æœ‰èŠ‚ç‚¹çŠ¶æ€\n        chainNodes.value.forEach(node => {\n          node.status = 'pending';\n          node.output = null;\n          node.error = null;\n        });\n\n        // å‡†å¤‡èŠ‚ç‚¹é…ç½®\n        const nodesConfig = chainNodes.value.map(node => ({\n          id: node.id,\n          name: node.name,\n          type: node.type,\n          prompt: node.prompt,\n          model: node.model,\n          temperature: node.temperature,\n          maxTokens: node.maxTokens,\n          inputSource: node.inputSource,\n          outputFormat: node.outputFormat,\n          conditional: node.conditional,\n          condition: node.condition\n        }));\n\n        // æ›´æ–°è¿›åº¦\n        executionProgress.value = 10;\n\n        // è°ƒç”¨åç«¯ API\n        const response = await api.executeWorkflow(nodesConfig, {\n          content: workflowInput.value\n        });\n        if (response.success) {\n          // æ›´æ–°æ‰§è¡Œç»“æœ\n          executionResults.value = response.data.results.map((result, index) => ({\n            nodeName: result.node_name,\n            nodeType: result.node_type,\n            input: result.input_preview || '',\n            output: result.full_output || result.output_preview || '',\n            success: result.status === 'completed',\n            error: result.error,\n            expanded: index === response.data.results.length - 1\n          }));\n\n          // æ›´æ–°èŠ‚ç‚¹çŠ¶æ€\n          response.data.results.forEach((result, index) => {\n            if (chainNodes.value[index]) {\n              chainNodes.value[index].status = result.status;\n              chainNodes.value[index].output = result.full_output;\n              chainNodes.value[index].error = result.error;\n            }\n          });\n          executionProgress.value = 100;\n          executionStatus.value = 'success';\n          executionTime.value = response.data.total_time * 1000;\n          ElMessage.success(`å·¥ä½œæµæ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ ${response.data.total_time.toFixed(2)}s`);\n        } else {\n          throw new Error(response.error || 'æ‰§è¡Œå¤±è´¥');\n        }\n      } catch (error) {\n        console.error('å·¥ä½œæµæ‰§è¡Œé”™è¯¯:', error);\n        executionStatus.value = 'exception';\n        ElMessage.error(`æ‰§è¡Œå¤±è´¥: ${error.message}`);\n\n        // æ ‡è®°å½“å‰è¿è¡Œçš„èŠ‚ç‚¹ä¸ºé”™è¯¯çŠ¶æ€\n        const runningNode = chainNodes.value.find(n => n.status === 'running');\n        if (runningNode) {\n          runningNode.status = 'error';\n          runningNode.error = error.message;\n        }\n      } finally {\n        isExecuting.value = false;\n        currentExecutingNode.value = null;\n      }\n    };\n\n    // åŠ è½½å·¥ä½œæµæ¨¡æ¿\n    const loadTemplate = async templateId => {\n      try {\n        const templates = {\n          summary: {\n            name: 'è®ºæ–‡åˆ†æ',\n            nodes: [{\n              name: 'æå–è¦ç‚¹',\n              type: 'analysis',\n              template: 'keypoints',\n              model: 'glm-4-plus'\n            }, {\n              name: 'ç”Ÿæˆæ‘˜è¦',\n              type: 'analysis',\n              template: 'summary',\n              model: 'glm-4-plus'\n            }, {\n              name: 'è¯†åˆ«ç ”ç©¶ç©ºç™½',\n              type: 'analysis',\n              template: 'gaps',\n              model: 'glm-4-plus'\n            }]\n          },\n          review: {\n            name: 'æ–‡çŒ®ç»¼è¿°',\n            nodes: [{\n              name: 'ä¸»é¢˜åˆ†æ',\n              type: 'analysis',\n              template: 'topic',\n              model: 'glm-4-plus'\n            }, {\n              name: 'ç”Ÿæˆç»¼è¿°',\n              type: 'generation',\n              template: 'review',\n              model: 'glm-4-plus'\n            }, {\n              name: 'è´¨é‡è¯„ä¼°',\n              type: 'evaluation',\n              template: 'quality',\n              model: 'glm-4-plus'\n            }]\n          },\n          code: {\n            name: 'ä»£ç ç”Ÿæˆ',\n            nodes: [{\n              name: 'éœ€æ±‚åˆ†æ',\n              type: 'analysis',\n              template: 'method_analysis',\n              model: 'glm-4-plus'\n            }, {\n              name: 'ç”Ÿæˆä»£ç ',\n              type: 'generation',\n              template: 'code',\n              model: 'glm-4-plus'\n            }, {\n              name: 'ä»£ç è¯„ä¼°',\n              type: 'evaluation',\n              template: 'quality',\n              model: 'glm-4-plus'\n            }]\n          },\n          topic: {\n            name: 'ä¸»é¢˜ç ”ç©¶',\n            nodes: [{\n              name: 'ä¸»é¢˜è¯†åˆ«',\n              type: 'analysis',\n              template: 'topic',\n              model: 'glm-4-plus'\n            }, {\n              name: 'æ–¹æ³•åˆ†æ',\n              type: 'analysis',\n              template: 'method_analysis',\n              model: 'glm-4-plus'\n            }, {\n              name: 'åˆ›æ–°è¯„ä¼°',\n              type: 'evaluation',\n              template: 'innovation',\n              model: 'glm-4-plus'\n            }]\n          }\n        };\n        const template = templates[templateId];\n        if (template) {\n          // æ¸…ç©ºç°æœ‰èŠ‚ç‚¹\n          chainNodes.value = [];\n\n          // æ ¹æ®æ¨¡æ¿åˆ›å»ºèŠ‚ç‚¹\n          template.nodes.forEach((nodeConfig, index) => {\n            const newNode = {\n              id: `node_${Date.now()}_${index}`,\n              name: nodeConfig.name,\n              type: nodeConfig.type,\n              template: nodeConfig.template,\n              prompt: getDefaultPrompt(nodeConfig.template),\n              model: nodeConfig.model || 'glm-4-plus',\n              temperature: 0.7,\n              maxTokens: 4000,\n              inputSource: index === 0 ? 'original' : chainNodes.value[index - 1]?.id || 'original',\n              outputFormat: 'text',\n              conditional: false,\n              condition: '',\n              status: 'pending'\n            };\n            chainNodes.value.push(newNode);\n          });\n\n          // è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªèŠ‚ç‚¹\n          if (chainNodes.value.length > 0) {\n            currentNode.value = chainNodes.value[0];\n          }\n          ElMessage.success(`å·²åŠ è½½æ¨¡æ¿: ${template.name}ï¼ŒåŒ…å« ${template.nodes.length} ä¸ªèŠ‚ç‚¹`);\n        }\n      } catch (error) {\n        console.error('åŠ è½½æ¨¡æ¿å¤±è´¥:', error);\n        ElMessage.error('åŠ è½½æ¨¡æ¿å¤±è´¥');\n      }\n    };\n    const resetChain = () => {\n      chainNodes.value.forEach(node => {\n        node.status = 'pending';\n      });\n      executionResults.value = [];\n      executionProgress.value = 0;\n      executionTime.value = 0;\n      ElMessage.success('å·²é‡ç½®å·¥ä½œæµçŠ¶æ€');\n    };\n    const exportResults = () => {\n      const data = JSON.stringify(executionResults.value, null, 2);\n      const blob = new Blob([data], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `workflow-results-${Date.now()}.json`;\n      a.click();\n      ElMessage.success('ç»“æœå·²å¯¼å‡º');\n    };\n    const saveWorkflow = () => {\n      showSaveWorkflow.value = true;\n    };\n    const confirmSaveWorkflow = async () => {\n      if (!workflowName.value) {\n        ElMessage.warning('è¯·è¾“å…¥å·¥ä½œæµåç§°');\n        return;\n      }\n      try {\n        // è°ƒç”¨ API ä¿å­˜å·¥ä½œæµ\n        await api.saveWorkflow({\n          name: workflowName.value,\n          description: workflowDescription.value,\n          nodes: chainNodes.value\n        });\n        ElMessage.success('å·¥ä½œæµä¿å­˜æˆåŠŸ');\n        showSaveWorkflow.value = false;\n      } catch (error) {\n        ElMessage.error('ä¿å­˜å¤±è´¥: ' + error.message);\n      }\n    };\n    onMounted(() => {\n      // åŠ è½½é»˜è®¤æ¨¡æ¿\n      loadTemplate('summary');\n\n      // æ˜¾ç¤ºæ¬¢è¿æç¤º\n      setTimeout(() => {\n        if (chainNodes.value.length === 0) {\n          ElMessage.info('æ¬¢è¿ä½¿ç”¨é“¾å¼å·¥ä½œæµï¼ç‚¹å‡»å·¦ä¾§æ¨¡æ¿å¿«é€Ÿå¼€å§‹ï¼Œæˆ–ç‚¹å‡»å³ä¸Šè§’ + æ·»åŠ èŠ‚ç‚¹');\n        }\n      }, 500);\n    });\n    const __returned__ = {\n      showAddNode,\n      showSaveWorkflow,\n      showGuide,\n      workflowName,\n      workflowDescription,\n      currentNode,\n      isExecuting,\n      executionProgress,\n      executionStatus,\n      executionTime,\n      currentExecutingNode,\n      executionResults,\n      chainNodes,\n      newNode,\n      workflowInput,\n      availableTemplates,\n      examples,\n      previousNodes,\n      availableVariables,\n      getNodeTypeLabel,\n      getNodeTypeTag,\n      addNode,\n      getDefaultPrompt,\n      removeNode,\n      moveNode,\n      selectNode,\n      applyTemplate,\n      useExample,\n      executeChain,\n      loadTemplate,\n      resetChain,\n      exportResults,\n      saveWorkflow,\n      confirmSaveWorkflow,\n      ref,\n      computed,\n      onMounted,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get Plus() {\n        return Plus;\n      },\n      get VideoPlay() {\n        return VideoPlay;\n      },\n      get Refresh() {\n        return Refresh;\n      },\n      get ArrowUp() {\n        return ArrowUp;\n      },\n      get ArrowDown() {\n        return ArrowDown;\n      },\n      get Delete() {\n        return Delete;\n      },\n      get CircleCheck() {\n        return CircleCheck;\n      },\n      get CircleClose() {\n        return CircleClose;\n      },\n      get Loading() {\n        return Loading;\n      },\n      get Timer() {\n        return Timer;\n      },\n      get Bottom() {\n        return Bottom;\n      },\n      get ArrowRight() {\n        return ArrowRight;\n      },\n      get QuestionFilled() {\n        return QuestionFilled;\n      },\n      get Document() {\n        return Document;\n      },\n      get Reading() {\n        return Reading;\n      },\n      get Cpu() {\n        return Cpu;\n      },\n      get DataAnalysis() {\n        return DataAnalysis;\n      },\n      get Download() {\n        return Download;\n      },\n      get Save() {\n        return Save;\n      },\n      get api() {\n        return api;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","ElMessage","Plus","VideoPlay","Refresh","ArrowUp","ArrowDown","Delete","CircleCheck","CircleClose","Loading","Timer","Bottom","ArrowRight","QuestionFilled","Document","Reading","Cpu","DataAnalysis","Download","Save","api","showAddNode","showSaveWorkflow","showGuide","workflowName","workflowDescription","currentNode","isExecuting","executionProgress","executionStatus","executionTime","currentExecutingNode","executionResults","chainNodes","newNode","type","name","template","workflowInput","availableTemplates","label","value","examples","paper","question","code","previousNodes","index","findIndex","n","id","slice","availableVariables","vars","description","forEach","node","idx","push","getNodeTypeLabel","labels","analysis","generation","evaluation","transform","getNodeTypeTag","tags","addNode","warning","find","t","Date","now","prompt","getDefaultPrompt","model","temperature","maxTokens","inputSource","length","outputFormat","conditional","condition","status","success","prompts","summary","keypoints","gaps","topic","method_analysis","report","review","improvement","quality","innovation","method","experiment","clean","format","removeNode","splice","moveNode","direction","newIndex","temp","selectNode","applyTemplate","useExample","executeChain","trim","startTime","output","error","nodesConfig","map","response","executeWorkflow","content","data","results","result","nodeName","node_name","nodeType","node_type","input","input_preview","full_output","output_preview","expanded","total_time","toFixed","Error","console","message","runningNode","loadTemplate","templateId","templates","nodes","nodeConfig","resetChain","exportResults","JSON","stringify","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","saveWorkflow","confirmSaveWorkflow","setTimeout","info"],"sources":["/Users/liucunyu/Documents/all_code/NUC_graduation_project/frontend/src/views/ChainWorkflow.vue"],"sourcesContent":["<template>\n  <div class=\"chain-workflow-container\">\n    <!-- å·¦ä¾§ï¼šè¾“å…¥å’Œé…ç½®é¢æ¿ -->\n    <div class=\"chain-input-panel\">\n      <div class=\"panel-header\">\n        <h2>è¾“å…¥å†…å®¹</h2>\n        <el-tooltip content=\"æŸ¥çœ‹ä½¿ç”¨æŒ‡å—\">\n          <el-button circle size=\"small\" @click=\"showGuide = true\">\n            <el-icon><QuestionFilled /></el-icon>\n          </el-button>\n        </el-tooltip>\n      </div>\n      \n      <div class=\"input-section\">\n        <div class=\"input-label\">\n          <span>è¾“å…¥è¦å¤„ç†çš„å†…å®¹ï¼š</span>\n          <el-tag size=\"small\" type=\"info\">æ”¯æŒè®ºæ–‡æ‘˜è¦ã€ç ”ç©¶é—®é¢˜ã€ä»£ç ç­‰</el-tag>\n        </div>\n        <el-input\n          v-model=\"workflowInput\"\n          type=\"textarea\"\n          :rows=\"10\"\n          placeholder=\"è¾“å…¥è¦å¤„ç†çš„è®ºæ–‡å†…å®¹ã€ç ”ç©¶é—®é¢˜æˆ–å…¶ä»–æ–‡æœ¬...&#10;ä¾‹å¦‚ï¼š&#10;è®ºæ–‡æ ‡é¢˜ï¼šåŸºäºæ·±åº¦å­¦ä¹ çš„è›‹ç™½è´¨ç»“æ„é¢„æµ‹&#10;æ‘˜è¦ï¼šæœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„...\"\n          resize=\"none\"\n        />\n      </div>\n      \n      <div class=\"templates-section\">\n        <h3>ğŸ“‹ å¿«é€Ÿæ¨¡æ¿</h3>\n        <p class=\"section-hint\">ç‚¹å‡»åŠ è½½é¢„è®¾å·¥ä½œæµæ¨¡æ¿ï¼Œè‡ªåŠ¨é…ç½®èŠ‚ç‚¹</p>\n        <div class=\"template-buttons\">\n          <el-button size=\"small\" type=\"primary\" plain @click=\"loadTemplate('summary')\">\n            <el-icon><Document /></el-icon> è®ºæ–‡åˆ†æ\n          </el-button>\n          <el-button size=\"small\" type=\"success\" plain @click=\"loadTemplate('review')\">\n            <el-icon><Reading /></el-icon> æ–‡çŒ®ç»¼è¿°\n          </el-button>\n          <el-button size=\"small\" type=\"warning\" plain @click=\"loadTemplate('code')\">\n            <el-icon><Cpu /></el-icon> ä»£ç ç”Ÿæˆ\n          </el-button>\n          <el-button size=\"small\" type=\"info\" plain @click=\"loadTemplate('topic')\">\n            <el-icon><DataAnalysis /></el-icon> ä¸»é¢˜ç ”ç©¶\n          </el-button>\n        </div>\n      </div>\n\n      <div class=\"quick-examples\">\n        <h3>ğŸ’¡ ç¤ºä¾‹è¾“å…¥</h3>\n        <el-collapse>\n          <el-collapse-item title=\"è®ºæ–‡æ‘˜è¦ç¤ºä¾‹\" name=\"1\">\n            <div class=\"example-text\" @click=\"useExample('paper')\">\n              è®ºæ–‡æ ‡é¢˜ï¼šåŸºäºTransformerçš„è›‹ç™½è´¨ç»“æ„é¢„æµ‹æ–¹æ³•ç ”ç©¶\n              æ‘˜è¦ï¼šæœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºTransformeræ¶æ„çš„æ–°å‹è›‹ç™½è´¨ç»“æ„é¢„æµ‹æ–¹æ³•...\n              [ç‚¹å‡»æŸ¥çœ‹ä½¿ç”¨æ­¤ç¤ºä¾‹]\n            </div>\n          </el-collapse-item>\n          <el-collapse-item title=\"ç ”ç©¶é—®é¢˜ç¤ºä¾‹\" name=\"2\">\n            <div class=\"example-text\" @click=\"useExample('question')\">\n              é—®é¢˜ï¼šå¦‚ä½•æé«˜æ·±åº¦å­¦ä¹ æ¨¡å‹åœ¨å°æ ·æœ¬åŒ»å­¦å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­çš„æ€§èƒ½ï¼Ÿ\n              [ç‚¹å‡»æŸ¥çœ‹ä½¿ç”¨æ­¤ç¤ºä¾‹]\n            </div>\n          </el-collapse-item>\n          <el-collapse-item title=\"ä»£ç éœ€æ±‚ç¤ºä¾‹\" name=\"3\">\n            <div class=\"example-text\" @click=\"useExample('code')\">\n              éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªåŸºäºPyTorchçš„Transformeræ¨¡å‹ï¼Œç”¨äºæ—¶é—´åºåˆ—é¢„æµ‹ä»»åŠ¡ã€‚\n              è¦æ±‚ï¼šåŒ…å«ä½ç½®ç¼–ç ã€å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶ã€å‰é¦ˆç½‘ç»œã€‚\n              [ç‚¹å‡»æŸ¥çœ‹ä½¿ç”¨æ­¤ç¤ºä¾‹]\n            </div>\n          </el-collapse-item>\n        </el-collapse>\n      </div>\n    </div>\n\n    <!-- ä¸­é—´ï¼šé“¾å¼é…ç½®é¢æ¿ -->\n    <div class=\"chain-config-panel\">\n      <div class=\"panel-header\">\n        <div class=\"header-title\">\n          <h2>é“¾å¼å·¥ä½œæµé…ç½®</h2>\n          <el-tag size=\"small\" type=\"info\">{{ chainNodes.length }} ä¸ªèŠ‚ç‚¹</el-tag>\n        </div>\n        <el-tooltip content=\"æ·»åŠ èŠ‚ç‚¹\">\n          <el-button type=\"primary\" circle @click=\"showAddNode = true\">\n            <el-icon><Plus /></el-icon>\n          </el-button>\n        </el-tooltip>\n      </div>\n\n      <!-- èŠ‚ç‚¹åˆ—è¡¨ -->\n      <div class=\"nodes-list\" v-if=\"chainNodes.length > 0\">\n        <div class=\"nodes-hint\">\n          <el-alert\n            title=\"èŠ‚ç‚¹æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºå¯ä½œä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å…¥\"\n            type=\"info\"\n            :closable=\"false\"\n            show-icon\n          />\n        </div>\n        \n        <div\n          v-for=\"(node, index) in chainNodes\"\n          :key=\"node.id\"\n          class=\"chain-node\"\n          :class=\"{ \n            'active': currentNode?.id === node.id,\n            'completed': node.status === 'completed',\n            'running': node.status === 'running',\n            'error': node.status === 'error'\n          }\"\n          @click=\"selectNode(node)\"\n        >\n          <div class=\"node-index\">{{ index + 1 }}</div>\n          <div class=\"node-info\">\n            <div class=\"node-name\">{{ node.name }}</div>\n            <div class=\"node-type\">{{ getNodeTypeLabel(node.type) }}</div>\n          </div>\n          <div class=\"node-status\">\n            <el-icon v-if=\"node.status === 'completed'\" class=\"status-icon success\"><CircleCheck /></el-icon>\n            <el-icon v-else-if=\"node.status === 'running'\" class=\"status-icon running\"><Loading /></el-icon>\n            <el-icon v-else-if=\"node.status === 'error'\" class=\"status-icon error\"><CircleClose /></el-icon>\n            <el-icon v-else class=\"status-icon pending\"><Timer /></el-icon>\n          </div>\n          <div class=\"node-actions\">\n            <el-icon class=\"action-btn\" @click.stop=\"moveNode(index, -1)\" v-if=\"index > 0\"><ArrowUp /></el-icon>\n            <el-icon class=\"action-btn\" @click.stop=\"moveNode(index, 1)\" v-if=\"index < chainNodes.length - 1\"><ArrowDown /></el-icon>\n            <el-icon class=\"action-btn delete\" @click.stop=\"removeNode(index)\"><Delete /></el-icon>\n          </div>\n        </div>\n\n        <!-- è¿æ¥ç®­å¤´ -->\n        <div class=\"chain-connections\" v-if=\"chainNodes.length > 1\">\n          <div\n            v-for=\"i in chainNodes.length - 1\"\n            :key=\"i\"\n            class=\"connection-line\"\n          >\n            <el-icon><Bottom /></el-icon>\n          </div>\n        </div>\n      </div>\n\n      <!-- ç©ºçŠ¶æ€ -->\n      <el-empty v-else description=\"æš‚æ— èŠ‚ç‚¹ï¼Œç‚¹å‡»å³ä¸Šè§’æ·»åŠ æˆ–é€‰æ‹©å·¦ä¾§æ¨¡æ¿\">\n        <el-button type=\"primary\" @click=\"showAddNode = true\">æ·»åŠ ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</el-button>\n      </el-empty>\n\n      <!-- æ‰§è¡ŒæŒ‰é’® -->\n      <div class=\"panel-footer\" v-if=\"chainNodes.length > 0\">\n        <el-button \n          type=\"primary\" \n          size=\"large\" \n          class=\"execute-btn\"\n          :loading=\"isExecuting\"\n          :disabled=\"chainNodes.length === 0 || !workflowInput.trim()\"\n          @click=\"executeChain\"\n        >\n          <el-icon><VideoPlay /></el-icon>\n          {{ isExecuting ? 'æ‰§è¡Œä¸­...' : 'æ‰§è¡Œé“¾å¼è°ƒç”¨' }}\n        </el-button>\n        <el-button size=\"large\" @click=\"resetChain\">\n          <el-icon><Refresh /></el-icon>\n          é‡ç½®\n        </el-button>\n      </div>\n    </div>\n\n    <!-- ä¸­é—´ï¼šèŠ‚ç‚¹é…ç½®è¯¦æƒ… -->\n    <div class=\"node-config-panel\" v-if=\"currentNode\">\n      <div class=\"panel-header\">\n        <h3>{{ currentNode.name }}</h3>\n        <el-tag :type=\"getNodeTypeTag(currentNode.type)\">\n          {{ getNodeTypeLabel(currentNode.type) }}\n        </el-tag>\n      </div>\n\n      <el-form label-width=\"100px\" class=\"node-form\">\n        <!-- èŠ‚ç‚¹åç§° -->\n        <el-form-item label=\"èŠ‚ç‚¹åç§°\">\n          <el-input v-model=\"currentNode.name\" placeholder=\"è¾“å…¥èŠ‚ç‚¹åç§°\" />\n        </el-form-item>\n\n        <!-- è¾“å…¥æº -->\n        <el-form-item label=\"è¾“å…¥æº\">\n          <el-select v-model=\"currentNode.inputSource\" style=\"width: 100%\">\n            <el-option label=\"åŸå§‹è¾“å…¥\" value=\"original\" />\n            <el-option \n              v-for=\"(node, idx) in previousNodes\" \n              :key=\"node.id\"\n              :label=\"`æ­¥éª¤ ${idx + 1}: ${node.name}`\"\n              :value=\"node.id\"\n            />\n          </el-select>\n          <div class=\"form-hint\">é€‰æ‹©æ­¤èŠ‚ç‚¹çš„è¾“å…¥æ•°æ®æ¥æº</div>\n        </el-form-item>\n\n        <!-- æç¤ºè¯æ¨¡æ¿ -->\n        <el-form-item label=\"æç¤ºè¯æ¨¡æ¿\">\n          <el-select \n            v-model=\"currentNode.template\" \n            placeholder=\"é€‰æ‹©é¢„è®¾æ¨¡æ¿\"\n            style=\"width: 100%\"\n            @change=\"applyTemplate\"\n          >\n            <el-option-group label=\"åˆ†æç±»\">\n              <el-option label=\"ç”Ÿæˆæ‘˜è¦\" value=\"summary\" />\n              <el-option label=\"æå–è¦ç‚¹\" value=\"keypoints\" />\n              <el-option label=\"è¯†åˆ«ç ”ç©¶ç©ºç™½\" value=\"gaps\" />\n              <el-option label=\"ä¸»é¢˜åˆ†æ\" value=\"topic\" />\n              <el-option label=\"æ–¹æ³•åˆ†æ\" value=\"method_analysis\" />\n            </el-option-group>\n            <el-option-group label=\"ç”Ÿæˆç±»\">\n              <el-option label=\"ç”Ÿæˆä»£ç \" value=\"code\" />\n              <el-option label=\"ç”ŸæˆæŠ¥å‘Š\" value=\"report\" />\n              <el-option label=\"æ–‡çŒ®ç»¼è¿°\" value=\"review\" />\n              <el-option label=\"æ”¹è¿›å»ºè®®\" value=\"improvement\" />\n            </el-option-group>\n            <el-option-group label=\"è¯„ä¼°ç±»\">\n              <el-option label=\"è´¨é‡è¯„ä¼°\" value=\"quality\" />\n              <el-option label=\"åˆ›æ–°æ€§è¯„ä¼°\" value=\"innovation\" />\n              <el-option label=\"æ–¹æ³•è¯„ä¼°\" value=\"method\" />\n              <el-option label=\"å®éªŒè®¾è®¡è¯„ä¼°\" value=\"experiment\" />\n            </el-option-group>\n          </el-select>\n        </el-form-item>\n\n        <!-- è‡ªå®šä¹‰æç¤ºè¯ -->\n        <el-form-item label=\"è‡ªå®šä¹‰æç¤º\">\n          <el-input\n            v-model=\"currentNode.prompt\"\n            type=\"textarea\"\n            :rows=\"8\"\n            placeholder=\"è¾“å…¥è‡ªå®šä¹‰æç¤ºè¯ï¼Œä½¿ç”¨ {{input}} å¼•ç”¨è¾“å…¥å†…å®¹&#10;ä¾‹å¦‚ï¼š&#10;è¯·å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œæ·±åº¦åˆ†æï¼š&#10;&#10;{{input}}&#10;&#10;è¦æ±‚ï¼š&#10;1. æå–æ ¸å¿ƒè§‚ç‚¹&#10;2. åˆ†æç ”ç©¶æ–¹æ³•&#10;3. æŒ‡å‡ºåˆ›æ–°ç‚¹\"\n          />\n          <div class=\"form-hint\">ä½¿ç”¨ {{input}} å¼•ç”¨è¾“å…¥å†…å®¹ï¼Œæ”¯æŒMarkdownæ ¼å¼</div>\n        </el-form-item>\n\n        <!-- æ¨¡å‹é…ç½® -->\n        <el-divider content-position=\"left\">æ¨¡å‹é…ç½®</el-divider>\n        \n        <el-form-item label=\"æ¨¡å‹\">\n          <el-select v-model=\"currentNode.model\" style=\"width: 100%\">\n            <el-option label=\"GLM-4-Plusï¼ˆæ¨èï¼‰\" value=\"glm-4-plus\" />\n            <el-option label=\"GLM-4-Flashï¼ˆå¿«é€Ÿï¼‰\" value=\"glm-4-flash\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"æ¸©åº¦\">\n          <el-slider v-model=\"currentNode.temperature\" :min=\"0\" :max=\"1\" :step=\"0.1\" show-stops />\n          <div class=\"slider-hint\">\n            <span>ç¡®å®šæ€§</span>\n            <span style=\"float: right;\">åˆ›é€ æ€§</span>\n          </div>\n        </el-form-item>\n\n        <el-form-item label=\"æœ€å¤§é•¿åº¦\">\n          <el-input-number v-model=\"currentNode.maxTokens\" :min=\"500\" :max=\"8000\" :step=\"500\" style=\"width: 100%\" />\n        </el-form-item>\n\n        <!-- è¾“å‡ºå¤„ç† -->\n        <el-divider content-position=\"left\">è¾“å‡ºé…ç½®</el-divider>\n        \n        <el-form-item label=\"è¾“å‡ºæ ¼å¼\">\n          <el-radio-group v-model=\"currentNode.outputFormat\">\n            <el-radio label=\"text\">çº¯æ–‡æœ¬</el-radio>\n            <el-radio label=\"json\">JSON</el-radio>\n            <el-radio label=\"markdown\">Markdown</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n\n      <!-- å˜é‡é¢„è§ˆ -->\n      <div class=\"variables-preview\">\n        <div class=\"preview-title\">å¯ç”¨å˜é‡</div>\n        <div class=\"variable-list\">\n          <el-tag v-for=\"variable in availableVariables\" :key=\"variable.name\" size=\"small\" class=\"variable-tag\" effect=\"plain\">\n            {{ variable.name }}\n          </el-tag>\n        </div>\n        <div class=\"variable-hint\">ç‚¹å‡»å¤åˆ¶å˜é‡åˆ°å‰ªè´´æ¿</div>\n      </div>\n    </div>\n\n    <!-- å³ä¾§ï¼šæ‰§è¡Œç»“æœ -->\n    <div class=\"execution-panel\">\n      <div class=\"panel-header\">\n        <h3>æ‰§è¡Œç»“æœ</h3>\n        <div class=\"execution-stats\" v-if=\"executionTime > 0\">\n          <el-tag size=\"small\" type=\"info\">\n            <el-icon><Timer /></el-icon>\n            {{ executionTime }}ms\n          </el-tag>\n        </div>\n      </div>\n\n      <!-- è¿›åº¦æ¡ -->\n      <div v-if=\"isExecuting\" class=\"execution-progress\">\n        <el-progress \n          :percentage=\"executionProgress\" \n          :status=\"executionStatus\"\n          :stroke-width=\"8\"\n        />\n        <div class=\"current-step\">æ­£åœ¨æ‰§è¡Œ: {{ currentExecutingNode?.name }}</div>\n      </div>\n\n      <!-- ç»“æœåˆ—è¡¨ -->\n      <div class=\"results-list\" v-else>\n        <div\n          v-for=\"(result, index) in executionResults\"\n          :key=\"index\"\n          class=\"result-item\"\n          :class=\"{ 'expanded': result.expanded }\"\n        >\n          <div class=\"result-header\" @click=\"result.expanded = !result.expanded\">\n            <div class=\"result-title\">\n              <span class=\"step-number\">æ­¥éª¤ {{ index + 1 }}</span>\n              <span class=\"node-name\">{{ result.nodeName }}</span>\n            </div>\n            <div class=\"result-meta\">\n              <el-tag size=\"small\" :type=\"result.success ? 'success' : 'danger'\">\n                {{ result.success ? 'æˆåŠŸ' : 'å¤±è´¥' }}\n              </el-tag>\n              <el-icon class=\"expand-icon\"><ArrowDown v-if=\"result.expanded\" /><ArrowRight v-else /></el-icon>\n            </div>\n          </div>\n          \n          <div v-if=\"result.expanded\" class=\"result-content\">\n            <div class=\"result-section\">\n              <div class=\"section-title\">è¾“å…¥</div>\n              <pre class=\"section-content input\">{{ result.input }}</pre>\n            </div>\n            <div class=\"result-section\">\n              <div class=\"section-title\">è¾“å‡º</div>\n              <pre class=\"section-content output\">{{ result.output }}</pre>\n            </div>\n            <div v-if=\"result.error\" class=\"result-section\">\n              <div class=\"section-title\">é”™è¯¯</div>\n              <pre class=\"section-content error\">{{ result.error }}</pre>\n            </div>\n          </div>\n        </div>\n\n        <!-- ç©ºçŠ¶æ€ -->\n        <el-empty v-if=\"executionResults.length === 0\" description=\"å°šæœªæ‰§è¡Œï¼Œè¯·é…ç½®å·¥ä½œæµå¹¶ç‚¹å‡»æ‰§è¡Œ\">\n          <template #description>\n            <div class=\"empty-hint\">\n              <p>å°šæœªæ‰§è¡Œå·¥ä½œæµ</p>\n              <p class=\"sub-hint\">1. åœ¨å·¦ä¾§è¾“å…¥å†…å®¹</p>\n              <p class=\"sub-hint\">2. æ·»åŠ å·¥ä½œæµèŠ‚ç‚¹</p>\n              <p class=\"sub-hint\">3. ç‚¹å‡»\"æ‰§è¡Œé“¾å¼è°ƒç”¨\"</p>\n            </div>\n          </template>\n        </el-empty>\n      </div>\n\n      <!-- æ“ä½œæŒ‰é’® -->\n      <div class=\"panel-footer\" v-if=\"executionResults.length > 0\">\n        <el-button @click=\"exportResults\">\n          <el-icon><Download /></el-icon>\n          å¯¼å‡ºç»“æœ\n        </el-button>\n        <el-button type=\"primary\" @click=\"saveWorkflow\">\n          <el-icon><Save /></el-icon>\n          ä¿å­˜å·¥ä½œæµ\n        </el-button>\n      </div>\n    </div>\n\n    <!-- æ·»åŠ èŠ‚ç‚¹å¯¹è¯æ¡† -->\n    <el-dialog v-model=\"showAddNode\" title=\"æ·»åŠ èŠ‚ç‚¹\" width=\"500px\">\n      <el-form label-width=\"80px\">\n        <el-form-item label=\"èŠ‚ç‚¹ç±»å‹\">\n          <el-radio-group v-model=\"newNode.type\">\n            <el-radio-button label=\"analysis\">åˆ†æ</el-radio-button>\n            <el-radio-button label=\"generation\">ç”Ÿæˆ</el-radio-button>\n            <el-radio-button label=\"evaluation\">è¯„ä¼°</el-radio-button>\n            <el-radio-button label=\"transform\">è½¬æ¢</el-radio-button>\n          </el-radio-group>\n        </el-form-item>\n        \n        <el-form-item label=\"èŠ‚ç‚¹åç§°\">\n          <el-input v-model=\"newNode.name\" placeholder=\"è¾“å…¥èŠ‚ç‚¹åç§°\" />\n        </el-form-item>\n\n        <el-form-item label=\"æ¨¡æ¿\">\n          <el-select v-model=\"newNode.template\" placeholder=\"é€‰æ‹©é¢„è®¾æ¨¡æ¿\" style=\"width: 100%\">\n            <el-option\n              v-for=\"template in availableTemplates\"\n              :key=\"template.value\"\n              :label=\"template.label\"\n              :value=\"template.value\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      \n      <template #footer>\n        <el-button @click=\"showAddNode = false\">å–æ¶ˆ</el-button>\n        <el-button type=\"primary\" @click=\"addNode\" :disabled=\"!newNode.name\">ç¡®å®š</el-button>\n      </template>\n    </el-dialog>\n\n    <!-- ä¿å­˜å·¥ä½œæµå¯¹è¯æ¡† -->\n    <el-dialog v-model=\"showSaveWorkflow\" title=\"ä¿å­˜å·¥ä½œæµ\" width=\"400px\">\n      <el-form label-width=\"80px\">\n        <el-form-item label=\"åç§°\">\n          <el-input v-model=\"workflowName\" placeholder=\"è¾“å…¥å·¥ä½œæµåç§°\" />\n        </el-form-item>\n        <el-form-item label=\"æè¿°\">\n          <el-input v-model=\"workflowDescription\" type=\"textarea\" :rows=\"3\" placeholder=\"è¾“å…¥å·¥ä½œæµæè¿°\" />\n        </el-form-item>\n      </el-form>\n      \n      <template #footer>\n        <el-button @click=\"showSaveWorkflow = false\">å–æ¶ˆ</el-button>\n        <el-button type=\"primary\" @click=\"confirmSaveWorkflow\" :disabled=\"!workflowName\">ä¿å­˜</el-button>\n      </template>\n    </el-dialog>\n\n    <!-- ä½¿ç”¨æŒ‡å—å¯¹è¯æ¡† -->\n    <el-dialog v-model=\"showGuide\" title=\"é“¾å¼å·¥ä½œæµä½¿ç”¨æŒ‡å—\" width=\"700px\">\n      <div class=\"guide-content\">\n        <h4>ğŸš€ å¿«é€Ÿå¼€å§‹</h4>\n        <ol>\n          <li><strong>è¾“å…¥å†…å®¹</strong> - åœ¨å·¦ä¾§è¾“å…¥æ¡†ä¸­ç²˜è´´è®ºæ–‡æ‘˜è¦ã€ç ”ç©¶é—®é¢˜æˆ–å…¶ä»–æ–‡æœ¬</li>\n          <li><strong>é€‰æ‹©æ¨¡æ¿</strong> - ç‚¹å‡»\"å¿«é€Ÿæ¨¡æ¿\"åŠ è½½é¢„è®¾çš„å·¥ä½œæµé…ç½®</li>\n          <li><strong>è°ƒæ•´èŠ‚ç‚¹</strong> - åœ¨ä¸­é—´é¢æ¿æ·»åŠ ã€åˆ é™¤æˆ–è°ƒæ•´å¤„ç†èŠ‚ç‚¹</li>\n          <li><strong>æ‰§è¡Œ</strong> - ç‚¹å‡»\"æ‰§è¡Œé“¾å¼è°ƒç”¨\"æŒ‰é’®å¼€å§‹å¤„ç†</li>\n          <li><strong>æŸ¥çœ‹ç»“æœ</strong> - åœ¨å³ä¾§é¢æ¿æŸ¥çœ‹æ¯ä¸ªæ­¥éª¤çš„è¾“å‡º</li>\n        </ol>\n        \n        <h4>ğŸ“Š èŠ‚ç‚¹ç±»å‹è¯´æ˜</h4>\n        <ul>\n          <li><strong>åˆ†æç±»</strong> - æå–ä¿¡æ¯ã€è¯†åˆ«æ¨¡å¼ã€æ€»ç»“å†…å®¹</li>\n          <li><strong>ç”Ÿæˆç±»</strong> - åˆ›å»ºæ–°å†…å®¹ï¼Œå¦‚ä»£ç ã€æŠ¥å‘Šã€ç»¼è¿°</li>\n          <li><strong>è¯„ä¼°ç±»</strong> - è¯„ä¼°è´¨é‡ã€åˆ›æ–°æ€§ã€æ–¹æ³•åˆç†æ€§</li>\n          <li><strong>è½¬æ¢ç±»</strong> - æ ¼å¼è½¬æ¢ã€æ•°æ®æ¸…æ´—ã€ç¿»è¯‘</li>\n        </ul>\n        \n        <h4>ğŸ’¡ ä½¿ç”¨æŠ€å·§</h4>\n        <ul>\n          <li>ä½¿ç”¨ <code>{{input}}</code> å¼•ç”¨åŸå§‹è¾“å…¥</li>\n          <li>ä½¿ç”¨ <code>{{step1}}</code>ã€<code>{{step2}}</code> ç­‰å¼•ç”¨å‰é¢èŠ‚ç‚¹çš„è¾“å‡º</li>\n          <li>èŠ‚ç‚¹æŒ‰é¡ºåºæ‰§è¡Œï¼Œå‰ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºå¯ä½œä¸ºåä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å…¥</li>\n          <li>å¯ä»¥ä¿å­˜å¸¸ç”¨çš„å·¥ä½œæµé…ç½®ï¼Œæ–¹ä¾¿ä¸‹æ¬¡ä½¿ç”¨</li>\n        </ul>\n        \n        <h4>ğŸ”§ é«˜çº§é…ç½®</h4>\n        <ul>\n          <li><strong>æ¸©åº¦å‚æ•°</strong> - è¾ƒä½å€¼äº§ç”Ÿæ›´ç¡®å®šçš„è¾“å‡ºï¼Œè¾ƒé«˜å€¼æ›´å…·åˆ›é€ æ€§</li>\n          <li><strong>æœ€å¤§é•¿åº¦</strong> - æ§åˆ¶ç”Ÿæˆçš„æœ€å¤§tokenæ•°é‡</li>\n          <li><strong>è¾“å‡ºæ ¼å¼</strong> - å¯é€‰æ‹©çº¯æ–‡æœ¬ã€JSONæˆ–Markdownæ ¼å¼</li>\n        </ul>\n      </div>\n      <template #footer>\n        <el-button type=\"primary\" @click=\"showGuide = false\">çŸ¥é“äº†</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport {\n  Plus, VideoPlay, Refresh, ArrowUp, ArrowDown, Delete,\n  CircleCheck, CircleClose, Loading, Timer, Bottom,\n  ArrowRight, QuestionFilled, Document, Reading, Cpu, DataAnalysis,\n  Download, Save\n} from '@element-plus/icons-vue'\nimport api from '@/api'\n\n// çŠ¶æ€\nconst showAddNode = ref(false)\nconst showSaveWorkflow = ref(false)\nconst showGuide = ref(false)\nconst workflowName = ref('')\nconst workflowDescription = ref('')\nconst currentNode = ref(null)\nconst isExecuting = ref(false)\nconst executionProgress = ref(0)\nconst executionStatus = ref('')\nconst executionTime = ref(0)\nconst currentExecutingNode = ref(null)\nconst executionResults = ref([])\n\n// é“¾å¼èŠ‚ç‚¹\nconst chainNodes = ref([])\n\n// æ–°èŠ‚ç‚¹é…ç½®\nconst newNode = ref({\n  type: 'analysis',\n  name: '',\n  template: ''\n})\n\n// è¾“å…¥å†…å®¹\nconst workflowInput = ref('')\n\n// å¯ç”¨æ¨¡æ¿\nconst availableTemplates = [\n  { label: 'ç”Ÿæˆæ‘˜è¦', value: 'summary', type: 'analysis' },\n  { label: 'æå–è¦ç‚¹', value: 'keypoints', type: 'analysis' },\n  { label: 'è¯†åˆ«ç ”ç©¶ç©ºç™½', value: 'gaps', type: 'analysis' },\n  { label: 'ä¸»é¢˜åˆ†æ', value: 'topic', type: 'analysis' },\n  { label: 'æ–¹æ³•åˆ†æ', value: 'method_analysis', type: 'analysis' },\n  { label: 'ç”Ÿæˆä»£ç ', value: 'code', type: 'generation' },\n  { label: 'ç”ŸæˆæŠ¥å‘Š', value: 'report', type: 'generation' },\n  { label: 'æ–‡çŒ®ç»¼è¿°', value: 'review', type: 'generation' },\n  { label: 'æ”¹è¿›å»ºè®®', value: 'improvement', type: 'generation' },\n  { label: 'è´¨é‡è¯„ä¼°', value: 'quality', type: 'evaluation' },\n  { label: 'åˆ›æ–°æ€§è¯„ä¼°', value: 'innovation', type: 'evaluation' },\n  { label: 'æ–¹æ³•è¯„ä¼°', value: 'method', type: 'evaluation' },\n  { label: 'å®éªŒè®¾è®¡è¯„ä¼°', value: 'experiment', type: 'evaluation' },\n  { label: 'æ•°æ®æ¸…æ´—', value: 'clean', type: 'transform' },\n  { label: 'æ ¼å¼è½¬æ¢', value: 'format', type: 'transform' }\n]\n\n// ç¤ºä¾‹æ–‡æœ¬\nconst examples = {\n  paper: `è®ºæ–‡æ ‡é¢˜ï¼šåŸºäºTransformerçš„è›‹ç™½è´¨ç»“æ„é¢„æµ‹æ–¹æ³•ç ”ç©¶\n\næ‘˜è¦ï¼šæœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºTransformeræ¶æ„çš„æ–°å‹è›‹ç™½è´¨ç»“æ„é¢„æµ‹æ–¹æ³•ã€‚è¯¥æ–¹æ³•åˆ©ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶æ•è·åºåˆ—ä¸­çš„é•¿ç¨‹ä¾èµ–å…³ç³»ï¼Œå¹¶é€šè¿‡å¤šå°ºåº¦ç‰¹å¾èåˆç­–ç•¥æ•´åˆä¸åŒå±‚æ¬¡çš„ç»“æ„ä¿¡æ¯ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œåœ¨CASP14æ•°æ®é›†ä¸Šï¼Œæˆ‘ä»¬çš„æ–¹æ³•ç›¸æ¯”ç°æœ‰æœ€ä¼˜æ–¹æ³•å°†GDT-TSåˆ†æ•°æé«˜äº†2.3ä¸ªç™¾åˆ†ç‚¹ã€‚`,\n  question: `å¦‚ä½•æé«˜æ·±åº¦å­¦ä¹ æ¨¡å‹åœ¨å°æ ·æœ¬åŒ»å­¦å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­çš„æ€§èƒ½ï¼Ÿ\n\nèƒŒæ™¯ï¼šç°æœ‰æ–¹æ³•åœ¨æ ·æœ¬å……è¶³æ—¶è¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨åŒ»å­¦é¢†åŸŸå¾€å¾€éš¾ä»¥è·å–å¤§é‡æ ‡æ³¨æ•°æ®ã€‚\nçº¦æŸæ¡ä»¶ï¼š\n- æ¯ç±»åªæœ‰10-50ä¸ªæ ·æœ¬\n- éœ€è¦é«˜å‡†ç¡®ç‡\n- æ¨¡å‹éœ€è¦å¯è§£é‡Š`,\n  code: `éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªåŸºäºPyTorchçš„Transformeræ¨¡å‹ï¼Œç”¨äºæ—¶é—´åºåˆ—é¢„æµ‹ä»»åŠ¡ã€‚\n\nè¦æ±‚ï¼š\n1. åŒ…å«ä½ç½®ç¼–ç \n2. å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶\n3. å‰é¦ˆç½‘ç»œ\n4. æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–\n5. æ”¯æŒå¯å˜é•¿åº¦è¾“å…¥`\n}\n\n// è®¡ç®—å±æ€§\nconst previousNodes = computed(() => {\n  if (!currentNode.value) return []\n  const index = chainNodes.value.findIndex(n => n.id === currentNode.value.id)\n  return chainNodes.value.slice(0, index)\n})\n\nconst availableVariables = computed(() => {\n  const vars = [\n    { name: '{{input}}', description: 'å½“å‰èŠ‚ç‚¹çš„è¾“å…¥å†…å®¹' },\n    { name: '{{original}}', description: 'åŸå§‹è¾“å…¥å†…å®¹' }\n  ]\n  \n  previousNodes.value.forEach((node, idx) => {\n    vars.push({\n      name: `{{step${idx + 1}}}`,\n      description: `${node.name} çš„è¾“å‡º`\n    })\n  })\n  \n  return vars\n})\n\n// æ–¹æ³•\nconst getNodeTypeLabel = (type) => {\n  const labels = {\n    analysis: 'åˆ†æ',\n    generation: 'ç”Ÿæˆ',\n    evaluation: 'è¯„ä¼°',\n    transform: 'è½¬æ¢'\n  }\n  return labels[type] || type\n}\n\nconst getNodeTypeTag = (type) => {\n  const tags = {\n    analysis: 'primary',\n    generation: 'success',\n    evaluation: 'warning',\n    transform: 'info'\n  }\n  return tags[type] || ''\n}\n\nconst addNode = () => {\n  if (!newNode.value.name) {\n    ElMessage.warning('è¯·è¾“å…¥èŠ‚ç‚¹åç§°')\n    return\n  }\n  \n  const template = availableTemplates.find(t => t.value === newNode.value.template)\n  \n  const node = {\n    id: Date.now(),\n    name: newNode.value.name,\n    type: newNode.value.type,\n    template: newNode.value.template,\n    prompt: getDefaultPrompt(newNode.value.template),\n    model: 'glm-4-plus',\n    temperature: 0.7,\n    maxTokens: 4000,\n    inputSource: chainNodes.value.length === 0 ? 'original' : chainNodes.value[chainNodes.value.length - 1].id,\n    outputFormat: 'text',\n    conditional: false,\n    condition: '',\n    status: 'pending'\n  }\n  \n  chainNodes.value.push(node)\n  currentNode.value = node\n  showAddNode.value = false\n  \n  // é‡ç½®æ–°èŠ‚ç‚¹è¡¨å•\n  newNode.value = { type: 'analysis', name: '', template: '' }\n  \n  ElMessage.success('èŠ‚ç‚¹æ·»åŠ æˆåŠŸ')\n}\n\nconst getDefaultPrompt = (template) => {\n  const prompts = {\n    summary: 'è¯·å¯¹ä»¥ä¸‹å†…å®¹ç”Ÿæˆä¸€ä»½ç®€æ´çš„æ‘˜è¦ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. çªå‡ºæ ¸å¿ƒè´¡çŒ®\\n2. ç®€æ˜æ‰¼è¦ï¼Œæ§åˆ¶åœ¨200å­—ä»¥å†…\\n3. ä½¿ç”¨å­¦æœ¯è¯­è¨€',\n    keypoints: 'è¯·ä»ä»¥ä¸‹å†…å®¹ä¸­æå–æ ¸å¿ƒè¦ç‚¹ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ—å‡º3-5ä¸ªå…³é”®è¦ç‚¹\\n2. æ¯ä¸ªè¦ç‚¹ä¸€å¥è¯æ¦‚æ‹¬\\n3. æŒ‰é‡è¦æ€§æ’åº',\n    gaps: 'è¯·åˆ†æä»¥ä¸‹å†…å®¹ï¼Œè¯†åˆ«ç ”ç©¶ç©ºç™½ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. æŒ‡å‡ºç°æœ‰ç ”ç©¶çš„ä¸è¶³\\n2. æå‡ºå¯èƒ½çš„ç ”ç©¶æ–¹å‘\\n3. è¯´æ˜æ¯ä¸ªæ–¹å‘çš„æ½œåœ¨ä»·å€¼',\n    topic: 'è¯·åˆ†æä»¥ä¸‹å†…å®¹çš„ä¸»é¢˜ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. è¯†åˆ«ä¸»è¦ç ”ç©¶é¢†åŸŸ\\n2. æå–æ ¸å¿ƒå…³é”®è¯ï¼ˆ5-10ä¸ªï¼‰\\n3. è¯´æ˜ä¸å…¶ä»–é¢†åŸŸçš„å…³è”',\n    method_analysis: 'è¯·åˆ†æä»¥ä¸‹å†…å®¹çš„ç ”ç©¶æ–¹æ³•ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. æè¿°ä½¿ç”¨çš„æ–¹æ³•å’ŒæŠ€æœ¯\\n2. åˆ†ææ–¹æ³•çš„ä¼˜åŠ¿å’Œå±€é™\\n3. ä¸å…¶ä»–æ–¹æ³•è¿›è¡Œå¯¹æ¯”',\n    code: 'è¯·æ ¹æ®ä»¥ä¸‹éœ€æ±‚ç”Ÿæˆä»£ç ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šå®Œæ•´\\n2. åŒ…å«å¿…è¦çš„é”™è¯¯å¤„ç†\\n3. æä¾›ä½¿ç”¨ç¤ºä¾‹',\n    report: 'è¯·æ ¹æ®ä»¥ä¸‹å†…å®¹ç”ŸæˆæŠ¥å‘Šï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ç»“æ„å®Œæ•´ï¼ŒåŒ…å«èƒŒæ™¯ã€æ–¹æ³•ã€ç»“æœã€ç»“è®º\\n2. é€»è¾‘æ¸…æ™°ï¼Œè®ºè¯å……åˆ†\\n3. ä½¿ç”¨å­¦æœ¯å†™ä½œè§„èŒƒ',\n    review: 'è¯·å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œç»¼è¿°ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ç³»ç»Ÿå›é¡¾ç›¸å…³ç ”ç©¶\\n2. æ¯”è¾ƒä¸åŒæ–¹æ³•çš„ä¼˜ç¼ºç‚¹\\n3. æŒ‡å‡ºæœªæ¥ç ”ç©¶æ–¹å‘',\n    improvement: 'è¯·é’ˆå¯¹ä»¥ä¸‹å†…å®¹æå‡ºæ”¹è¿›å»ºè®®ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. æŒ‡å‡ºå¯æ”¹è¿›çš„æ–¹é¢\\n2. æä¾›å…·ä½“çš„æ”¹è¿›æ–¹æ¡ˆ\\n3. åˆ†ææ”¹è¿›åçš„é¢„æœŸæ•ˆæœ',\n    quality: 'è¯·è¯„ä¼°ä»¥ä¸‹å†…å®¹çš„è´¨é‡ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. è¯„ä¼°æ–¹æ³•çš„ç§‘å­¦æ€§\\n2. åˆ†æå®éªŒè®¾è®¡çš„åˆç†æ€§\\n3. è¯„ä»·ç»“è®ºçš„å¯é æ€§\\n4. ç»™å‡ºç»¼åˆè¯„åˆ†å’Œæ”¹è¿›å»ºè®®',\n    innovation: 'è¯·è¯„ä¼°ä»¥ä¸‹å†…å®¹çš„åˆ›æ–°æ€§ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ†æåˆ›æ–°ç‚¹å’Œç‹¬ç‰¹ä¹‹å¤„\\n2. ä¸ç°æœ‰ç ”ç©¶å¯¹æ¯”\\n3. è¯„ä¼°åˆ›æ–°ç¨‹åº¦å’Œå­¦æœ¯ä»·å€¼',\n    method: 'è¯·è¯„ä¼°ä»¥ä¸‹æ–¹æ³•çš„åˆç†æ€§ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ†ææ–¹æ³•çš„ç§‘å­¦æ€§\\n2. è¯„ä¼°é€‚ç”¨æ€§å’Œå±€é™æ€§\\n3. æå‡ºä¼˜åŒ–å»ºè®®',\n    experiment: 'è¯·è¯„ä¼°ä»¥ä¸‹å®éªŒè®¾è®¡ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. åˆ†æå®éªŒè®¾è®¡çš„åˆç†æ€§\\n2. è¯„ä¼°å¯¹ç…§ç»„è®¾ç½®\\n3. æŒ‡å‡ºå¯èƒ½çš„æ··æ·†å› ç´ \\n4. æå‡ºæ”¹è¿›å»ºè®®',\n    clean: 'è¯·æ¸…æ´—ä»¥ä¸‹æ•°æ®ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. å»é™¤å™ªå£°å’Œå¼‚å¸¸å€¼\\n2. å¤„ç†ç¼ºå¤±å€¼\\n3. æ ‡å‡†åŒ–æ ¼å¼',\n    format: 'è¯·å°†ä»¥ä¸‹å†…å®¹è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼ï¼š\\n\\n{{input}}\\n\\nè¦æ±‚ï¼š\\n1. ç»Ÿä¸€æ ¼å¼è§„èŒƒ\\n2. ä¿æŒå†…å®¹å®Œæ•´æ€§\\n3. æé«˜å¯è¯»æ€§'\n  }\n  return prompts[template] || 'è¯·å¤„ç†ä»¥ä¸‹å†…å®¹ï¼š\\n\\n{{input}}'\n}\n\nconst removeNode = (index) => {\n  chainNodes.value.splice(index, 1)\n  if (currentNode.value && chainNodes.value.findIndex(n => n.id === currentNode.value.id) === -1) {\n    currentNode.value = chainNodes.value[0] || null\n  }\n  ElMessage.success('èŠ‚ç‚¹å·²åˆ é™¤')\n}\n\nconst moveNode = (index, direction) => {\n  const newIndex = index + direction\n  if (newIndex >= 0 && newIndex < chainNodes.value.length) {\n    const temp = chainNodes.value[index]\n    chainNodes.value[index] = chainNodes.value[newIndex]\n    chainNodes.value[newIndex] = temp\n  }\n}\n\nconst selectNode = (node) => {\n  currentNode.value = node\n}\n\nconst applyTemplate = (template) => {\n  if (currentNode.value && template) {\n    currentNode.value.prompt = getDefaultPrompt(template)\n    ElMessage.success('æ¨¡æ¿å·²åº”ç”¨')\n  }\n}\n\nconst useExample = (type) => {\n  workflowInput.value = examples[type]\n  ElMessage.success('ç¤ºä¾‹å·²åŠ è½½ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹')\n}\n\nconst executeChain = async () => {\n  if (chainNodes.value.length === 0) {\n    ElMessage.warning('è¯·å…ˆæ·»åŠ å·¥ä½œæµèŠ‚ç‚¹')\n    return\n  }\n  \n  // å¦‚æœæ²¡æœ‰è¾“å…¥å†…å®¹ï¼Œæç¤ºç”¨æˆ·\n  if (!workflowInput.value.trim()) {\n    ElMessage.warning('è¯·è¾“å…¥å·¥ä½œæµå¤„ç†å†…å®¹')\n    return\n  }\n  \n  isExecuting.value = true\n  executionProgress.value = 0\n  executionStatus.value = ''\n  executionResults.value = []\n  \n  const startTime = Date.now()\n  \n  try {\n    // é‡ç½®æ‰€æœ‰èŠ‚ç‚¹çŠ¶æ€\n    chainNodes.value.forEach(node => {\n      node.status = 'pending'\n      node.output = null\n      node.error = null\n    })\n    \n    // å‡†å¤‡èŠ‚ç‚¹é…ç½®\n    const nodesConfig = chainNodes.value.map(node => ({\n      id: node.id,\n      name: node.name,\n      type: node.type,\n      prompt: node.prompt,\n      model: node.model,\n      temperature: node.temperature,\n      maxTokens: node.maxTokens,\n      inputSource: node.inputSource,\n      outputFormat: node.outputFormat,\n      conditional: node.conditional,\n      condition: node.condition\n    }))\n    \n    // æ›´æ–°è¿›åº¦\n    executionProgress.value = 10\n    \n    // è°ƒç”¨åç«¯ API\n    const response = await api.executeWorkflow(nodesConfig, {\n      content: workflowInput.value\n    })\n    \n    if (response.success) {\n      // æ›´æ–°æ‰§è¡Œç»“æœ\n      executionResults.value = response.data.results.map((result, index) => ({\n        nodeName: result.node_name,\n        nodeType: result.node_type,\n        input: result.input_preview || '',\n        output: result.full_output || result.output_preview || '',\n        success: result.status === 'completed',\n        error: result.error,\n        expanded: index === response.data.results.length - 1\n      }))\n      \n      // æ›´æ–°èŠ‚ç‚¹çŠ¶æ€\n      response.data.results.forEach((result, index) => {\n        if (chainNodes.value[index]) {\n          chainNodes.value[index].status = result.status\n          chainNodes.value[index].output = result.full_output\n          chainNodes.value[index].error = result.error\n        }\n      })\n      \n      executionProgress.value = 100\n      executionStatus.value = 'success'\n      executionTime.value = response.data.total_time * 1000\n      \n      ElMessage.success(`å·¥ä½œæµæ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ ${response.data.total_time.toFixed(2)}s`)\n    } else {\n      throw new Error(response.error || 'æ‰§è¡Œå¤±è´¥')\n    }\n    \n  } catch (error) {\n    console.error('å·¥ä½œæµæ‰§è¡Œé”™è¯¯:', error)\n    executionStatus.value = 'exception'\n    ElMessage.error(`æ‰§è¡Œå¤±è´¥: ${error.message}`)\n    \n    // æ ‡è®°å½“å‰è¿è¡Œçš„èŠ‚ç‚¹ä¸ºé”™è¯¯çŠ¶æ€\n    const runningNode = chainNodes.value.find(n => n.status === 'running')\n    if (runningNode) {\n      runningNode.status = 'error'\n      runningNode.error = error.message\n    }\n  } finally {\n    isExecuting.value = false\n    currentExecutingNode.value = null\n  }\n}\n\n// åŠ è½½å·¥ä½œæµæ¨¡æ¿\nconst loadTemplate = async (templateId) => {\n  try {\n    const templates = {\n      summary: {\n        name: 'è®ºæ–‡åˆ†æ',\n        nodes: [\n          { name: 'æå–è¦ç‚¹', type: 'analysis', template: 'keypoints', model: 'glm-4-plus' },\n          { name: 'ç”Ÿæˆæ‘˜è¦', type: 'analysis', template: 'summary', model: 'glm-4-plus' },\n          { name: 'è¯†åˆ«ç ”ç©¶ç©ºç™½', type: 'analysis', template: 'gaps', model: 'glm-4-plus' }\n        ]\n      },\n      review: {\n        name: 'æ–‡çŒ®ç»¼è¿°',\n        nodes: [\n          { name: 'ä¸»é¢˜åˆ†æ', type: 'analysis', template: 'topic', model: 'glm-4-plus' },\n          { name: 'ç”Ÿæˆç»¼è¿°', type: 'generation', template: 'review', model: 'glm-4-plus' },\n          { name: 'è´¨é‡è¯„ä¼°', type: 'evaluation', template: 'quality', model: 'glm-4-plus' }\n        ]\n      },\n      code: {\n        name: 'ä»£ç ç”Ÿæˆ',\n        nodes: [\n          { name: 'éœ€æ±‚åˆ†æ', type: 'analysis', template: 'method_analysis', model: 'glm-4-plus' },\n          { name: 'ç”Ÿæˆä»£ç ', type: 'generation', template: 'code', model: 'glm-4-plus' },\n          { name: 'ä»£ç è¯„ä¼°', type: 'evaluation', template: 'quality', model: 'glm-4-plus' }\n        ]\n      },\n      topic: {\n        name: 'ä¸»é¢˜ç ”ç©¶',\n        nodes: [\n          { name: 'ä¸»é¢˜è¯†åˆ«', type: 'analysis', template: 'topic', model: 'glm-4-plus' },\n          { name: 'æ–¹æ³•åˆ†æ', type: 'analysis', template: 'method_analysis', model: 'glm-4-plus' },\n          { name: 'åˆ›æ–°è¯„ä¼°', type: 'evaluation', template: 'innovation', model: 'glm-4-plus' }\n        ]\n      }\n    }\n    \n    const template = templates[templateId]\n    if (template) {\n      // æ¸…ç©ºç°æœ‰èŠ‚ç‚¹\n      chainNodes.value = []\n      \n      // æ ¹æ®æ¨¡æ¿åˆ›å»ºèŠ‚ç‚¹\n      template.nodes.forEach((nodeConfig, index) => {\n        const newNode = {\n          id: `node_${Date.now()}_${index}`,\n          name: nodeConfig.name,\n          type: nodeConfig.type,\n          template: nodeConfig.template,\n          prompt: getDefaultPrompt(nodeConfig.template),\n          model: nodeConfig.model || 'glm-4-plus',\n          temperature: 0.7,\n          maxTokens: 4000,\n          inputSource: index === 0 ? 'original' : chainNodes.value[index - 1]?.id || 'original',\n          outputFormat: 'text',\n          conditional: false,\n          condition: '',\n          status: 'pending'\n        }\n        chainNodes.value.push(newNode)\n      })\n      \n      // è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªèŠ‚ç‚¹\n      if (chainNodes.value.length > 0) {\n        currentNode.value = chainNodes.value[0]\n      }\n      \n      ElMessage.success(`å·²åŠ è½½æ¨¡æ¿: ${template.name}ï¼ŒåŒ…å« ${template.nodes.length} ä¸ªèŠ‚ç‚¹`)\n    }\n  } catch (error) {\n    console.error('åŠ è½½æ¨¡æ¿å¤±è´¥:', error)\n    ElMessage.error('åŠ è½½æ¨¡æ¿å¤±è´¥')\n  }\n}\n\nconst resetChain = () => {\n  chainNodes.value.forEach(node => {\n    node.status = 'pending'\n  })\n  executionResults.value = []\n  executionProgress.value = 0\n  executionTime.value = 0\n  ElMessage.success('å·²é‡ç½®å·¥ä½œæµçŠ¶æ€')\n}\n\nconst exportResults = () => {\n  const data = JSON.stringify(executionResults.value, null, 2)\n  const blob = new Blob([data], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = `workflow-results-${Date.now()}.json`\n  a.click()\n  ElMessage.success('ç»“æœå·²å¯¼å‡º')\n}\n\nconst saveWorkflow = () => {\n  showSaveWorkflow.value = true\n}\n\nconst confirmSaveWorkflow = async () => {\n  if (!workflowName.value) {\n    ElMessage.warning('è¯·è¾“å…¥å·¥ä½œæµåç§°')\n    return\n  }\n  \n  try {\n    // è°ƒç”¨ API ä¿å­˜å·¥ä½œæµ\n    await api.saveWorkflow({\n      name: workflowName.value,\n      description: workflowDescription.value,\n      nodes: chainNodes.value\n    })\n    \n    ElMessage.success('å·¥ä½œæµä¿å­˜æˆåŠŸ')\n    showSaveWorkflow.value = false\n  } catch (error) {\n    ElMessage.error('ä¿å­˜å¤±è´¥: ' + error.message)\n  }\n}\n\nonMounted(() => {\n  // åŠ è½½é»˜è®¤æ¨¡æ¿\n  loadTemplate('summary')\n  \n  // æ˜¾ç¤ºæ¬¢è¿æç¤º\n  setTimeout(() => {\n    if (chainNodes.value.length === 0) {\n      ElMessage.info('æ¬¢è¿ä½¿ç”¨é“¾å¼å·¥ä½œæµï¼ç‚¹å‡»å·¦ä¾§æ¨¡æ¿å¿«é€Ÿå¼€å§‹ï¼Œæˆ–ç‚¹å‡»å³ä¸Šè§’ + æ·»åŠ èŠ‚ç‚¹')\n    }\n  }, 500)\n})\n</script>\n\n<style scoped>\n.chain-workflow-container {\n  display: flex;\n  height: calc(100vh - 64px);\n  background: #f5f7fa;\n  overflow: hidden;\n}\n\n/* å·¦ä¾§è¾“å…¥é¢æ¿ */\n.chain-input-panel {\n  width: 320px;\n  background: #fff;\n  border-right: 1px solid #e4e7ed;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  overflow-y: auto;\n}\n\n.chain-input-panel .panel-header {\n  padding-bottom: 12px;\n  border-bottom: 1px solid #e4e7ed;\n  margin-bottom: 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.chain-input-panel .panel-header h2 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.input-section {\n  margin-bottom: 16px;\n}\n\n.input-label {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  font-size: 14px;\n  color: #606266;\n}\n\n.input-section :deep(.el-textarea__inner) {\n  min-height: 200px;\n}\n\n.templates-section h3,\n.quick-examples h3 {\n  font-size: 14px;\n  color: #303133;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.section-hint {\n  font-size: 12px;\n  color: #909399;\n  margin-bottom: 10px;\n}\n\n.template-buttons {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.template-buttons .el-button {\n  flex: 1;\n  min-width: calc(50% - 4px);\n}\n\n.quick-examples {\n  margin-top: 20px;\n}\n\n.example-text {\n  padding: 12px;\n  background: #f5f7fa;\n  border-radius: 4px;\n  font-size: 13px;\n  color: #606266;\n  cursor: pointer;\n  transition: all 0.2s;\n  white-space: pre-wrap;\n  line-height: 1.6;\n}\n\n.example-text:hover {\n  background: #e6f7ff;\n  color: #1890ff;\n}\n\n/* ä¸­é—´é…ç½®é¢æ¿ */\n.chain-config-panel {\n  width: 320px;\n  background: #fff;\n  border-right: 1px solid #e4e7ed;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid #e4e7ed;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-title {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.panel-header h2 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.panel-header h3 {\n  margin: 0;\n  font-size: 15px;\n  font-weight: 500;\n}\n\n.nodes-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 12px;\n  position: relative;\n}\n\n.nodes-hint {\n  margin-bottom: 12px;\n}\n\n.chain-node {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px;\n  background: #fff;\n  border: 2px solid #e4e7ed;\n  border-radius: 8px;\n  margin-bottom: 8px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.chain-node:hover {\n  border-color: #409eff;\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.15);\n}\n\n.chain-node.active {\n  border-color: #409eff;\n  background: #f0f9ff;\n}\n\n.chain-node.completed {\n  border-color: #67c23a;\n}\n\n.chain-node.running {\n  border-color: #e6a23c;\n  animation: pulse 1.5s infinite;\n}\n\n.chain-node.error {\n  border-color: #f56c6c;\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.7; }\n}\n\n.node-index {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #409eff;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  font-weight: 600;\n}\n\n.node-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.node-name {\n  font-size: 14px;\n  font-weight: 500;\n  color: #303133;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.node-type {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 2px;\n}\n\n.node-status {\n  display: flex;\n  align-items: center;\n}\n\n.status-icon {\n  font-size: 18px;\n}\n\n.status-icon.success {\n  color: #67c23a;\n}\n\n.status-icon.running {\n  color: #e6a23c;\n}\n\n.status-icon.error {\n  color: #f56c6c;\n}\n\n.status-icon.pending {\n  color: #c0c4cc;\n}\n\n.node-actions {\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity 0.2s;\n}\n\n.chain-node:hover .node-actions {\n  opacity: 1;\n}\n\n.action-btn {\n  font-size: 14px;\n  color: #909399;\n  cursor: pointer;\n  padding: 2px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.action-btn:hover {\n  background: #f5f7fa;\n  color: #409eff;\n}\n\n.action-btn.delete:hover {\n  color: #f56c6c;\n}\n\n.chain-connections {\n  position: absolute;\n  left: 32px;\n  top: 80px;\n  display: flex;\n  flex-direction: column;\n  gap: 44px;\n  pointer-events: none;\n  color: #c0c4cc;\n}\n\n.connection-line {\n  font-size: 16px;\n}\n\n.panel-footer {\n  padding: 16px 20px;\n  border-top: 1px solid #e4e7ed;\n  display: flex;\n  gap: 12px;\n}\n\n.execute-btn {\n  flex: 1;\n}\n\n/* ä¸­é—´é…ç½®é¢æ¿ */\n.node-config-panel {\n  width: 380px;\n  background: #fff;\n  border-right: 1px solid #e4e7ed;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n}\n\n.node-form {\n  padding: 20px;\n}\n\n.form-hint {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 4px;\n}\n\n.slider-hint {\n  font-size: 12px;\n  color: #909399;\n  margin-top: -8px;\n}\n\n.variables-preview {\n  padding: 0 20px 20px;\n}\n\n.preview-title {\n  font-size: 13px;\n  color: #606266;\n  margin-bottom: 8px;\n  font-weight: 500;\n}\n\n.variable-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n}\n\n.variable-tag {\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.variable-tag:hover {\n  background-color: #409eff;\n  color: white;\n}\n\n.variable-hint {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 8px;\n}\n\n/* å³ä¾§æ‰§è¡Œé¢æ¿ */\n.execution-panel {\n  flex: 1;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.execution-stats {\n  display: flex;\n  gap: 8px;\n}\n\n.execution-progress {\n  padding: 20px;\n  border-bottom: 1px solid #e4e7ed;\n}\n\n.current-step {\n  margin-top: 10px;\n  font-size: 14px;\n  color: #606266;\n  text-align: center;\n}\n\n.results-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n}\n\n.result-item {\n  border: 1px solid #e4e7ed;\n  border-radius: 8px;\n  margin-bottom: 12px;\n  overflow: hidden;\n}\n\n.result-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: #f5f7fa;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.result-header:hover {\n  background: #e4e7ed;\n}\n\n.result-title {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.step-number {\n  font-size: 13px;\n  color: #909399;\n}\n\n.node-name {\n  font-weight: 500;\n  color: #303133;\n}\n\n.result-meta {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.expand-icon {\n  color: #909399;\n  transition: transform 0.2s;\n}\n\n.result-item.expanded .expand-icon {\n  transform: rotate(180deg);\n}\n\n.result-content {\n  padding: 16px;\n  background: #fff;\n}\n\n.result-section {\n  margin-bottom: 16px;\n}\n\n.result-section:last-child {\n  margin-bottom: 0;\n}\n\n.section-title {\n  font-size: 13px;\n  font-weight: 500;\n  color: #606266;\n  margin-bottom: 8px;\n}\n\n.section-content {\n  padding: 12px;\n  border-radius: 4px;\n  font-size: 13px;\n  line-height: 1.6;\n  white-space: pre-wrap;\n  word-break: break-word;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.section-content.input {\n  background: #f5f7fa;\n  color: #606266;\n}\n\n.section-content.output {\n  background: #f0f9ff;\n  color: #1890ff;\n  border: 1px solid #bae7ff;\n}\n\n.section-content.error {\n  background: #fff1f0;\n  color: #cf1322;\n  border: 1px solid #ffa39e;\n}\n\n/* ç©ºçŠ¶æ€ */\n.empty-hint {\n  text-align: left;\n  color: #606266;\n}\n\n.empty-hint p {\n  margin: 4px 0;\n}\n\n.sub-hint {\n  font-size: 13px;\n  color: #909399;\n  padding-left: 16px;\n}\n\n/* æŒ‡å—å†…å®¹ */\n.guide-content {\n  max-height: 500px;\n  overflow-y: auto;\n  padding-right: 16px;\n}\n\n.guide-content h4 {\n  color: #1890ff;\n  margin: 20px 0 12px 0;\n  font-size: 15px;\n}\n\n.guide-content h4:first-child {\n  margin-top: 0;\n}\n\n.guide-content ol,\n.guide-content ul {\n  padding-left: 20px;\n  color: #606266;\n  line-height: 1.8;\n}\n\n.guide-content li {\n  margin-bottom: 8px;\n}\n\n.guide-content code {\n  background: #f5f7fa;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: 'Monaco', 'Menlo', monospace;\n  font-size: 13px;\n  color: #1890ff;\n}\n\n/* å“åº”å¼ */\n@media (max-width: 1400px) {\n  .chain-workflow-container {\n    flex-wrap: wrap;\n  }\n  \n  .chain-input-panel,\n  .chain-config-panel,\n  .node-config-panel {\n    width: 50%;\n    min-width: 300px;\n  }\n  \n  .execution-panel {\n    width: 100%;\n    min-height: 400px;\n  }\n}\n\n@media (max-width: 768px) {\n  .chain-input-panel,\n  .chain-config-panel,\n  .node-config-panel {\n    width: 100%;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}