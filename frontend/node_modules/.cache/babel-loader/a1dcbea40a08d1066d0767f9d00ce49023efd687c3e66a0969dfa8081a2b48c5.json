{"ast":null,"code":"import { computed, unref, ref } from 'vue';\nimport { useZIndex } from '../../../../hooks/use-z-index/index.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nimport { isNumber } from '../../../../utils/types.mjs';\nconst usePopperContentDOM = (props, {\n  attributes,\n  styles,\n  role\n}) => {\n  const {\n    nextZIndex\n  } = useZIndex();\n  const ns = useNamespace(\"popper\");\n  const contentAttrs = computed(() => unref(attributes).popper);\n  const contentZIndex = ref(isNumber(props.zIndex) ? props.zIndex : nextZIndex());\n  const contentClass = computed(() => [ns.b(), ns.is(\"pure\", props.pure), ns.is(props.effect), props.popperClass]);\n  const contentStyle = computed(() => {\n    return [{\n      zIndex: unref(contentZIndex)\n    }, unref(styles).popper, props.popperStyle || {}];\n  });\n  const ariaModal = computed(() => role.value === \"dialog\" ? \"false\" : void 0);\n  const arrowStyle = computed(() => unref(styles).arrow || {});\n  const updateZIndex = () => {\n    contentZIndex.value = isNumber(props.zIndex) ? props.zIndex : nextZIndex();\n  };\n  return {\n    ariaModal,\n    arrowStyle,\n    contentAttrs,\n    contentClass,\n    contentStyle,\n    contentZIndex,\n    updateZIndex\n  };\n};\nexport { usePopperContentDOM };","map":{"version":3,"names":["usePopperContentDOM","props","attributes","styles","role","nextZIndex","useZIndex","ns","useNamespace","contentAttrs","computed","unref","popper","contentZIndex","ref","isNumber","zIndex","contentClass","b","is","pure","effect","popperClass","contentStyle","popperStyle","ariaModal","value","arrowStyle","arrow","updateZIndex"],"sources":["../../../../../../../packages/components/popper/src/composables/use-content-dom.ts"],"sourcesContent":["import { computed, ref, unref } from 'vue'\nimport { useNamespace, useZIndex } from '@element-plus/hooks'\nimport { isNumber } from '@element-plus/utils'\n\nimport type { CSSProperties, StyleValue } from 'vue'\nimport type { UsePopperReturn } from '@element-plus/hooks'\nimport type { UsePopperContentReturn } from './use-content'\nimport type { PopperContentProps } from '../content'\n\nexport const usePopperContentDOM = (\n  props: PopperContentProps,\n  {\n    attributes,\n    styles,\n    role,\n  }: Pick<UsePopperReturn, 'attributes' | 'styles'> &\n    Pick<UsePopperContentReturn, 'role'>\n) => {\n  const { nextZIndex } = useZIndex()\n  const ns = useNamespace('popper')\n\n  const contentAttrs = computed(() => unref(attributes).popper)\n  const contentZIndex = ref<number>(\n    isNumber(props.zIndex) ? props.zIndex : nextZIndex()\n  )\n  const contentClass = computed(() => [\n    ns.b(),\n    ns.is('pure', props.pure),\n    ns.is(props.effect),\n    props.popperClass,\n  ])\n  const contentStyle = computed<StyleValue[]>(() => {\n    return [\n      { zIndex: unref(contentZIndex) } as CSSProperties,\n      unref(styles).popper as CSSProperties,\n      props.popperStyle || {},\n    ]\n  })\n  const ariaModal = computed<string | undefined>(() =>\n    role.value === 'dialog' ? 'false' : undefined\n  )\n  const arrowStyle = computed(\n    () => (unref(styles).arrow || {}) as CSSProperties\n  )\n\n  const updateZIndex = () => {\n    contentZIndex.value = isNumber(props.zIndex) ? props.zIndex : nextZIndex()\n  }\n\n  return {\n    ariaModal,\n    arrowStyle,\n    contentAttrs,\n    contentClass,\n    contentStyle,\n    contentZIndex,\n\n    updateZIndex,\n  }\n}\n\nexport type UsePopperContentDOMReturn = ReturnType<typeof usePopperContentDOM>\n"],"mappings":";;;;AASa,MAAAA,mBAAA,GAAsBA,CACjCC,KACA;EACEC,UAAA;EACAC,MAAA;EACAC;AACF,CAEG;EACG;IAAEC;EAAW,IAAIC,SAAU;EAC3B,MAAAC,EAAA,GAAKC,YAAA,CAAa,QAAQ;EAEhC,MAAMC,YAAA,GAAeC,QAAS,OAAMC,KAAM,CAAAT,UAAU,EAAEU,MAAM;EAC5D,MAAMC,aAAgB,GAAAC,GAAA,CACpBC,QAAA,CAASd,KAAM,CAAAe,MAAM,CAAI,GAAAf,KAAA,CAAMe,MAAA,GAASX,UAAW,GACrD;EACM,MAAAY,YAAA,GAAeP,QAAA,CAAS,MAAM,CAClCH,EAAA,CAAGW,CAAE,IACLX,EAAG,CAAAY,EAAA,CAAG,MAAQ,EAAAlB,KAAA,CAAMmB,IAAI,GACxBb,EAAA,CAAGY,EAAG,CAAAlB,KAAA,CAAMoB,MAAM,GAClBpB,KAAM,CAAAqB,WAAA,CACP;EACK,MAAAC,YAAA,GAAeb,QAAA,CAAuB,MAAM;IACzC,QACL;MAAEM,MAAA,EAAQL,KAAM,CAAAE,aAAa;IAAE,GAC/BF,KAAA,CAAMR,MAAM,CAAE,CAAAS,MAAA,EACdX,KAAA,CAAMuB,WAAA,IAAe,EAAC,CACxB;EAAA,CACD;EACD,MAAMC,SAAY,GAAAf,QAAA,CAA6B,MAC7CN,IAAA,CAAKsB,KAAU,gBAAW,OAAU,UACtC;EACA,MAAMC,UAAa,GAAAjB,QAAA,CACjB,MAAOC,KAAA,CAAMR,MAAM,EAAEyB,KAAA,IAAS,EAAC,CACjC;EAEA,MAAMC,YAAA,GAAeA,CAAA,KAAM;IACzBhB,aAAA,CAAca,KAAA,GAAQX,QAAS,CAAAd,KAAA,CAAMe,MAAM,CAAI,GAAAf,KAAA,CAAMe,MAAA,GAASX,UAAW;EAAA,CAC3E;EAEO;IACLoB,SAAA;IACAE,UAAA;IACAlB,YAAA;IACAQ,YAAA;IACAM,YAAA;IACAV,aAAA;IAEAgB;EAAA,CACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}